{
  "pages": 50,
  "next_page": {
    "url": "https:\/\/habr.com\/api\/v1\/posts\/all?page=2",
    "int": 2
  },
  "sorted_by": "time_published",
  "data": [
    {
      "id": 572338,
      "is_corporative": 1,
      "is_tutorial": false,
      "time_published": "2021-08-12T16:00:01+03:00",
      "time_interesting": null,
      "comments_count": 0,
      "score": 0,
      "votes_count": 0,
      "favorites_count": 1,
      "lang": "ru",
      "tags_string": "GCC, C, разработка, ruvds_перевод, C++, Linux, Security",
      "title": "Использование подсказок, включаемых в исходный код, помогающих GCC выявлять случаи переполнения буфера",
      "preview_html": "Ошибки, связанные с доступом к областям памяти, которые находятся за пределами допустимого адресного пространства (out-of-bounds memory access), в 2021 году всё ещё пребывают в списке \u003Ca href=\u0022https:\/\/cwe.mitre.org\/top25\/archive\/2020\/2020_cwe_top25.html\u0022 rel=\u0022nofollow noopener noreferrer\u0022\u003Eсамых опасных уязвимостей ПО CWE Top 25\u003C\/a\u003E. Известно, что ошибочные операции записи данных (out-of-bounds write, \u003Ca href=\u0022https:\/\/cwe.mitre.org\/data\/definitions\/787.html\u0022 rel=\u0022nofollow noopener noreferrer\u0022\u003ECWE-787\u003C\/a\u003E) с двенадцатого места, которое они занимали в 2019 году, перешли в 2020 году на второе. А неправильные операции чтения данных (out-of-bounds read, \u003Ca href=\u0022https:\/\/cwe.mitre.org\/data\/definitions\/125.html\u0022 rel=\u0022nofollow noopener noreferrer\u0022\u003ECWE-125\u003C\/a\u003E) в тех же временных пределах сменили пятое место на четвёртое.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ca href=\u0022https:\/\/habr.com\/ru\/company\/ruvds\/blog\/572338\/\u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/io\/ze\/oi\/iozeoicb0k9xdcsneponrnqnqnc.jpeg\u0022\u003E\u003C\/a\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nПонимание важности раннего выявления ошибок, приводящих к вышеозначенным проблемам, привело к тому, что в свежих релизах компиляторов GNU Compiler Collection (GCC) была значительно улучшена возможность детектирования подобных ошибок. Речь идёт об использовании ключей для проведения проверок и вывода предупреждений наподобие \u003Ca href=\u0022https:\/\/gcc.gnu.org\/onlinedocs\/gcc-11.1.0\/gcc\/Warning-Options.html#index-Warray-bounds\u0022 rel=\u0022nofollow noopener noreferrer\u0022\u003E-Warray-bounds\u003C\/a\u003E, \u003Ca href=\u0022https:\/\/gcc.gnu.org\/onlinedocs\/gcc-11.1.0\/gcc\/Warning-Options.html#index-Wformat-overflow\u0022 rel=\u0022nofollow noopener noreferrer\u0022\u003E-Wformat-overflow\u003C\/a\u003E, \u003Ca href=\u0022https:\/\/gcc.gnu.org\/onlinedocs\/gcc-11.1.0\/gcc\/Warning-Options.html#index-Wstringop-overflow\u0022 rel=\u0022nofollow noopener noreferrer\u0022\u003E-Wstringop-overflow\u003C\/a\u003E и (самая свежая возможность, появившаяся в GCC 11) \u003Ca href=\u0022https:\/\/gcc.gnu.org\/onlinedocs\/gcc-11.1.0\/gcc\/Warning-Options.html#index-Wstringop-overread\u0022 rel=\u0022nofollow noopener noreferrer\u0022\u003E-Wstringop-overread\u003C\/a\u003E. Но всем этим проверкам свойственно одно и то же ограничение, связанное с тем, что система может обнаруживать проблемные ситуации лишь в пределах отдельных функций. Получается, что, за исключением анализа небольшого набора встроенных в компилятор функций, вроде \u003Ccode\u003Ememcpy()\u003C\/code\u003E, проверка прекращается на границе вызова функции. То есть, например, если буфер, объявленный в функции A, переполняется в функции B, вызванной из функции A, компилятор, если функция B не встроена в функцию A, на эту проблему не реагирует.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nВ этом материале речь пойдёт о трёх видах простых подсказок, применяемых на уровне исходного кода, которые программист может использовать для того чтобы помочь GCC выявлять операции, связанные с доступом к областям памяти, находящимся за пределами допустимого адресного пространства. Причём, эти подсказки помогают компилятору находить проблемы и при пересечении границ вызова функций, и даже тогда, когда функции определены в разных файлах с исходным кодом. \u003Cbr\u003E",
      "text_cut": "Читать дальше \u0026rarr;",
      "text_html": "Ошибки, связанные с доступом к областям памяти, которые находятся за пределами допустимого адресного пространства (out-of-bounds memory access), в 2021 году всё ещё пребывают в списке \u003Ca href=\u0022https:\/\/cwe.mitre.org\/top25\/archive\/2020\/2020_cwe_top25.html\u0022\u003Eсамых опасных уязвимостей ПО CWE Top 25\u003C\/a\u003E. Известно, что ошибочные операции записи данных (out-of-bounds write, \u003Ca href=\u0022https:\/\/cwe.mitre.org\/data\/definitions\/787.html\u0022\u003ECWE-787\u003C\/a\u003E) с двенадцатого места, которое они занимали в 2019 году, перешли в 2020 году на второе. А неправильные операции чтения данных (out-of-bounds read, \u003Ca href=\u0022https:\/\/cwe.mitre.org\/data\/definitions\/125.html\u0022\u003ECWE-125\u003C\/a\u003E) в тех же временных пределах сменили пятое место на четвёртое.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ca href=\u0022https:\/\/habr.com\/ru\/company\/ruvds\/blog\/572338\/\u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/io\/ze\/oi\/iozeoicb0k9xdcsneponrnqnqnc.jpeg\u0022\u003E\u003C\/a\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nПонимание важности раннего выявления ошибок, приводящих к вышеозначенным проблемам, привело к тому, что в свежих релизах компиляторов GNU Compiler Collection (GCC) была значительно улучшена возможность детектирования подобных ошибок. Речь идёт об использовании ключей для проведения проверок и вывода предупреждений наподобие \u003Ca href=\u0022https:\/\/gcc.gnu.org\/onlinedocs\/gcc-11.1.0\/gcc\/Warning-Options.html#index-Warray-bounds\u0022\u003E-Warray-bounds\u003C\/a\u003E, \u003Ca href=\u0022https:\/\/gcc.gnu.org\/onlinedocs\/gcc-11.1.0\/gcc\/Warning-Options.html#index-Wformat-overflow\u0022\u003E-Wformat-overflow\u003C\/a\u003E, \u003Ca href=\u0022https:\/\/gcc.gnu.org\/onlinedocs\/gcc-11.1.0\/gcc\/Warning-Options.html#index-Wstringop-overflow\u0022\u003E-Wstringop-overflow\u003C\/a\u003E и (самая свежая возможность, появившаяся в GCC 11) \u003Ca href=\u0022https:\/\/gcc.gnu.org\/onlinedocs\/gcc-11.1.0\/gcc\/Warning-Options.html#index-Wstringop-overread\u0022\u003E-Wstringop-overread\u003C\/a\u003E. Но всем этим проверкам свойственно одно и то же ограничение, связанное с тем, что система может обнаруживать проблемные ситуации лишь в пределах отдельных функций. Получается, что, за исключением анализа небольшого набора встроенных в компилятор функций, вроде \u003Ccode\u003Ememcpy()\u003C\/code\u003E, проверка прекращается на границе вызова функции. То есть, например, если буфер, объявленный в функции A, переполняется в функции B, вызванной из функции A, компилятор, если функция B не встроена в функцию A, на эту проблему не реагирует.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nВ этом материале речь пойдёт о трёх видах простых подсказок, применяемых на уровне исходного кода, которые программист может использовать для того чтобы помочь GCC выявлять операции, связанные с доступом к областям памяти, находящимся за пределами допустимого адресного пространства. Причём, эти подсказки помогают компилятору находить проблемы и при пересечении границ вызова функций, и даже тогда, когда функции определены в разных файлах с исходным кодом. \u003Cbr\u003E\r\n\u003Ca name=\u0022habracut\u0022\u003E\u003C\/a\u003E\u003Cbr\u003E\r\nА именно, речь идёт о следующих возможностях:\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003EАтрибут функций \u003Ccode\u003Eaccess\u003C\/code\u003E (он появился в GCC 10, доступен \u003Ca href=\u0022https:\/\/developers.redhat.com\/topics\/c\/\u0022\u003Eи в C, и в C++\u003C\/a\u003E).\u003C\/li\u003E\r\n\u003Cli\u003EПараметры функций, представленные массивами переменной длины (Variable-length array, VLA) (это — новая возможность, которая появилась в \u003Ca href=\u0022https:\/\/gcc.gnu.org\/gcc-11\/changes.html\u0022\u003EGCC 11\u003C\/a\u003E, доступна она лишь в C).\u003C\/li\u003E\r\n\u003Cli\u003EПараметры функций, представленные массивами (новая возможность GCC 11, она доступна лишь в C).\u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\u003E\r\n\u003Ch2\u003E\u003Cfont color=\u0022#3AC1EF\u0022\u003EАтрибут access\u003C\/font\u003E\u003C\/h2\u003E\u003Cbr\u003E\r\nПрименение атрибута \u003Ca href=\u0022https:\/\/gcc.gnu.org\/onlinedocs\/gcc\/Common-Function-Attributes.html\u0022\u003Eaccess\u003C\/a\u003E может оказаться полезным в функциях, которые, в виде одного из аргументов, принимают указатель на буфер, а в виде второго аргумента — размер буфера. Это, например, пара POSIX-функций \u003Ccode\u003Eread()\u003C\/code\u003E и \u003Ccode\u003Ewrite()\u003C\/code\u003E. Помимо того, что данный атрибут помогает программисту связать эти два параметра, он ещё и позволяет описать то, как именно функция работает с буфером. Атрибут применяется к объявлениям функций. Он используется и в местах вызова функций, и при анализе объявлений функций с целью выявления ошибочных операций доступа к памяти.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nЭтот атрибут имеет следующий синтаксис:\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003Eaccess (access-mode, ref-index)\u003C\/li\u003E\r\n\u003Cli\u003Eaccess (access-mode, ref-index, size-index)\u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\u003E\r\nЗдесь \u003Ccode\u003Eref-index\u003C\/code\u003E и \u003Ccode\u003Esize-index\u003C\/code\u003E указывают на позиционные аргументы, нумерация которых начинается с 1. Они олицетворяют собой, соответственно, буфер и его размер. Аргумент, представляющий собой буфер, \u003Ccode\u003Eref-index\u003C\/code\u003E, может быть объявлен как обычный указатель на объект, включая \u003Ccode\u003Evoid*\u003C\/code\u003E. Он, кроме того, может быть представлен в форме массива (вроде \u003Ccode\u003ET[]\u003C\/code\u003E или \u003Ccode\u003ET[N]\u003C\/code\u003E). Ему необязательно указывать на завершённый тип. Необязательный аргумент \u003Ccode\u003Esize-index\u003C\/code\u003E должен ссылаться на целочисленный аргумент, который задаёт количество элементов массива, к которому может обращаться функция. В случае с буферами незавершённых типов, таких, как \u003Ccode\u003Evoid*\u003C\/code\u003E, считается, что \u003Ccode\u003Esize-index\u003C\/code\u003E содержит сведения о количестве байтов. Если аргумент \u003Ccode\u003Esize-index\u003C\/code\u003E не указан, предполагается, что буфер содержит один элемент.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nАргумент \u003Ccode\u003Eaccess-mode\u003C\/code\u003E описывает то, как именно функция будет работать с буфером, режим доступа к нему. В GCC 11 предусмотрено четыре режима доступа к буферам:\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003EРежим \u003Ccode\u003Eread_only\u003C\/code\u003E указывает на то, что функция лишь считывает данные из предоставленного ей буфера, но ничего в него не записывает. Ожидается, что буфер будет инициализирован источником вызова функции. Режим \u003Ccode\u003Eread_only\u003C\/code\u003E обеспечивает более надёжные гарантии неизменности буфера, чем квалификатор \u003Ccode\u003Econst\u003C\/code\u003E, использованный при объявлении буфера, так как квалификатор можно снять и буфер может быть модифицирован в корректной программе, если только сам объект буфера не является неизменным. Параметр, к которому применяется режим \u003Ccode\u003Eread_only\u003C\/code\u003E, может быть объявлен с квалификатором \u003Ccode\u003Econst\u003C\/code\u003E (но это необязательно). В C99 объявление параметра как \u003Ccode\u003Eread_only\u003C\/code\u003E имеет тот же смысл, что объявление его с использованием одновременно и \u003Ccode\u003Econst\u003C\/code\u003E, и \u003Ccode\u003Erestrict\u003C\/code\u003E (правда, GCC 11 не распознаёт эти два варианта объявления параметров как равнозначные).\u003C\/li\u003E\r\n\u003Cli\u003EРежим \u003Ccode\u003Ewrite_only\u003C\/code\u003E указывает на то, что функция осуществляет только запись данных в предоставленный ей буфер, но ничего из него не читает. Буфер может быть неинициализированным. Попытка применить режим \u003Ccode\u003Ewrite_only\u003C\/code\u003E к const-параметру приводит к выдаче предупреждения и к игнорированию атрибута. Это, фактически, режим доступа, используемый по умолчанию для параметров, которым не назначен атрибут \u003Ccode\u003Eaccess\u003C\/code\u003E.\u003C\/li\u003E\r\n\u003Cli\u003EРежим \u003Ccode\u003Eread_write\u003C\/code\u003E указывает на то, что функция и читает данные из буфера, и пишет их в него. Ожидается, что функции будет предоставлен инициализированный буфер. Попытка применения режима доступа \u003Ccode\u003Eread_write\u003C\/code\u003E к параметру, объявленному с квалификатором \u003Ccode\u003Econst\u003C\/code\u003E, приведёт к выдаче предупреждения, а атрибут будет проигнорирован.\u003C\/li\u003E\r\n\u003Cli\u003EРежим \u003Ccode\u003Enone\u003C\/code\u003E говорит о том, что функция никак не работает с буфером. Буфер может быть неинициализированным. Это — режим, который появился в GCC 11, он предназначен для функций, которые выполняют валидацию аргументов без доступа к данным, хранящимся в буфере.\u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\u003E\r\nВ следующем примере демонстрируется использование атрибута \u003Ccode\u003Eaccess\u003C\/code\u003E для аннотирования POSIX-функций \u003Ccode\u003Eread()\u003C\/code\u003E и \u003Ccode\u003Ewrite()\u003C\/code\u003E:\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022cpp\u0022\u003E__attribute__ ((access (write_only, 2, 3))) ssize_t\nread (int fd, void *buf, size_t nbytes); \n__attribute__ ((access (read_only, 2, 3))) ssize_t\nwrite (int fd, const void *buf, size_t nbytes);\n\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\nФункция \u003Ccode\u003Eread()\u003C\/code\u003E сохраняет данные в предоставленный ей буфер. Поэтому в качестве режима доступа используется \u003Ccode\u003Ewrite_only\u003C\/code\u003E. Функция \u003Ccode\u003Ewrite()\u003C\/code\u003E читает данные из буфера. Поэтому тут используется режим доступа \u003Ccode\u003Eread_only\u003C\/code\u003E.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nАтрибут \u003Ccode\u003Eaccess\u003C\/code\u003E играет роль, подобную той, которую играет объявление параметра функции с использованием массива переменной длины, но использование атрибута даёт больший уровень гибкости. Помимо возможности указания режима доступа к буферу, аргумент \u003Ccode\u003Esize-index\u003C\/code\u003E может быть связан с указателем, размер которого идёт в списке аргументов функции после него. Именно так часто и происходит. Массивам переменной длины посвящён следующий раздел.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch2\u003E\u003Cfont color=\u0022#3AC1EF\u0022\u003EПараметры функций, представленные массивами переменной длины\u003C\/font\u003E\u003C\/h2\u003E\u003Cbr\u003E\r\nВ C (но, в GCC 11, не в C++), параметр функции, объявленный в виде массива, может ссылаться на неконстантное выражение, включая предыдущие параметры той же функции, используемое для задания границ массива. Когда значение, представляющее границу, является ссылкой на другой параметр функции, объявление этого параметра должно предшествовать VLA (GCC содержит расширение, позволяющее обойти это ограничение языка; дополнительные сведения об этом можно найти в соответствующем разделе \u003Ca href=\u0022https:\/\/gcc.gnu.org\/onlinedocs\/gcc-11.1.0\/gcc\/Variable-Length.html\u0022\u003Eдокументации\u003C\/a\u003E по GCC). Если подобным способом устанавливается лишь верхняя граница массива, то он становится обычным указателем, похожим на любой другой массив. В противном случае это — VLA. Так как это различие между двумя видами массивов в данном контексте является достаточно тонким, в диагностических сообщениях GCC все эти массивы называются VLA. Мы, в продолжение этого материала, тоже будем придерживаться такого вот упрощённого подхода к массивам. Например:\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022cpp\u0022\u003Evoid init_array (int n, int a[n]);\n\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\nЭта функция принимает обычный массив (или, если точнее, указатель) в качестве второго аргумента. Количество элементов этого массива задаёт первый аргумент. Хотя это, в общем-то, не нарушает требований языка, передача функции массива с меньшим числом элементов, чем указано в первом аргументе, почти наверняка указывает на ошибку. GCC проверяет вызовы подобных функций и выдаёт предупреждения в тех случаях, когда определяет, что переданные им массивы меньше, чем ожидается. Например, имеется следующая \u003Ca href=\u0022https:\/\/godbolt.org\/z\/Tha38rd6f\u0022\u003Eпрограмма\u003C\/a\u003E:\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022cpp\u0022\u003E#include \u0026lt;stdlib.h\u0026gt;\n\n#define N 32\n\nvoid init_array (int n, int a[n]);\n\nint* f (void)\n{\n    int *a = (int *)malloc (N);\n    init_array (N, a);\n    return a;\n}\n\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\nПри вызове функции \u003Ccode\u003Einit_array\u003C\/code\u003E GCC находит проблему, выдавая следующее предупреждение:\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022cpp\u0022\u003EIn function \u0027f\u0027:\nwarning: \u0027init_array\u0027 accessing 128 bytes in a region of size 32 [-Wstringop-overflow=]\n   10 |     init_array (N, a);\n      |     ^~~~~~~~~~~~~~~~~\nnote: referencing argument 2 of type \u0027int *\u0027\nnote: in a call to function \u0027init_array\u0027\n    5 | void init_array (int n, int a[n]);\n      |      ^~~~~~~~~~\n\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\nКомпилятор, выдавая это предупреждение, предполагает наличие ошибки в коде, на которую указывает то, что \u003Ccode\u003Einit_array\u003C\/code\u003E передают массив, который меньше, чем указано в первом аргументе.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nКак уже было сказано, объявление массива, когда лишь его верхняя граница задаётся переменной, на самом деле, приводит к объявлению обычного массива, а не VLA. Значение имеет лишь нижняя граница массива. Это значит, что в следующем \u003Ca href=\u0022https:\/\/godbolt.org\/z\/xvaeYhnsW\u0022\u003Eпримере\u003C\/a\u003E все объявления корректны и равноценны:\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022cpp\u0022\u003Evoid init_vla (int n, int[n]);\nvoid init_vla (int, int[32]);\nvoid init_vla (int, int*);\nvoid init_vla (int n, int[n + 1]);\n\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\nТут, правда, возникает одна проблема. Какое из этих объявлений должно быть использовано для выдачи предупреждения, связанного с доступом к элементу, лежащему за пределами границ массива? В GCC 11 реализовано решение, опирающееся на первое объявление функции, и выдающее отдельное предупреждение, \u003Ca href=\u0022https:\/\/gcc.gnu.org\/onlinedocs\/gcc-11.1.0\/gcc\/Warning-Options.html#index-Wvla-parameter\u0022\u003E-Wvla-parameter\u003C\/a\u003E, для любых последующих повторных объявлений, описывающих другое количество элементов в массиве. В результате при анализе кода, содержащего четыре вышеприведённых объявления функций, выдаются следующие предупреждения:\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022cpp\u0022\u003Ewarning: argument 2 of type \u0027int[32]\u0027 declared as an ordinary array [-Wvla-parameter]\n    2 | void init_vla (int, int[32]);\n      |                     ^~~~~~~\nwarning: argument 2 of type \u0027int *\u0027 declared as a pointer [-Wvla-parameter]\n    3 | void init_vla (int, int*);\n      |                     ^~~~\nwarning: argument 2 of type \u0027int[n + 1]\u0027 declared with mismatched bound [-Wvla-parameter]\n    4 | void init_vla (int, int[n + 1]);\n      |                     ^~~~~~~~~\nnote: previously declared as a variable length array \u0027int[n]\u0027\n    1 | void init_vla (int n, int[n]);\n      |                       ^~~~~~\n\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\n\u003Ch2\u003E\u003Cfont color=\u0022#3AC1EF\u0022\u003EПараметры функций, представленные массивами\u003C\/font\u003E\u003C\/h2\u003E\u003Cbr\u003E\r\nСовременные C-программисты, опасаясь ситуаций с выделением в стеке памяти неограниченного объёма, как правило, используют массивы переменной длины не так часто, как их можно было бы использовать. Это справедливо даже для особых случаев, вроде объявлений функций, где применение таких массивов не только безопасно, но и помогает компилятору анализировать код. В некоторых проектах, где VLA не используются, применяется более простое решение, которое заключается в объявлении параметров функций в виде обычных массивов (например — \u003Ccode\u003ET(N)\u003C\/code\u003E). При таком подходе ожидается, что вызывающая сторона предоставит функции доступ к некоему постоянному минимальному числу элементов (например — \u003Ccode\u003EN\u003C\/code\u003E). Так, стандартная C-функция \u003Ccode\u003Etmpnam()\u003C\/code\u003E ожидает, что её аргумент будет указывать на массив, в котором содержится, как минимум, \u003Ccode\u003EL_tmpnam\u003C\/code\u003E элементов. Для того чтобы выразить это ожидание в явном виде, в GNU libc 2.34 эта функция объявлена так:\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022cpp\u0022\u003Echar *tmpnam (char[L_tmpnam]);\n\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\nGCC 11 распознаёт такие конструкции. Когда компилятор выясняет, что при вызове функции ей передаётся массив, размер которого меньше, чем указано в объявлении функции, он выдаёт предупреждение. Например, учитывая то, что в Linux \u003Ccode\u003EL_tmpnam\u003C\/code\u003E равно 20, испытаем следующую функцию:\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022cpp\u0022\u003Evoid g (void)\n{\n  char a[16];\n  if (tmpnam (a))\n    puts (a);\n}\n\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\nGCC выдаст следующее предупреждение:\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022cpp\u0022\u003EIn function \u0027g\u0027:\nwarning: \u0027tmpnam\u0027 accessing 20 bytes in a region of size 16 [-Wstringop-overflow=]\n 10 | if (tmpnam (a))\n    |     ^~~~~~~~~~\nnote: referencing argument 1 of type \u0027char *\u0027\nnote: in a call to function \u0027tmpnam\u0027\n  3 | extern char* tmpnam (char[L_tmpnam]);\n    |              ^~~~~~\n\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\nGCC 11, в дополнение к вызовам функций, проверяет ещё и определения функций, в которых используются параметры-массивы, и выдаёт предупреждения при нахождении операций по работе с массивами, которые направлены на элементы, выходящие за постоянные границы массивов. Например, анализ объявления функции \u003Ccode\u003Einit_array()\u003C\/code\u003E, код которой показан ниже, приводит к выдаче \u003Ca href=\u0022https:\/\/godbolt.org\/z\/xvaeYhnsW\u0022\u003Eпредупреждения\u003C\/a\u003E \u003Ccode\u003E-Warray-bounds\u003C\/code\u003E.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nВот код функции:\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022cpp\u0022\u003Evoid init_array (int, int a[32])\n{ \n  a[32] = 0;\n}\n\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\nА вот — предупреждение:\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022cpp\u0022\u003EIn function \u0027init_array\u0027:\nwarning: array subscript 32 is outside array bounds of \u0027int[32]\u0027 [-Warray-bounds]\n    3 |   a[32] = 0;\n      |   ~^~~~\nnote: while referencing \u0027a\u0027\n    1 | void init_array (int, int a[32])\n      |                       ~~~~^~~~~\n\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\nАналогично, если речь идёт о повторных объявлениях функции с использованием VLA-параметров, GCC, кроме прочего, проверяет и их с учётом свойств параметра-массива первой функции, и выдаёт предупреждение \u003Ca href=\u0022https:\/\/gcc.gnu.org\/onlinedocs\/gcc-11.1.0\/gcc\/Warning-Options.html#index-Warray-parameter\u0022\u003E-Warray-parameter\u003C\/a\u003E в случае обнаружения несоответствий между первым объявлением и повторными объявлениями функции. Например, речь может идти о следующих объявлениях функции:\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022cpp\u0022\u003Evoid init_array (int, int[32]);\nvoid init_array (int, int[16]);\nvoid init_array (int n, int[]);\nvoid init_array (int n, int*);\n\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\nВот предупреждения, которые выдаёт GCC:\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022cpp\u0022\u003Ewarning: argument 2 of type \u0027int[16]\u0027 with mismatched bound [-Warray-parameter=]\n    2 | void init_array (int, int[16]);\n      |                       ^~~~~~~\nwarning: argument 2 of type \u0027int[]\u0027 with mismatched bound [-Warray-parameter=]\n    3 | void init_array (int n, int[]);\n      |                         ^~~~~\nwarning: argument 2 of type \u0027int *\u0027 declared as a pointer [-Warray-parameter=]\n    4 | void init_array (int n, int*);\n      |                         ^~~~\nnote: previously declared as an array \u0027int[32]\u0027\n    1 | void init_array (int, int[32]);\n      |                       ^~~~~~~\n\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\n\u003Ch2\u003E\u003Cfont color=\u0022#3AC1EF\u0022\u003EНюансы и ограничения\u003C\/font\u003E\u003C\/h2\u003E\u003Cbr\u003E\r\nТе возможности GCC, о которых мы говорили, уникальны в одном интересном аспекте. А именно, их использование предусматривает применение к коду и простого лексического анализа, и более сложного динамического анализа, опирающегося на особенности выполнения этого кода. В теории, предупреждения, опирающиеся на лексический анализ, могут быть одновременно и надёжными, и полными (то есть — они не могут быть ни ложноположительными, ни ложноотрицательными). Предупреждения \u003Ccode\u003E-Warray-parameter\u003C\/code\u003E и \u003Ccode\u003E-Wvla-parameters\u003C\/code\u003E выдаются на основе лексического анализа кода, в результате они практически не страдают от подобных проблем. А вот предупреждения, основанные на динамическом анализе кода, с другой стороны, по своей природе, не являются ни надёжными, ни полными. Такие предупреждения, напротив, могут быть и ложноположительными, и ложноотрицательными.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch3\u003E\u003Cfont color=\u0022#3AC1EF\u0022\u003E▍Ложноотрицательные предупреждения\u003C\/font\u003E\u003C\/h3\u003E\u003Cbr\u003E\r\nДля использования атрибутов \u003Ccode\u003Eaccess\u003C\/code\u003E и выявления операций, которые направлены на области памяти, находящиеся за пределами допустимого адресного пространства, функция, к которой применяются такие атрибуты, не должна быть встроенной. Если же функция встроена в источник вызова, большинство её атрибутов обычно теряется. Это может помешать GCC в детектировании ошибок тогда, когда некорректные операции доступа к памяти не могут быть надёжно выявлены, основываясь лишь на коде тела встроенной функции. Например, функция \u003Ccode\u003Egenfname()\u003C\/code\u003E из следующего примера использует, для генерирования имени временного файла в директории \u003Ccode\u003E\/tmp\u003C\/code\u003E, функцию \u003Ccode\u003Egetpid()\u003C\/code\u003E:\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022cpp\u0022\u003E#include \u0026lt;stdio.h\u0026gt;\n#include \u0026lt;unistd.h\u0026gt;\n  \ninline void genfname (char name[27])\n{\n  snprintf (name, 27, \u0026quot;\/tmp\/tmpfile%u.txt\u0026quot;, getpid ());\n}\n\nint main (void)\n{\n  char name[16];\n  genfname (name);\n  puts (name);\n}\n\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\nТак как в большинстве систем POSIX-функция \u003Ccode\u003Egetpid()\u003C\/code\u003E возвращает 32-битное целое число, самое длинное имя, которое может сгенерировать эта функция, имеет длину 26 символов (10 символов с учётом \u003Ccode\u003EINT_MAX\u003C\/code\u003E, плюс — ещё 16 с учётом строки \u003Ccode\u003E\/tmp\/tmpfile.txt\u003C\/code\u003E; тут надо учесть и ещё один байт для завершающего нуль-символа). Когда вызов \u003Ccode\u003Egenfname()\u003C\/code\u003E в \u003Ccode\u003Emain()\u003C\/code\u003E не является вызовом встроенной функции, GCC, как и ожидается, выдаёт следующее предупреждение:\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022cpp\u0022\u003EIn function \u0027main\u0027:\nwarning: \u0027f\u0027 accessing 27 bytes in a region of size 16 [-Wstringop-overflow=]\n   11 |   f (a);\n      |   ^~~~~\nnote: referencing argument 1 of type \u0027char *\u0027\nnote: in a call to function \u0027f\u0027\n    3 | inline void f (char a[27])\n      |             ^\n\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\nНо если речь идёт о вызове встроенной функции, то никакого предупреждения не выводится. \u003Ca href=\u0022https:\/\/godbolt.org\/z\/Pv6qbzd1o\u0022\u003EЗдесь\u003C\/a\u003E можно поэкспериментировать с обоими этими сценариями использования функций.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nК слову сказать, если вам интересно, почему вызов \u003Ccode\u003Esprintf()\u003C\/code\u003E не приводит к выводу предупреждения \u003Ccode\u003E-Wformat-truncation\u003C\/code\u003E, то знайте, что дело в том, что компилятор не может что-либо узнать о результатах вызова \u003Ccode\u003Egetpid()\u003C\/code\u003E.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch3\u003E\u003Cfont color=\u0022#3AC1EF\u0022\u003E▍Ложноположительные предупреждения\u003C\/font\u003E\u003C\/h3\u003E\u003Cbr\u003E\r\nВ целом можно сказать, что выявление некорректных операций доступа к памяти на основании аннотаций исходного кода, о которых мы тут говорили, подвержено тем же ограничениям и недостаткам, которые характерны для проверок кода, основанного на анализе особенностей его выполнения. Подробности об этом можно почитать \u003Ca href=\u0022https:\/\/developers.redhat.com\/blog\/2019\/03\/13\/understanding-gcc-warnings-part-2\u0022\u003Eздесь\u003C\/a\u003E. В частности, определённый интерес в этом документе могут представлять несколько часто встречающихся проблем, относящихся к механизму аннотирования функций.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nКак уже было сказано, в некоторых проектах используются параметры, представленные массивами, границы которых оформлены в виде констант. Это делается для того чтобы дать тому, кто вызывает функцию, подсказку о том, что он должен предоставить этой функции массив, в котором содержится, как минимум, столько элементов, сколько совпадает с количеством элементов в массиве-параметре. Но иногда разработчики функций не особенно строго придерживаются этого подхода. Например, функции используют массив лишь тогда, когда другой параметр имеет некое значение, а в других случаях не используют его. Так как нет ничего, что сообщило бы GCC об этой «особенности», предупреждение может быть выдано даже в том случае, если функция работает корректно. Мы рекомендуем не прибегать к вышеописанному подходу с массивами-параметрами в таких случаях.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch2\u003E\u003Cfont color=\u0022#3AC1EF\u0022\u003EЧто дальше?\u003C\/font\u003E\u003C\/h2\u003E\u003Cbr\u003E\r\nВ GCC атрибут \u003Ccode\u003Eaccess\u003C\/code\u003E можно использовать для выявления следующих проблем:\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003EДоступ к областям памяти, находящимся за пределами допустимого адресного пространства \u003Ccode\u003E(-Warray-bounds\u003C\/code\u003E, \u003Ccode\u003E-Wformat-overflow\u003C\/code\u003E, \u003Ccode\u003E-Wstringop-overflow\u003C\/code\u003E и \u003Ccode\u003E-Wstringop-overread\u003C\/code\u003E).\u003C\/li\u003E\r\n\u003Cli\u003EДоступ к перекрывающимся областям памяти (\u003Ca href=\u0022https:\/\/gcc.gnu.org\/onlinedocs\/gcc-11.1.0\/gcc\/Warning-Options.html#index-Wrestrict\u0022\u003E-Wrestrict\u003C\/a\u003E).\u003C\/li\u003E\r\n\u003Cli\u003EДоступ к неинициализированным областям памяти (\u003Ca href=\u0022https:\/\/gcc.gnu.org\/onlinedocs\/gcc-11.1.0\/gcc\/Warning-Options.html#index-Wuninitialized\u0022\u003E-Wuninitialized\u003C\/a\u003E).\u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\u003E\r\nВ будущем нам хотелось бы использовать этот атрибут для выявления переменных, в которые осуществляется запись, но из которых никогда ничего не считывается (\u003Ca href=\u0022https:\/\/gcc.gnu.org\/onlinedocs\/gcc-11.1.0\/gcc\/Warning-Options.html#index-Wunused-but-set-parameter\u0022\u003E-Wunused-but-set-parameter\u003C\/a\u003E и \u003Ca href=\u0022https:\/\/gcc.gnu.org\/onlinedocs\/gcc-11.1.0\/gcc\/Warning-Options.html#index-Wunused-but-set-variable\u0022\u003E-Wunused-but-set-variable\u003C\/a\u003E).\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nМы, кроме того, рассматриваем возможность расширения, в какой-либо форме, атрибута \u003Ccode\u003Eaccess\u003C\/code\u003E, для его применения к значениям, которые возвращают функции, а так же — к переменным. Аннотирование значений, возвращаемых функциями, позволит GCC детектировать попытки модификации иммутабельных объектов через указатели, возвращённые из функций (например — из функций \u003Ccode\u003Egetenv()\u003C\/code\u003E или \u003Ccode\u003Elocaleconv()\u003C\/code\u003E). И, аналогично, аннотирование глобальных переменных позволит выявлять попытки случайной модификации содержимого соответствующих объектов (например — это может быть массив указателей \u003Ca href=\u0022https:\/\/pubs.opengroup.org\/onlinepubs\/9699919799\/functions\/environ.html\u0022\u003Eenviron\u003C\/a\u003E, хранящий сведения о переменных окружения).\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nПользуетесь ли вы подсказками для компиляторов, которые помогают им проверять код?",
      "is_comments_hide": 0,
      "editor_version": 1,
      "hubs": [
        {
          "id": 19791,
          "alias": "ruvds",
          "title": "Блог компании RUVDS.com",
          "is_membership": false,
          "is_profiled": false,
          "is_company": true,
          "icon": "",
          "path": "company\/ruvds\/"
        },
        {
          "id": 359,
          "alias": "programming",
          "title": "Программирование",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/programming\/"
        },
        {
          "id": 559,
          "alias": "cpp",
          "title": "C++",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/cpp\/"
        },
        {
          "id": 17717,
          "alias": "c",
          "title": "C",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/c\/"
        }
      ],
      "flows": [
        {
          "id": 1,
          "name": "Разработка",
          "alias": "develop",
          "url": "https:\/\/habr.com\/ru\/flows\/develop\/",
          "path": "\/flows\/develop\/"
        }
      ],
      "is_recovery_mode": false,
      "reading_count": 6,
      "metadata": {
        "meta_image": "https:\/\/habrastorage.org\/webt\/io\/ze\/oi\/iozeoicb0k9xdcsneponrnqnqnc.jpeg",
        "lead_image": null
      },
      "path": "\/company\/ruvds\/blog\/572338\/",
      "full_url": "https:\/\/habr.com\/ru\/company\/ruvds\/blog\/572338\/",
      "author": {
        "id": 1220775,
        "login": "ru_vds",
        "time_registered": "2016-04-06T15:32:27+03:00",
        "score": 204.5,
        "fullname": null,
        "specializm": "Пользователь",
        "sex": 0,
        "rating": 175,
        "vote": 0,
        "note": {
          "text": null
        },
        "contacts": [],
        "rating_position": 0,
        "path": "\/users\/ru_vds\/",
        "geo": {
          "country": null,
          "region": null,
          "city": null
        },
        "counters": {
          "posts": 1300,
          "comments": 399,
          "followed": 0,
          "followers": 1613,
          "favorites": 1749
        },
        "badges": [
          {
            "id": 1,
            "title": "Захабренный",
            "alias": "habred",
            "description": "Пользователь с кармой \u003E0",
            "url": null,
            "is_removable": false,
            "is_disabled": false
          },
          {
            "id": 5,
            "title": "Легенда",
            "alias": "legend",
            "description": "Пользователь, опубликовавший 30 и более топиков; рейтинг каждого топика должен быть более 50 баллов",
            "url": null,
            "is_removable": false,
            "is_disabled": false
          },
          {
            "id": 7,
            "title": "Старожил",
            "alias": "oldresident",
            "description": "Пользователь, зарегистрированный более 3-х лет назад, с кармой больше 50",
            "url": null,
            "is_removable": false,
            "is_disabled": false
          },
          {
            "id": 11,
            "title": "Переводчик",
            "alias": "translator",
            "description": "Пользователь, опубликовавший не менее 5 переводов, которые набрали более 50 баллов",
            "url": null,
            "is_removable": false,
            "is_disabled": false
          }
        ],
        "avatar": "https:\/\/habrastorage.org\/getpro\/habr\/avatars\/e36\/812\/d3d\/e36812d3de38eb3d479d7a13228717ef.png",
        "is_readonly": false,
        "is_rc": false,
        "is_subscribed": false,
        "common_tags": [],
        "is_can_vote": true
      },
      "has_polls": false,
      "url": "https:\/\/habr.com\/ru\/company\/ruvds\/blog\/572338\/",
      "source_author": "Martin Sebor",
      "source_link": "https:\/\/developers.redhat.com\/articles\/2021\/06\/25\/use-source-level-annotations-help-gcc-detect-buffer-overflows",
      "post_type": 2,
      "post_type_str": "translation",
      "vote": null,
      "is_can_vote": true,
      "voting": {
        "score": 0,
        "voteCount": {
          "total": 0,
          "positive": 0,
          "negative": 0
        },
        "vote": null,
        "reasonMap": null
      },
      "is_habred": true,
      "is_interesting": false,
      "is_favorite": false,
      "comments_new": null
    },
    {
      "id": 572596,
      "is_corporative": 1,
      "is_tutorial": false,
      "time_published": "2021-08-12T15:58:22+03:00",
      "time_interesting": null,
      "comments_count": 0,
      "score": 0,
      "votes_count": 0,
      "favorites_count": 1,
      "lang": "ru",
      "tags_string": "собеседования, data engineer, data engineering, datalake, edw, postgresql, hadoop, spark, kafka, python",
      "title": "Собеседование на позицию Data Engineer в Х5: чего ждать и как лучше подготовиться",
      "preview_html": "\u003Cp\u003EВ X5 Group активно развивают цифровые продукты, построенные на основе\u0026nbsp; больших данных, использующие сложную аналитику и машинное обучение, такие как прогнозирование спроса, управление ассортиментной матрицей магазинов, предсказание отсутствия товаров на полках, динамическое ценообразования и т.п.\u0026nbsp;\u003C\/p\u003E\u003Cp\u003EДля разработки продуктов формируются автономные, кросс-функциональные команды, которые имеют минимум внешних зависимостей и могут двигаться вперед с максимальной скоростью. Одной из ключевых ролей в таких командах является роль Data Engineer.\u003C\/p\u003E",
      "text_cut": "Читать далее",
      "text_html": "\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/fa1\/fa8\/aa3\/fa1fa8aa307f90442f088a06c7779bf0.jpeg\u0022 width=\u00221920\u0022 height=\u00221080\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Ch2\u003EО направлении Data Engineering в X5\u003C\/h2\u003E\u003Cp\u003EВ X5 Group активно развивают цифровые продукты, построенные на основе\u0026nbsp; больших данных, использующие сложную аналитику и машинное обучение, такие как прогнозирование спроса, управление ассортиментной матрицей магазинов, предсказание отсутствия товаров на полках, динамическое ценообразования и т.п.\u0026nbsp;\u003C\/p\u003E\u003Cp\u003EДля разработки продуктов формируются автономные, кросс-функциональные команды, которые имеют минимум внешних зависимостей и могут двигаться вперед с максимальной скоростью. Одной из ключевых ролей в таких командах является роль Data Engineer, который помогает решать следующие задачи:\u003C\/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003EРазрабатывать быстрые и отказоустойчивые пайплайны обработки данных, выдерживающие жесткий SLA\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EОпределять оптимальный способ хранения и обновления данных для конкретной задачи, начиная с выбора СУБД и заканчивая разработкой схемы данных, удовлетворяющей модели запросов конкретного приложения.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EРазрабатывать интеграции с различными приложениями и сервисами через очереди сообщений и API\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EПодготавливать и развертывать необходимую инфраструктуру, системы мониторинга и логирования для задач по обработке данных\u003C\/p\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003Cp\u003EИспользуем мы следующий технологический стек:\u003C\/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003EDataLake на основе кластера Hadoop с 300+ нодами и 9Pb данных\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EEDW на GreenPlum с 20+ нодами и 180Tb данных\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EКластер K8S для деплоя приложений и сервисов\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EApache Spark для большинства расчетов и Apache Airflow для запуска пайплайнов по расписанию\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EPostgreSQL для типовых задач, Clickhouse - когда нужна аналитика на кончиках пальцев и Hive для различных ad-hoc запросов\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EPython, как основной рабочий язык программирования\u003C\/p\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003Ch2\u003EСтруктура собеседования\u003C\/h2\u003E\u003Cp\u003EОбычно собеседование состоит из двух этапов. На первом этапе оценивается технический уровень кандидата, обсуждаются его пожелания и устремления в части проектов, задач и т.п. По результатам первой встречи для кандидата определяется один или несколько проектов, которые лучше всего подходят к его техническому уровню и пожеланиям. После чего организуются встречи уже непосредственно с командами соответствующих проектов. Если на первом этапе основной акцент делается не техническое интервью, то на втором этапе чаще смотрим на софт-скилы и совместимость конкретной команды и кандидата, подробно обсуждаем задачи и планы конкретного проекта. В некоторых случаях на втором этапе также обсуждаются технические вопросы, если у проекта есть важная специфика или если результаты первого этапа были не очень убедительны.\u0026nbsp;\u003C\/p\u003E\u003Cp\u003E    Наиболее интересно и легко собеседования проходят тогда, когда удается построить разговор опираясь на конкретные кейсы из опыта кандидата. Обычно просим рассказать про наиболее сложные задачи и проекты, про ситуации, когда возникали проблемы и то, как эти проблемы решались. Часто, углубляясь в детали таких кейсов удается избежать точечных вопросов на знание тех\u0026nbsp; или иных нюансов и при этом получить достаточно достоверную оценку уровня кандидата\u003C\/p\u003E\u003Cp\u003EСовет: заранее подготовьте для обсуждения пару-тройку кейсов из вашего опыта, которые наиболее релевантны вакансии и которые вы считаете наиболее сложными и интересными. Не стесняйтесь рассказывать про ваши фейлы и те уроки, которые из них извлекли - это очень ценный опыт.\u003C\/p\u003E\u003Cp\u003EВ ходе интервью мы стараемся оценить кандидата по следующим направлениям:\u003C\/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003EПрограммирование на Python\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EРаспределенные системы и вычисления на Hadoop \/ Spark\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003ESQL и реляционные базы данных\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EПрочее интересное: Docker, K8S, Airflow, NoSQL, Kafka,\u0026nbsp; e.t.c.\u003C\/p\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003Cp\u003EДалее подробно остановимся на первом пункте этого списка, и поговорим про программирование на Python, а остальные пункты будут раскрыты в последующих статьях.\u003C\/p\u003E\u003Ch2\u003EПрограммирование на Python\u003C\/h2\u003E\u003Cp\u003EСовет: если у вас есть код, который можно показать, обязательно залейте его на github и дайте ссылку в резюме.\u003C\/p\u003E\u003Cp\u003EКогда мы говорим про программирование на Python, то начинаем с того, что хотим понять насколько свободно вы владеете базовыми возможностями языка. Все более сложные темы стоит затрагивать только если кандидат в состоянии написать несколько строк кода и знаком с парой основных структур данных.\u003C\/p\u003E\u003Cp\u003EДля проверки этого навыка мы обычно просим кандидата решить простую, на наш взгляд задачу, где требуется написания лишь нескольких строк код. В качестве примера можно привести задачу реализации класса для эффективного вычисления скалярного произведения разреженных векторов\u003C\/p\u003E\u003Cp\u003EСовет: если у вас есть код, который можно показать, обязательно залейте его на github и дайте ссылку в резюме.\u003C\/p\u003E\u003Cp\u003EКогда мы говорим про программирование на Python, то начинаем с того, что хотим понять насколько свободно вы владеете базовыми возможностями языка. Все более сложные темы стоит затрагивать только если кандидат в состоянии написать несколько строк кода и знаком с парой основных структур данных.\u003C\/p\u003E\u003Cp\u003EДля проверки этого навыка мы обычно просим кандидата решить простую, на наш взгляд задачу, где требуется написания лишь нескольких строк код. В качестве примера можно привести задачу реализации класса для эффективного вычисления скалярного произведения разреженных векторов\u003C\/p\u003E\u003Cp\u003EСовет: если у вас есть код, который можно показать, обязательно залейте его на github и дайте ссылку в резюме.\u003C\/p\u003E\u003Cp\u003EКогда мы говорим про программирование на Python, то начинаем с того, что хотим понять насколько свободно вы владеете базовыми возможностями языка. Все более сложные темы стоит затрагивать только если кандидат в состоянии написать несколько строк кода и знаком с парой основных структур данных.\u003C\/p\u003E\u003Cp\u003EДля проверки этого навыка мы обычно просим кандидата решить простую, на наш взгляд задачу, где требуется написания лишь нескольких строк код. В качестве примера можно привести задачу реализации класса для эффективного вычисления скалярного произведения разреженных векторов.\u003C\/p\u003E\u003Cpre\u003E\u003Ccode class=\u0022python\u0022\u003Eclass SparseVector:\n    def __init__(self, nums: List[int]):\n        self.nums = nums\n\n    def dotProduct(self, vec: \u0027SparseVector\u0027) -\u0026gt; int:\n        return sum([x*y for x, y in zip(self.nums, vec.nums)])\u003C\/code\u003E\u003C\/pre\u003E\u003Cp\u003EПри этом кандидат также способен, предложить и реализовать более эффективное решение, учитывающее особенности обращения с разреженными векторами, например с использование словаря для хранения ненулевых элементов и их индексов\u003C\/p\u003E\u003Cpre\u003E\u003Ccode class=\u0022python\u0022\u003Eclass SparseVector:\n    def __init__(self, nums: List[int]):\n        self.nums = {i: n for i, n in enumerate(nums) if n != 0}\n\n    def dotProduct(self, vec: \u0027SparseVector\u0027) -\u0026gt; int:\n        result = 0\n        for i, n in self.nums.items():\n            result += n * vec.nums.get(i, 0)\n        return result\u003C\/code\u003E\u003C\/pre\u003E\u003Cp\u003EСовет: если вы продолжительное время не программировали на Python и данная задача вызывает у вас небольшой ступор, то определенно стоит потратить время, размять руки и освежить ваши навыки написания кода на Python.\u0026nbsp;\u003C\/p\u003E\u003Cp\u003EЕсли решение данной задачи не вызывает у кандидата особых проблем, то далее мы можем предложить:\u003C\/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003Eпоговорить про стандартные типы данных в Python и как они реализованы\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003Eобсудить ваш опыт асинхронного программирования и провести ревью небольшого фрагмента кода\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003Eрешить чуть более сложную задачу, например сделать собственную реализацию функции zip\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003Eи т.п.\u003C\/p\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003Cp\u003EЗдесь уже речь идет не о том, что необходимо глубоко разбираться во всех этих темах, а том, чтобы заработать дополнительные очки в ходе интервью, если ваш опыт программирования на Python распространяется дальше владения базовыми возможностями языка.\u0026nbsp;\u003C\/p\u003E\u003Cp\u003EСовет: если у вас есть опыт backend-разработки на Python (асинхронное программирование, микросервисы, работа с высоконагруженными приложениями и т.п.) то обязательно расскажите про это.\u0026nbsp; Мы считаем подобный опыт весьма ценным.\u003C\/p\u003E\u003Cp\u003EПродолжение следует.\u0026nbsp; \u003C\/p\u003E",
      "is_comments_hide": 0,
      "editor_version": 2,
      "hubs": [
        {
          "id": 22144,
          "alias": "X5RetailGroup",
          "title": "Блог компании X5 Retail Group",
          "is_membership": false,
          "is_profiled": false,
          "is_company": true,
          "icon": "",
          "path": "company\/x5retailgroup\/"
        },
        {
          "id": 340,
          "alias": "python",
          "title": "Python",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/python\/"
        },
        {
          "id": 594,
          "alias": "sql",
          "title": "SQL",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/sql\/"
        },
        {
          "id": 17697,
          "alias": "apache",
          "title": "Apache",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/apache\/"
        },
        {
          "id": 22374,
          "alias": "data_engineering",
          "title": "Data Engineering",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/data_engineering\/"
        }
      ],
      "flows": [
        {
          "id": 1,
          "name": "Разработка",
          "alias": "develop",
          "url": "https:\/\/habr.com\/ru\/flows\/develop\/",
          "path": "\/flows\/develop\/"
        },
        {
          "id": 6,
          "name": "Администрирование",
          "alias": "admin",
          "url": "https:\/\/habr.com\/ru\/flows\/admin\/",
          "path": "\/flows\/admin\/"
        }
      ],
      "is_recovery_mode": false,
      "reading_count": 37,
      "metadata": {
        "meta_image": "https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/ac8\/62f\/a79\/ac862fa79e748c6d0de1ffdaa44f1342.jpeg",
        "lead_image": "https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/ac8\/62f\/a79\/ac862fa79e748c6d0de1ffdaa44f1342.jpeg",
        "lead_image_info": {
          "url": "https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/ac8\/62f\/a79\/ac862fa79e748c6d0de1ffdaa44f1342.jpeg",
          "fit": "cover",
          "positionY": 0,
          "positionX": 0
        }
      },
      "path": "\/company\/X5RetailGroup\/blog\/572596\/",
      "full_url": "https:\/\/habr.com\/ru\/company\/X5RetailGroup\/blog\/572596\/",
      "author": {
        "id": 1879295,
        "login": "X5RetailGroup",
        "time_registered": "2018-11-12T11:04:34+03:00",
        "score": 19,
        "fullname": null,
        "specializm": "Пользователь",
        "sex": 0,
        "rating": 14.3,
        "vote": 0,
        "note": {
          "text": null
        },
        "contacts": [],
        "rating_position": 301,
        "path": "\/users\/x5retailgroup\/",
        "geo": {
          "country": null,
          "region": null,
          "city": null
        },
        "counters": {
          "posts": 56,
          "comments": 92,
          "followed": 0,
          "followers": 120,
          "favorites": 3
        },
        "badges": [
          {
            "id": 1,
            "title": "Захабренный",
            "alias": "habred",
            "description": "Пользователь с кармой \u003E0",
            "url": null,
            "is_removable": false,
            "is_disabled": false
          }
        ],
        "avatar": "https:\/\/habrastorage.org\/getpro\/habr\/avatars\/d5d\/a5a\/650\/d5da5a65050dfedae87ae78bca4ee2b3.png",
        "is_readonly": false,
        "is_rc": false,
        "is_subscribed": false,
        "common_tags": [],
        "is_can_vote": true
      },
      "has_polls": false,
      "url": "https:\/\/habr.com\/ru\/company\/X5RetailGroup\/blog\/572596\/",
      "post_type": 1,
      "post_type_str": "simple",
      "vote": null,
      "is_can_vote": true,
      "voting": {
        "score": 0,
        "voteCount": {
          "total": 0,
          "positive": 0,
          "negative": 0
        },
        "vote": null,
        "reasonMap": null
      },
      "is_habred": true,
      "is_interesting": false,
      "is_favorite": false,
      "comments_new": null
    },
    {
      "id": 572604,
      "is_corporative": 1,
      "is_tutorial": false,
      "time_published": "2021-08-12T15:47:28+03:00",
      "time_interesting": null,
      "comments_count": 0,
      "score": 0,
      "votes_count": 0,
      "favorites_count": 0,
      "lang": "ru",
      "tags_string": "youtrack, kanban, management, pvs-studio",
      "title": "Kanban команды PVS-Studio. Часть 2: YouTrack",
      "preview_html": "\u003Cp\u003EПривет всем. Это продолжение истории про переход команды PVS-Studio на работу по методике kanban. На этот раз речь пойдет про YouTrack, как мы выбирали и внедряли этот трекер задач и с какими вызовами столкнулись в процессе. Статья не имеет цели рекламировать или ругать YouTrack. Тем не менее замечу, что по мнению нашей команды ребята из JetBrains проделали (и продолжают делать) отличную работу.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/post_images\/01d\/3ca\/a5d\/01d3caa5db15d5e5e3d7a7529778cefd.png\u0022 alt=\u00220853_Kanban_YouTrack_ru\/image1.png\u0022\u003E\u003C\/p\u003E",
      "text_cut": "Читать дальше \u0026rarr;",
      "text_html": "\u003Cp\u003EПривет всем. Это продолжение истории про переход команды PVS-Studio на работу по методике kanban. На этот раз речь пойдет про YouTrack, как мы выбирали и внедряли этот трекер задач и с какими вызовами столкнулись в процессе. Статья не имеет цели рекламировать или ругать YouTrack. Тем не менее замечу, что по мнению нашей команды ребята из JetBrains проделали (и продолжают делать) отличную работу.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/post_images\/01d\/3ca\/a5d\/01d3caa5db15d5e5e3d7a7529778cefd.png\u0022 alt=\u00220853_Kanban_YouTrack_ru\/image1.png\u0022\u003E\u003C\/p\u003E\u003Ca name=\u0022habracut\u0022\u003E\u003C\/a\u003E\u003Cbr\u003E\r\n\u003Cp\u003EПро историю перехода на kanban и о предпосылках смены трекера задач я рассказывал в предыдущей статье \u0026quot;\u003Ca href=\u0022https:\/\/habr.com\/ru\/company\/pvs-studio\/blog\/549964\/\u0022\u003EKanban команды PVS-Studio. Часть 1: agile\u003C\/a\u003E\u0026quot;. Рекомендую ознакомиться с ней для лучшего понимания некоторых аспектов текущей статьи. Также хочу заметить, что здесь я не планирую подробно рассказывать обо всех особенностях \u003Ca href=\u0022https:\/\/www.jetbrains.com\/youtrack\/\u0022\u003EYouTrack\u003C\/a\u003E, так как их очень много. При желании вы можете заглянуть в \u003Ca href=\u0022https:\/\/www.jetbrains.com\/help\/youtrack\/incloud\/YouTrack-InCloud.html\u0022\u003Eдокументацию\u003C\/a\u003E и убедиться в этом сами. Думаю, статья будет интересна в первую очередь тем, кто планирует или уже использует этот трекер.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Ch2 id=\u0022predystoriya\u0022\u003EПредыстория\u003C\/h2\u003E\u003Cbr\u003E\r\n\u003Cp\u003EЕсли вам не хочется читать первую часть статьи, то вот краткая предыстория. После внедрения методики kanban нам очень понравилась идея использования kanban-доски для проведения ежедневных митингов. Однако в связи с переходом на удаленный режим работы наша первоначальная физическая доска оказалась не у дел. Немного помучавшись, мы решили форсировать работы по выбору и внедрению альтернативного трекера задач на замену Bitbucket. При выборе отдавалось предпочтение инструментам с электронной доской. На самом деле, выбор изначально был между YouTrack и чем-то другим, так как YouTrack активно лоббировался тимлидом нашей С++ команды (Филипп, привет). В качестве основного конкурента YouTrack рассматривали Jira, но в итоге остановились всё же на YouTrack.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EBitbucket в команде PVS-Studio мы использовали с середины 2014 года. Долгое время он нас вполне устраивал. Но с ростом размера компании мы столкнулись с рядом неудобств, вызванных отсутствием или сложностью реализации некоторых возможностей:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003Eрасширенная настройка оповещений;\u003C\/li\u003E\r\n\u003Cli\u003Eнастраиваемые рабочие процессы;\u003C\/li\u003E\r\n\u003Cli\u003Eсвязи между задачами;\u003C\/li\u003E\r\n\u003Cli\u003Eучёт времени;\u003C\/li\u003E\r\n\u003Cli\u003Eотчёты;\u003C\/li\u003E\r\n\u003Cli\u003Eagile-доски.\u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\u003E\r\n\u003Cp\u003EДаже при поверхностном изучении YouTrack оказалось, что все эти возможности там доступны уже \u0026quot;из коробки\u0026quot;. Воодушевленные, мы приступили к процессу перехода на новый инструмент.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Ch2 id=\u0022podgotovka\u0022\u003EПодготовка\u003C\/h2\u003E\u003Cbr\u003E\r\n\u003Cp\u003EКак я уже упоминал в первой части статьи, за время работы с Bitbucket там было создано более 5500 задач. Конечно, было бы неплохо перенести их в YouTrack, но сделать это оказалось не так-то просто.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EСо стороны Bitbucket относительно безболезненный экспорт задач \u003Ca href=\u0022https:\/\/support.atlassian.com\/bitbucket-cloud\/docs\/export-or-import-issue-data\/\u0022\u003Eвозможен\u003C\/a\u003E только в Jira. Альтернативный вариант – выгрузка задач при помощи Bitbucket API в промежуточный json определенного \u003Ca href=\u0022https:\/\/support.atlassian.com\/bitbucket-cloud\/docs\/issue-import-and-export-data-format\/\u0022\u003Eформата\u003C\/a\u003E. При этом процесс сохранения всего репозитория в zip-архив через меню экспорта Bitbucket в любом браузере намертво зависает через какое-то время. На тематических форумах говорят, что это старая проблема, связанная с новой версией API Bitbucket. Таким образом, единственным рабочим вариантом является выгрузка задач по одной при помощи скрипта в тот же json (в сети можно найти несколько подобных скриптов). Но это только половина дела. С другой стороны, в YouTrack \u003Ca href=\u0022https:\/\/www.jetbrains.com\/help\/youtrack\/standalone\/imports.html\u0022\u003Eпредлагается\u003C\/a\u003E импорт задач из Jira, а также некоторых других систем, среди которых нет Bitbucket. Остается аналогичный вариант с импортом через \u003Ca href=\u0022https:\/\/www.jetbrains.com\/help\/youtrack\/incloud\/custom-imports.html\u0022\u003Ejson\u003C\/a\u003E. Для этого источник данных нужно подготовить, преобразовав json от Bitbucket с учётом всех различий в форматах данных.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EВ итоге предполагаемая трудоёмкость этой работы значительно превысила наше желание иметь архив старых задач непосредственно в YouTrack. Решили вручную перенести из Bitbucket в YouTrack около сотни ещё не начатых задач (бэклог), а также пару десятков задач, которые уже были взяты в работу, но приостановлены. Bitbucket по итогу мы оставили в качестве архива с доступом у пяти сотрудников в рамках бесплатного тарифа.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EОпределившись с задачами, начали работы по созданию нашего первого рабочего проекта в YouTrack. Остановились на стандартном облачном варианте, поэтому первоначальная настройка не потребовала много времени. До этого у нас уже был тестовый репозиторий YouTrack, так что в целом мы неплохо представляли как устроена эта система. К тому же YouTrack предоставляет множество обучающих возможностей, включающих тестовый проект с подробным описанием всех особенностей трекера, а также подсказки интерфейса.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EПоначалу обилие возможностей YouTrack немного сбивало с толку. Также чувствовался иной по сравнению с Bitbucket подход к организации работы с трекером. Если Bitbucket практически закрыт с точки зрения настройки пользователем, то в YouTrack ситуация прямо противоположна. Уведомления, сохраненные поиски, отчёты, agile-доски, статьи для внутреннего портала \u0026quot;Knowledge Base\u0026quot; — всё это можно при необходимости настроить самостоятельно.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EХочу отметить, что в процессе перехода на YouTrack мы не столкнулись с какими-то серьёзными техническими трудностями или неразрешимыми проблемами. В итоге удалось реализовать все наши \u0026quot;хотелки\u0026quot;. Более того, начав плотно работать с YouTrack, мы открыли для себя много дополнительных возможностей. Точнее, смогли оценить их реальную пользу. Например, отчёты о затраченном времени. Такие отчёты позволяют посмотреть, какие сотрудники в принципе принимали участие в работе над определенной задачей, а не просто создали или закрыли ее. Про фишки учёта времени в YouTrack я расскажу далее.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EЕще одним побочным эффектом стало то, что переход на новый трекер буквально заставил нас навести порядок во многих наших бизнес-процессах. Появились новые подходы к работе, о которых ранее мы даже не задумывались.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EЕсли говорить о технической части, то немного повозиться пришлось с доработкой рабочих процессов (Workflows), которые в YouTrack реализованы на JavaScript. Но основная работа носила административный характер:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003Eопределение очередности перехода: вся команда сразу или по отделам;\u003C\/li\u003E\r\n\u003Cli\u003Eвыбор архитектуры: один проект для всех или разные проекты для разработки и маркетинга, например;\u003C\/li\u003E\r\n\u003Cli\u003Eсоздание пользователей, настройка ролей и групп;\u003C\/li\u003E\r\n\u003Cli\u003Eбазовая настройка проекта, определение прав доступа;\u003C\/li\u003E\r\n\u003Cli\u003Eнастройка структуры полей;\u003C\/li\u003E\r\n\u003Cli\u003Eсоздание и настройка kanban-досок;\u003C\/li\u003E\r\n\u003Cli\u003Eвыбор стратегии учёта времени;\u003C\/li\u003E\r\n\u003Cli\u003Eнастройка рабочих процессов;\u003C\/li\u003E\r\n\u003Cli\u003Eотчёты;\u003C\/li\u003E\r\n\u003Cli\u003Eобучение сотрудников.\u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\u003E\r\n\u003Cp\u003EДалее в ходе изложения я буду придерживаться этого плана работ.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Ch2 id=\u0022ocheryodnost-perehoda-organizaciya-proektov\u0022\u003EОчерёдность перехода, организация проектов\u003C\/h2\u003E\u003Cbr\u003E\r\n\u003Cp\u003EОсновной вопрос перехода на YouTrack для нас состоял в том, какую часть команды мигрировать вначале. Переводить сразу всех мы опасались. Слишком много доработок пришлось бы делать с участием большого количества пользователей. Выбор пал на отдел маркетинга. Во-первых, это отдел, который наравне с разработчиками уже давно привык использовать kanban в повседневной работе. Во-вторых, там около десяти сотрудников, а этого вполне достаточно чтобы опробовать все основные сценарии работы с новым трекером. Наконец, \u003Cdel\u003Eих было просто не так жалко\u003C\/del\u003E наш отдел маркетинга очень креативен и весьма гибок по части нововведений. Хочу выразить отдельное спасибо руководителю отдела Екатерине за бесконечное терпение и поддержку на этапе экспериментов с YouTrack. :)\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EДругой вопрос заключался в том, делать ли нам один проект на всю команду или разделить проекты по направлениям работы (отделам). YouTrack предлагает удобные средства для работы с несколькими проектами одновременно, и поначалу нам показалась разумной идея отделить разработку от маркетинга. Можно было бы разделить сущности и таким образом уменьшить общий объём значений в полях, количество тэгов и т. п., что в итоге упростило бы работу с трекером для пользователей. Но был очень важный аргумент против: наши задачи постоянно переназначаются между сотрудниками маркетинга и разработкой. Пример – задача про написание статьи. Первоначально статья пишется, допустим, разработчиком отдела С++. Далее она попадает на сотрудников отдела маркетинга для вычитывания и перевода. Затем снова возвращается автору для публикации. Наконец, после публикации задача вновь назначается на отдел маркетинга для дальнейшего продвижения в соцсетях и на тематических сайтах. Таким образом, наличие двух проектов осложнило бы процесс совместной работы. YouTrack умеет перемещать задачи между проектами, но при этом рекомендуется соблюдать соответствие между полями проектов. А ещё есть рабочие процессы, которые привязаны к проекту и также зависят от полей.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EВ итоге мы решили создать один общий проект и сразу настраивать его с учётом возможности одновременной работы всех команд. А переход начать с отдела маркетинга. Так третьего декабря 2020 года был создан проект \u0026quot;Marketing\u0026quot;, впоследствии переименованный в \u0026quot;PVS-Studio\u0026quot;.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/post_images\/3b9\/f3c\/3bd\/3b9f3c3bd80b0269222f97e428f22de6.png\u0022 alt=\u00220853_Kanban_YouTrack_ru\/image3.png\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Ch2 id=\u0022polzovateli-gruppy-roli\u0022\u003EПользователи, группы, роли\u003C\/h2\u003E\u003Cbr\u003E\r\n\u003Cp\u003EИдеология работы с пользователями, группами и правами доступа (ролями) в YouTrack довольно проста, но имеет особенности. Поэтому я остановлюсь на этом вопросе подробнее. Начнём с иерархии.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EОблачная реализация YouTrack является одним из сервисов в инфраструктуре JetBrains для командных продуктов. Все такие сервисы объединены в единое целое, могут управляться и обмениваться данными через связующий сервис верхнего уровня \u003Ca href=\u0022https:\/\/www.jetbrains.com\/hub\/\u0022\u003EJetBrains Hub\u003C\/a\u003E. Там же содержатся все общие настройки, такие как глобальные права доступа, пользователи, группы. Они называются ресурсами. \u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EРодительским для всех проектов является проект c именем \u0026quot;Global\u0026quot;. Все создаваемые группы по умолчанию предлагается добавлять как ресурсы к этому проекту. Это позволит использовать их во всех дочерних проектах. Вы можете ограничить видимость группы, добавив ее в конкретный проект.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/post_images\/e17\/a01\/cb2\/e17a01cb2bd44ba4f4c8251167252467.png\u0022 alt=\u00220853_Kanban_YouTrack_ru\/image4.png\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EИерархия групп по умолчанию представлена родительской группой \u0026quot;All Users\u0026quot;, куда включены вообще все пользователи. Также есть подгруппа \u0026quot;Registered Users\u0026quot; с признаком автоматического добавления в нее новых пользователей после регистрации. Группы пользователей YouTrack можно использовать для разграничения доступа, в запросах на выборку задач, в рабочих процессах.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EТак как мы решили использовать один проект, задача разграничения доступа при помощи групп у нас не стояла. Тем не менее мы добавили несколько групп, которые отражают структуру отделов компании.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/post_images\/81e\/f1a\/f47\/81ef1af473268c56aec8f241206e6f38.png\u0022 alt=\u00220853_Kanban_YouTrack_ru\/image6.png\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EЭти группы мы используем главным образом при рассылке уведомлений из рабочих процессов, чтобы уведомление, например, о просроченной задаче получал не только сотрудник, но и его непосредственный руководитель. Реализовали это просто. В группу \u0026quot;Managers\u0026quot; включены все тимлиды. Группа каждого отдела, помимо сотрудников, также содержит одного или нескольких тимлидов. При отправке уведомления пользователю проверяем, в какой группе тот состоит. Если в группе \u0026quot;Managers\u0026quot;, то сообщение получит только он. Иначе, производится поиск рабочей группы пользователя. Уведомление получит как пользователь, так и все тимлиды, состоящие в его рабочей группе. Более подробно про наши рабочие процессы я расскажу далее.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EВернёмся к списку групп. Обратите внимание, все группы относятся к проекту \u0026quot;Global\u0026quot; (являются его ресурсами), а группе \u0026quot;Registered Users\u0026quot; назначена роль \u0026quot;Global Observer\u0026quot;. Роль в YouTrack – это именованный набор (контейнер) разрешений двух типов: \u0026quot;Hub\u0026quot; и \u0026quot;YouTrack\u0026quot;. Тип \u0026quot;Hub\u0026quot; содержит доступы для работы с глобальными сущностями: группы, проекты, роли, пользователи и т.п. Тип \u0026quot;YouTrack\u0026quot; предназначен для настройки доступа к возможностям трекера: работа с задачами (создание, комментирование, добавление вложений и т.п.), отчёты, сохраненные списки и т.п. Мы не стали создавать дополнительных ролей. Имеющихся по умолчанию вполне хватает для работы.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/post_images\/d5e\/da2\/23c\/d5eda223c5a8f46bc508fb0c409c64fd.png\u0022 alt=\u00220853_Kanban_YouTrack_ru\/image8.png\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EКаждый новый пользователь будет автоматически добавлен в группу \u0026quot;Registered Users\u0026quot; и в соответствии с ролью \u0026quot;Global Observer\u0026quot; получит минимальный набор из трёх разрешений.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/post_images\/ba1\/435\/d5e\/ba1435d5efe0629d3a0e568122f5d5d9.png\u0022 alt=\u00220853_Kanban_YouTrack_ru\/image9.png\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EЭто разрешения уровня \u0026quot;Hub\u0026quot;. Нам хотелось максимально автоматизировать процесс добавления новых пользователей, чтобы они сразу получали нужный набор разрешений для работы с проектом \u0026quot;PVS-Studio\u0026quot; (уровень разрешений \u0026quot;YouTrack\u0026quot;). Давайте посмотрим, как это было реализовано. Откроем свойства группы \u0026quot;Registered Users\u0026quot;.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/post_images\/3a3\/c12\/4df\/3a3c124df3d2821549203b2c9b3a8c77.png\u0022 alt=\u00220853_Kanban_YouTrack_ru\/image11.png\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EВидите, помимо роли \u0026quot;Observer\u0026quot; группе также назначена роль \u0026quot;Developer\u0026quot; в проекте \u0026quot;PVS-Studio\u0026quot;. В YouTrack эта роль предлагается по умолчанию для работы с проектом. Она унаследована от родительской группы \u0026quot;All Users\u0026quot;, для которой мы её назначили явно.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/post_images\/c92\/9a3\/619\/c929a361931a4930a2d139d6b815ddf0.png\u0022 alt=\u00220853_Kanban_YouTrack_ru\/image13.png\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EВ общем, довольно бесхитростно. Это были настройки непосредственно групп. Давайте ещё посмотрим, как это выглядит в настройках проекта, чтобы получить полную картину с разрешениями в YouTrack.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EУ проекта есть такое понятие, как команда. Это группа пользователей, которые могут работать с проектом в соответствии с заданными ролями. У нашего проекта эта настройка выглядит так.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/post_images\/078\/50f\/2ad\/07850f2ade4dc6bbc421cca91307ba30.png\u0022 alt=\u00220853_Kanban_YouTrack_ru\/image15.png\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EНичего неожиданного. Видим ту же группу \u0026quot;All Users\u0026quot; и командную роль \u0026quot;Developer\u0026quot;. Уровень доступа для участников команды можно настроить (ссылка \u0026quot;Edit\u0026quot;), задав одну или несколько ролей.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/post_images\/245\/baa\/60d\/245baa60dd86c841c3e87a6dc7837015.png\u0022 alt=\u00220853_Kanban_YouTrack_ru\/image16.png\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EНаконец, чтобы увидеть, кто имеет доступ к проекту, необходимо перейти на соседнюю вкладку \u0026quot;Access\u0026quot; в свойствах проекта.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/post_images\/6be\/f5f\/f15\/6bef5ff15e675ec5b08ab9b8835b6ec0.png\u0022 alt=\u00220853_Kanban_YouTrack_ru\/image18.png\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EЗдесь отображаются не только командные доступы, но и назначенные напрямую роли, а также глобальные доступы.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EРоли могут быть дополнительно настроены. Так как у нас одна роль \u0026quot;Developer\u0026quot; для всех пользователей проекта, меняли только её настройки. Внесли незначительные правки для уровня разрешений \u0026quot;Hub\u0026quot;, а именно: добавили возможность чтения групп. Это позволило пользователям при желании использовать группы в произвольных фильтрах задач. Обратите внимание, если настройка отличается от дефолтной (была изменена), это будет указано справа от чек-бокса.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/post_images\/3d8\/888\/9ff\/3d88889ff4e5d7e59d4a0a7fa40173c4.png\u0022 alt=\u00220853_Kanban_YouTrack_ru\/image20.png\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EПомимо этого, мы внесли изменения и для уровня доступа \u0026quot;YouTrack\u0026quot; роли \u0026quot;Developer\u0026quot;. Разрешили вносить правки в чужие статьи внутреннего портала \u0026quot;Knowledge Base\u0026quot;, а также удалять и обновлять комментарии к статьям. Запретили удалять задачи, такая возможность у нас доступна только администраторам. Также отключили видимость приватных полей. Пример такого поля у нас – сохраняемое значение таймера задачи (дата и время), которое используется при учёте затраченного времени.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/post_images\/01d\/70b\/3c9\/01d70b3c905ae8e21549a26cf5166f03.png\u0022 alt=\u00220853_Kanban_YouTrack_ru\/image21.png\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EНу и пара слов про пользователей. Задача создания пользователей и назначения им прав достаточно тривиальна. Нужно запросить требуемое число лицензий в глобальных настройках трекера, создать пользователей, задать им email и временные пароли. Кстати, YouTrack не учитывает лицензии для заблокированных пользователей. Это позволило нам на начальном этапе миграции создать всю структуру компании, а разблокированными оставить только пользователей-маркетологов, не запрашивая дополнительных лицензий до момента миграции всех остальных.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EПереходим к настройке ключевого компонента любого трекера – полям задачи.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Ch2 id=\u0022polya-tegi\u0022\u003EПоля, теги\u003C\/h2\u003E\u003Cbr\u003E\r\n\u003Cp\u003EИзначально в YouTrack предполагалось создать такую же структуру полей, как в Bitbucket. А затем уже вносить изменения в соответствии с возникающими потребностями. Но просто так сделать это не удалось. Дело в том, что наша старая физическая kanban-доска была своего рода виртуальной надстройкой над Bitbucket. Поэтому многое из того, что мы использовали на физической доске (дополнительные состояния задачи, цвета карточек), просто отсутствовало в Bitbucket.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EВ свою очередь, электронная agile-доска в YouTrack базируется на сущностях, которые должны быть настроены в трекере. И доску мы хотели начать использовать сразу. Таким образом, стояла задача доработки привычной нам структуры полей с учётом отображения их на электронной доске, то есть некая компиляция полей Bitbucket и сущностей физической доски. \u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EНе буду утомлять подробным описанием процесса сопоставления полей и выбора оптимальной конфигурации. После довольно продолжительного периода доработок нам удалось зафиксировать набор полей, удовлетворяющий всем требованиям. Также отмечу, что для некоторых рабочих процессов YouTrack нужны дополнительно настроенные (служебные) поля. Приведу текущий вариант наших полей в YouTrack и кратко расскажу о них.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/post_images\/50a\/6aa\/603\/50a6aa603e5c646786bb5d9467541506.png\u0022 alt=\u00220853_Kanban_YouTrack_ru\/image23.png\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cstrong\u003EProject\u003C\/strong\u003E. Этого поля нет в списке, но оно всегда присутствует в карточке любой задачи и содержит имя проекта, к которому задача прикреплена. Мы работаем с единственным проектом \u0026quot;PVS-Studio\u0026quot;.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cstrong\u003EAssignee\u003C\/strong\u003E. Исполнитель задачи, текущий ответственный. В перечисление типа \u0026quot;user\u0026quot; должны быть явным образом добавлены все пользователи, которые могут быть назначены исполнителями. Значения данного поля используются для наименования строк на электронной kanban-доске (отображение задач по ответственным).\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cstrong\u003EState\u003C\/strong\u003E. Текущее состояние задачи. Может иметь значения:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003EBuffer — задача запланирована, но работы по ней ещё не проводились. Если для задачи в статусе Buffer не задан исполнитель, она считается находящейся в бэклоге;\u003C\/li\u003E\r\n\u003Cli\u003EIn progress — задача в работе;\u003C\/li\u003E\r\n\u003Cli\u003EReview — задача открыта, находится на приёмке (проверке);\u003C\/li\u003E\r\n\u003Cli\u003EOn hold — задача открыта, но работа над ней временно (на короткий период) приостановлена;\u003C\/li\u003E\r\n\u003Cli\u003EResolved — задача решена и закрыта (проблема устранена, достигнут ожидаемый результат);\u003C\/li\u003E\r\n\u003Cli\u003ESuspend — над задачей работали, а затем отложили на длительный период. Далее к задаче планируют вернуться;\u003C\/li\u003E\r\n\u003Cli\u003EWontfix — задача не решена, закрыта (не удалось решить по каким-то причинам, завели по ошибке и т.п.);\u003C\/li\u003E\r\n\u003Cli\u003EDuplicate — задача не решена, закрыта, так как имеется задача-дубликат.\u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\u003E\r\n\u003Cp\u003EЗначения данного поля используются для наименования столбцов на электронной kanban-доске (отображение задач по ответственным).\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cstrong\u003EComponent\u003C\/strong\u003E. Направление работ по задаче, принадлежность задачи какому-либо отделу или подотделу разработки. Например, \u0026quot;Marketing\u0026quot;, \u0026quot;Office\u0026quot;, \u0026quot;C++ (Rules)\u0026quot;, \u0026quot;C# (Core)\u0026quot; и т.п.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cstrong\u003EType\u003C\/strong\u003E. Тип задачи: произвольная задача (Task), правка бага (Bug), подготовка мероприятия или доклада (Event), написание статьи (Article) и т.п.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cstrong\u003EPriority\u003C\/strong\u003E. Важность задачи, приоритет. Может иметь следующие значения (по росту приоритета): Minor, Normal, Major, Critical, Blocker.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cstrong\u003EScope\u003C\/strong\u003E. \u0026quot;Скоуп\u0026quot; — диапазон рабочего времени (продолжительность в часах, днях или неделях), которое планируется затратить на выполнение задачи. Поле заполняется на этапе постановки. Если в ходе работ или при завершении задачи окажется, что на работу было затрачено значительно больше времени, чем планировалось, это будет поводом провести обсуждение. Учёт времени работы система ведёт автоматически, когда задача находится в статусе \u0026quot;In progress\u0026quot; или \u0026quot;Review\u0026quot; (поле \u0026quot;State\u0026quot;). Для этого необходимо включить ведение учёта времени в настройках проекта, а также настроить соответствующий рабочий процесс.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cstrong\u003ESpent time\u003C\/strong\u003E. Содержит диапазон рабочего времени, которое было фактически (суммарно) затрачено на выполнение задачи. Это второе поле, которое потребуется настроить при включении режима учёта времени в настройках проекта. Поле доступно в режиме только чтения. Затраченное на задачу время (единица работы) может быть добавлено двумя способами:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003Eвручную при помощи комментария особого вида \u0026quot;Добавить затраченное время\u0026quot;;\u003C\/li\u003E\r\n\u003Cli\u003Eавтоматически (комментарий о затраченном времени будет добавлен также автоматически). В этом режиме время учитывается только когда задача находится в работе (установлено значение \u0026quot;In progress\u0026quot; или \u0026quot;Review\u0026quot; в поле \u0026quot;State\u0026quot;). При переводе задачи в \u0026quot;не рабочее\u0026quot; состояние, например в \u0026quot;On hold\u0026quot; или \u0026quot;Resolved\u0026quot;, время, которое задача находилась в работе, будет прибавлено к значению в поле \u0026quot;Spent time\u0026quot;. Также время будет учтено при смене ответственного. Наконец, информация о затраченном времени для каждой задачи обновляется автоматически в 9:00 утра каждого рабочего дня. Момент (дата и время) последнего перехода фиксируется в служебном поле \u0026quot;TimerTime\u0026quot;. Все это настроено в соответствующем рабочем процессе, о котором я расскажу далее.\u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\u003E\r\n\u003Cp\u003EИдеология добавления единицы работы очень удобна, так как позволяет указать не только затраченное время, но и пользователя, который выполнил свою часть работы по задаче. Как я упоминал ранее, эту информацию можно использовать в специальных отчётах для получения полной картины вклада каждого сотрудника в работу над задачами.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EЕсли значение в данном поле превышает значение, указанное в поле \u0026quot;Scope\u0026quot;, специальный графический индикатор затраченного времени для задачи будет окрашен в красный цвет (отображается в карточке задачи и списке задач). Если превышения нет, графический индикатор отображает круговую пропорцию между потраченным и оставшимся временем.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/post_images\/700\/0ff\/e92\/7000ffe92e89e68bd1cec1f5d826b0bc.png\u0022 alt=\u00220853_Kanban_YouTrack_ru\/image24.png\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cstrong\u003ETimerTime\u003C\/strong\u003E. Служебное поле, которое скрыто от пользователей. Хранит дату и время одного из последних событий: смена статуса задачи, смена ответственного. Применяется в рабочем процессе для учёта затраченного времени.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cstrong\u003EDue Date\u003C\/strong\u003E. Содержит дату и время, по достижении которых задача должна быть решена (закрыта). Если в этом поле задано значение и к моменту наступления указанной даты задача не закрыта, ответственный за задачу (а также его руководитель) начнёт получать ежедневные уведомления на почту. Данное поведение также настроено при помощи рабочего процесса.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EДля полей с типом перечисления (state или enum) есть дополнительная настройка – выбор цвета значения в поле. Цвета отображаются в списках задач и на досках. Пример такой настройки для поля \u0026quot;State\u0026quot;:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/post_images\/4ab\/824\/aef\/4ab824aef45dbeba018b0cdee17a857f.png\u0022 alt=\u00220853_Kanban_YouTrack_ru\/image25.png\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EПомимо полей, YouTrack предлагает возможность указания специальных меток для задач, называемых тегами. Могут быть задачи как без тегов, так и с несколькими тегами. Это весьма удобно и позволяет увеличить число различных комбинаций возможных состояний задачи. Замечу, что у полей с типом перечисления (enum) тоже есть возможность установки более одного значения, но работа именно с комбинациями полей и тегов кажется более эффективной. На данный момент мы используем около 18 тегов. \u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EВот так выглядит заголовок карточки задачи с тэгами.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/post_images\/ea2\/4d9\/900\/ea24d990030305e6b9cd71d7e2335215.png\u0022 alt=\u00220853_Kanban_YouTrack_ru\/image26.png\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EТакже обратите внимание на выделение цветом перечислимых полей в легенде этой же задачи.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/post_images\/2cb\/322\/2e0\/2cb3222e0f5645b882c1fbcf9f3db62a.png\u0022 alt=\u00220853_Kanban_YouTrack_ru\/image27.png\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EПо комбинации полей и тэгов данной задачи можно понять, что она назначена на Филиппа и временно отложена. Работы ведутся по направлению диагностик для языка C++ (причем идет работа над новой диагностикой по запросу клиента, так как установлены теги \u0026quot;New Rule\u0026quot; и \u0026quot;Client\u0026quot;, а сама диагностика относится к классу \u0026quot;General Analysis\u0026quot;). Это обычная задача со средним приоритетом. Трудоемкость (скоуп) задачи на момент создания оценили в четыре рабочих дня (32 часа при восьмичасовом рабочем дне). При этом на работу с задачей уже потратили более 16 рабочих дней и это повод задуматься. :) Отсутствие значения в поле \u0026quot;TimerTime\u0026quot; говорит о том, что в данном состоянии (On hold) учёт времени не ведётся. Дедлайн задаче не задан.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EА вот как выглядит список задач.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/post_images\/66b\/00a\/dd2\/66b00add245f39fc8b27afce40134aae.png\u0022 alt=\u00220853_Kanban_YouTrack_ru\/image29.png\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EКстати, список отфильтрован по задачам компонента С++ (для всех подотделов) при помощи запроса:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022cpp\u0022\u003EComponent: {C++ *}\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\n\u003Cp\u003EЗапрос получает все задачи, значения компонента которых начинаются со строки \u0026quot;C++\u0026quot;. Вообще, поисковые запросы YouTrack – одна из мощнейших возможностей. К тому же, это удобно и интуитивно понятно. Теги и поисковые запросы можно сохранять, настраивать для них оповещения, делиться ими с коллегами или использовать приватно. Мы ещё немного поговорим про запросы, когда доберёмся до рабочих процессов.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EВсе поля и теги задачи можно использовать в поисковых запросах, а также отчётах.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Ch2 id=\u0022kanban\u0022\u003EKanban\u003C\/h2\u003E\u003Cbr\u003E\r\n\u003Cp\u003EЯ столько говорил про электронные доски, что просто не могу не показать хотя бы одну. :) Вот фрагмент kanban-доски для команды C++ (отображение задач по ответственным).\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/post_images\/6b3\/b69\/0a8\/6b3b690a80daa17ce2d213425a1c43b8.png\u0022 alt=\u00220853_Kanban_YouTrack_ru\/image31.png\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EСтолбец \u0026quot;Resolved\u0026quot; свернут. Доска генерируется на базе запроса, который можно задать в ее настройках:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/post_images\/78f\/13a\/01a\/78f13a01a832c74c4891d7d2430519b9.png\u0022 alt=\u00220853_Kanban_YouTrack_ru\/image32.png\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EТаким образом, будут отображены все нерешённые задачи, а также задачи, закрытые после 11 марта 2021 года. Это дата одного из последних релизов. Мы решили ограничить период показа закрытых задач одним релизным циклом, чтобы не захламлять доску.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EТакже список задач будет дополнительно отфильтрован по пользователям, явно заданным для отображения в строках доски. Конечно, это не единственно возможный вариант. Не так давно мы начали использовать другое представление доски, при котором в строках указаны не сотрудники, а направления работы (отделы). Это позволяет больше сосредоточиться на задачах и их движении. Представление доски может быть настроено в соответствии с вашими потребностями.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EРасскажу про одну важную особенность работы досок YouTrack. Первоначально мы настроили kanban в режиме \u0026quot;Automatically add new issues\u0026quot;, который был предложен по умолчанию. Как и режим \u0026quot;Manually assign issues\u0026quot;, он предполагает добавление задачи на доску, при котором между ними образуется связь. То есть задача будет буквально принадлежать доске. Но в этом режиме нет возможности, например, отфильтровать задачи в столбце \u0026quot;Resolved\u0026quot; по дате, как сделано у нас сейчас. Доска отображает все когда-либо добавленные на неё задачи. Это одна из причин, по которой мы не стали использовать первые два режима, а остановились на третьем. Также в режиме \u0026quot;Automatically add new issues\u0026quot; любая новая задача попадала сразу на все доски, что тоже не всегда удобно. Хотя для классического варианта работы с множеством проектов, ограниченных по времени, и одной доской на проект вариант \u0026quot;по умолчанию\u0026quot;, наверное, удобнее. Он требует меньше дополнительных настроек.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EДругие настройки доски тривиальны, так что больше рассказывать здесь нечего. Kanban — это одна из тех возможностей YouTrack \u0026quot;из коробки\u0026quot;, которую можно начать использовать практически сразу. Чего нельзя сказать об учёте времени и настройке рабочих процессов. Переходим к наиболее интересной, на мой взгляд, части повествования.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Ch2 id=\u0022uchyot-vremeni-i-rabochie-processy\u0022\u003EУчёт времени и рабочие процессы\u003C\/h2\u003E\u003Cbr\u003E\r\n\u003Cp\u003EНаверное, учёт времени и рабочие процессы – это то, чего нам больше всего не хватало в Bitbucket после kanban-доски. Я объединил эти пункты, так как без настройки рабочих процессов учёт времени возможен только в ручном режиме.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EПро рабочие процессы YouTrack подробно рассказано в \u003Ca href=\u0022https:\/\/www.jetbrains.com\/help\/youtrack\/standalone\/Workflow-Guide.html\u0022\u003Eдокументации\u003C\/a\u003E. Если в двух словах, то это скрипты на JavaScript, которые позволяют автоматизировать различные виды деятельности в трекере. Предлагается набор рабочих процессов по умолчанию (на данный момент их более 35). Можно менять стандартные рабочие процессы, настраивая их для своих нужд. Любой стандартный рабочий процесс, если он был неудачно модифицирован, легко вернуть в исходное состояние. Можно создавать свои рабочие процессы, а также разделяемые рабочие процессы (для совместного использования из разных скриптов). В общем, есть определенный простор для творчества.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EМы использовали несколько рабочих процессов по умолчанию, которые показались нам необходимыми. Некоторые процессы модифицировали, а также добавили пару своих.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Ch3 id=\u0022uchyot-vremeni\u0022\u003EУчёт времени\u003C\/h3\u003E\u003Cbr\u003E\r\n\u003Cp\u003EПро учёт времени мы начали думать давно. Хотелось иметь хотя бы приблизительное понимание, сколько занимает работа над той или иной задачей. Почему иногда работа затягивается. И как-то анализировать всё это. В Bitbucket мы пытались указывать скоуп задачи прямо в заголовке, в квадратных скобках. Кстати, туда же мы добавляли и другую информацию, которую нельзя было указать в полях Bitbucket. Например, метку, что задача делается по запросу клиента. Заголовок задачи мог иметь вид: \u0026quot;[client][5 дней] Краткое описание задачи\u0026quot;. Понятно, что Bitbucket никак не помогал в анализе этих псевдотегов. Поэтому у нас была разработана утилита, которая через API доставала из Bitbucket информацию и генерировала разные отчёты. Также при помощи этой утилиты мы оповещали пользователей о забытых задачах (по которым не было комментариев за последние три-четыре дня, например). В общем, пытались как-то настроить свои рабочие процессы.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EЧто касается учёта времени, то нам был доступен только ручной анализ задач по требованию. Нужно было смотреть дату создания задачи, искать псевдотег скоупа в описании (а его туда могли забыть добавить) и делать какие-то выводы. Очевидно нерабочая схема. Представьте себе нашу радость, когда мы увидели возможность настройки учёта времени в YouTrack практически за три клика. Всего-то и нужно было включить этот режим в настройках проекта, добавив пару полей.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/post_images\/917\/f64\/d00\/917f64d00099ca79a0843aa0b9673ae6.png\u0022 alt=\u00220853_Kanban_YouTrack_ru\/image34.png\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EСразу после этого в задачах появляется возможность вручную добавлять так называемые единицы работы, а также пользоваться специальными отчётами. Я упоминал про это, когда приводил описание полей. Кстати, единицы работы можно настраивать, задавая свои типы работ. Таким образом, будет видно, какую именно работу делал пользователь в рамках задачи в течение указанного периода.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EНо если остановиться только на этом этапе и больше ничего не настраивать, то вся ответственность за фиксацию затраченного времени ложится на пользователей. Поработав над задачей, сотрудник должен самостоятельно добавить единицу работы и указать затраченное время в карточке задачи. Часто люди забывают или банально ленятся делать такие вещи. Поэтому YouTrack предлагает автоматизацию. Для этого на выбор предлагается два стандартных рабочих процесса с несколько разными подходами:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003E\u003Ca href=\u0022https:\/\/www.jetbrains.com\/help\/youtrack\/standalone\/Workflow-Work-Timer.html\u0022\u003EIn Progress Work Timer\u003C\/a\u003E. Рабочий процесс, который отслеживает изменение состояния задачи и соответствующим образом корректирует параметры учёта времени (включает и отключает таймер);\u003C\/li\u003E\r\n\u003Cli\u003E\u003Ca href=\u0022https:\/\/www.jetbrains.com\/help\/youtrack\/standalone\/Workflow-Standalone-Work-Timer.html\u0022\u003EStopwatch-style Work Timer\u003C\/a\u003E. В этом рабочем процессе предлагается ручное включение и выключение таймера. Для этого используется специальное поле задачи, которое может принимать значения \u0026quot;Start\u0026quot; или \u0026quot;Stop\u0026quot;.\u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\u003E\r\n\u003Cp\u003EВторой рабочий процесс более приближен к ручному режиму, но даже такой полуавтоматический вариант работы значительно лучше ручного. Пользователь должен по-прежнему инициировать процесс, но ему не нужно самостоятельно подсчитывать время, затраченное на работу, так как за него это сделает скрипт.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EМы выбрали первый вариант работы с таймером, который предлагает полную автоматизацию, но и требует гораздо больших усилий для настройки. Подробно про работу этого и других рабочих процессов читайте в следующем разделе.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Ch3 id=\u0022rabochie-processy\u0022\u003EРабочие процессы\u003C\/h3\u003E\u003Cbr\u003E\r\n\u003Cp\u003EСписок рабочих процессов, прикрепленных к проекту, можно увидеть в его свойствах. Вот наш текущий набор.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/post_images\/38d\/858\/6ce\/38d8586cee6c7815939416d64b8d8644.png\u0022 alt=\u00220853_Kanban_YouTrack_ru\/image35.png\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EПолный список рабочих процессов можно посмотреть в глобальных настройках трекера. Каждый рабочий процесс может включать несколько правил (модулей). Помимо понятного названия у каждого процесса и его правил есть уникальное имя. Например, \u0026quot;assignee-state\u0026quot;. Правила можно увидеть, если развернуть узел процесса.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/post_images\/4b9\/e55\/3c7\/4b9e553c74e4758a4de3cd0c7feea2fe.png\u0022 alt=\u00220853_Kanban_YouTrack_ru\/image36.png\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EДля правил имя соответствует файлу сценария js. Например, \u0026quot;check-assignee-state\u0026quot;. Имена рабочих процессов с префиксом \u0026quot;@jetbrains\/youtrack-workflow-\u0026quot; указывают на стандартные (предустановленные) рабочие процессы YouTrack.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EПравило может быть одного из пяти типов:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003EOn-change: применяется при изменении задачи;\u003C\/li\u003E\r\n\u003Cli\u003EOn-schedule: применяется по расписанию;\u003C\/li\u003E\r\n\u003Cli\u003EState-machine: контролирует смену значений для настраиваемых полей;\u003C\/li\u003E\r\n\u003Cli\u003EAction: применяется при выборе пользователем действия (настраиваемой команды для интерфейса);\u003C\/li\u003E\r\n\u003Cli\u003ECustom: применяется при вызове из модулей других рабочих процессов.\u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\u003E\r\n\u003Cp\u003EПерейдем к списку наших рабочих процессов и разберем его.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cstrong\u003EAssignee and State\u003C\/strong\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EНестандартный рабочий процесс (был добавлен нами), который содержит единственное правило типа \u0026quot;On-change\u0026quot;:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003EBlock users from setting an invalid assignee.\u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\u003E\r\n\u003Cp\u003EПравило отслеживает изменение полей \u0026quot;State\u0026quot; и \u0026quot;Assignee\u0026quot; у задачи и препятствует установке некорректной комбинации значений. Например, у задачи нет ответственного, при этом её пытаются взять в работу или сразу закрыть. В этом случае скрипт выведет сообщение об ошибке, а изменения не будут зафиксированы. В YouTrack есть стандартный рабочий процесс \u0026quot;\u003Ca href=\u0022https:\/\/www.jetbrains.com\/help\/youtrack\/standalone\/Workflow-Issue-Properties-Combinations.html\u0022\u003EIssue Property Combinations\u003C\/a\u003E\u0026quot; с похожей функциональностью. Но мы решили, что удобнее будет не модифицировать имеющийся, а сделать свой рабочий процесс. Почему бы и нет? К тому же, данный рабочий процесс использует имена настраиваемых полей, заданные в YouTrack по умолчанию. Мы же заменили многие имена полей на более подходящие, на наш взгляд. Это также осложнило бы модификацию стандартного рабочего процесса.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cstrong\u003EAssignee Visibility\u003C\/strong\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EСтандартный (предустановленный) \u003Ca href=\u0022https:\/\/www.jetbrains.com\/help\/youtrack\/standalone\/Workflow-Assignee-Visibility-Group.html\u0022\u003Eрабочий процесс\u003C\/a\u003E, состоящий из единственного правила типа \u0026quot;On-change\u0026quot;:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003EWarn when issue is not visible to assignee.\u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\u003E\r\n\u003Cp\u003EПравило проверяет, чтобы назначаемый ответственный имел доступ к задаче. Ситуация типична для команд, в которых ведётся несколько проектов, доступ к каждому из которых контролируется на уровне групп пользователей. Если пользователя забудут включить в соответствующую группу, он не сможет открыть задачу. Такое лучше проверять на этапе назначения ответственного, что и делает правило. Это не очень актуально для нас, так как при использовании одного проекта, к которому по умолчанию имеют доступ все пользователи, описанная ситуация маловероятна. Тем не менее, правило было предложено к использованию по умолчанию, и мы решили оставить его \u0026quot;на всякий случай\u0026quot;.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cstrong\u003ECommon\u003C\/strong\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EНестандартный рабочий процесс, который содержит три модуля:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003Ecommon-datetime (тип \u0026quot;Custom\u0026quot;);\u003C\/li\u003E\r\n\u003Cli\u003Ecommon-users (тип \u0026quot;Custom\u0026quot;);\u003C\/li\u003E\r\n\u003Cli\u003EDEBUG ACTION (тип \u0026quot;Action\u0026quot;).\u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\u003E\r\n\u003Cp\u003EДля первых двух модулей я привел имена вместо понятных названий. Дело в том, что эти модули содержат разделяемый код, на который ссылаются другие правила. У таких модулей нет понятных названий. Третий модуль отладочный, поэтому для него необязательно (хотя и возможно) указание понятного названия, поэтому я указал такое. Модуль при этом называется \u0026quot;common-debug-action\u0026quot;.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EМодуль \u0026quot;common-datetime\u0026quot; содержит логику для поддержки учёта времени. В частности, производственный календарь на текущий год, а также нашу версию функции вычисления разницы в минутах между двумя датами с учётом рамок рабочего дня, нерабочих и праздничных дней. Я ещё вернусь к этому модулю, когда буду рассказывать про рабочий процесс для учёта времени.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EМодуль \u0026quot;common-users\u0026quot; содержит код, автоматизирующий отправку пользователям критичных уведомлений из других правил. Это уведомления, например, о превышении дедлайна задачи. Также сюда относятся уведомления о забытых задачах, то есть задачах, по которым не было активности (комментариев) за последнее время. Мы решили, что более эффективно отправлять такие уведомления не только ответственному за задачу, но и его руководителю. Я уже упоминал про это в контексте описания групп пользователей.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EНаконец, модуль \u0026quot;DEBUG ACTION\u0026quot;, как можно догадаться из названия, предназначен для отладки. Это правило типа \u0026quot;Action\u0026quot;. При помощи таких правил в YouTrack можно создавать быстрые действия для задач. Список действий доступен в меню карточки задачи при выборе пункта \u0026quot;троеточие\u0026quot;.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/post_images\/2c3\/826\/188\/2c3826188b0dd6a75b6c4a9db9494946.png\u0022 alt=\u00220853_Kanban_YouTrack_ru\/image38.png\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EТакже действие может быть выбрано и выполнено в окне действий:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/post_images\/e72\/166\/ed4\/e72166ed4baa7e18a19dd89ad8c06c6c.png\u0022 alt=\u00220853_Kanban_YouTrack_ru\/image40.png\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EПри выборе действия будет сразу же выполнен определенный код. Видимостью таких правил (пунктов меню) можно управлять. Например, отладочное действие \u0026quot;DEBUG ACTION\u0026quot; отображается только для пользователя с определенным именем (меня). Также можно настроить, например, отображение действий лишь при создании новых задач и т.п.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EЗачем потребовался такой модуль? Есть определённые нюансы с отладкой скриптов рабочих процессов в облачной версии YouTrack. Собственно, вся отладка заключается в анализе выходных данных консоли в редакторе рабочего процесса после его выполнения. В принципе, этого достаточно. Но хотелось иметь возможность запуска произвольного кода (модулей) прямо в облачной среде. Для решения этой задачи я и использовал отладочное действие. Возможно, есть какие-то более изящные и технически грамотные варианты, но меня вполне устроил такой.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cstrong\u003EDependencies\u003C\/strong\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EСтандартный \u003Ca href=\u0022https:\/\/www.jetbrains.com\/help\/youtrack\/standalone\/Workflow-Dependencies.html\u0022\u003Eрабочий процесс\u003C\/a\u003E, включающий единственное правило типа \u0026quot;On-change\u0026quot;:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003EBlock users from resolving issues with unresolved dependencies.\u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\u003E\r\n\u003Cp\u003EПравило контролирует работу связанных задач, а именно связи типа \u0026quot;Depend\u0026quot; (depends on — is required for). При такой связи предполагается, что одна задача зависит от другой и не может быть закрыта, пока другая задача находится в работе. Мы используем связи между задачами, поэтому данное правило полезно.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EИнтересная особенность: в YouTrack вы можете использовать встроенный (или доработанный) набор типов связей задач, устанавливать связи между задачами. Но без соответствующих рабочих процессов связи не будут работать. Поэтому нужно аккуратно отказываться от рабочих процессов, которые YouTrack предлагает по умолчанию. Похожая история и с именами настраиваемых полей. Все стандартные рабочие процессы настроены на работу с набором полей по умолчанию. Меняя какие-то значения, будьте готовы к внесению множественных правок в рабочие процессы.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EПро связи (ссылки) между задачами можно почитать в \u003Ca href=\u0022https:\/\/www.jetbrains.com\/help\/youtrack\/standalone\/Link-Issues.html\u0022\u003Eдокументации\u003C\/a\u003E.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cstrong\u003EDue Date\u003C\/strong\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EЕще один стандартный \u003Ca href=\u0022https:\/\/www.jetbrains.com\/help\/youtrack\/standalone\/Workflow-Due-Date.html\u0022\u003Eрабочий процесс\u003C\/a\u003E. Предназначен для работы с дедлайном задачи. По умолчанию он содержит два правила, но мы решили ограничиться только вторым:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003ERequire due dates for submitted issues (не используем);\u003C\/li\u003E\r\n\u003Cli\u003ENotify assignee about overdue issues.\u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\u003E\r\n\u003Cp\u003EПервое правило типа \u0026quot;On-change\u0026quot; требует обязательной установки значения в поле \u0026quot;Due Date\u0026quot; при создании задачи. Мы не стали вводить такое жёсткое требование, поэтому правило было отключено. \u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EВторое правило, которое посчитали полезным, мы используем для оповещения ответственного и его руководителя в случае, если дедлайн задачи превышен. Это правило относится к типу \u0026quot;On-schedule\u0026quot;. Оно позволяет обрабатывать задачи по расписанию (параметр \u0026quot;cron\u0026quot;). Список задач будет получен при помощи поискового запроса (параметр \u0026quot;search\u0026quot;). Мы немного доработали это правило, добавив дополнительное условие выполнения только по рабочим дням, так как выполнение по расписанию ограничивает выполнение задачи рабочими днями с понедельника по пятницу, но не учитывает выходные и праздничные дни. Для этого используются функции проверки из разделяемого модуля \u0026quot;common-datetime\u0026quot;. В дополнение к этому, как уже говорилось ранее, мы используем расширенную функцию рассылки уведомлений из модуля \u0026quot;common-users\u0026quot;.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cstrong\u003EDuplicates\u003C\/strong\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EСтандартный \u003Ca href=\u0022https:\/\/www.jetbrains.com\/help\/youtrack\/standalone\/Workflow-Duplicates.html\u0022\u003Eрабочий процесс\u003C\/a\u003E, который управляет поведением задач-дубликатов. Мы не так часто создаем задачи-дубликаты, но иногда такое всё же случается. Поэтому этот рабочий процесс был подключен к проекту. По умолчанию он содержит пять правил типа \u0026quot;On-change\u0026quot; (одно из правил мы не используем):\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003EAttach duplicate links to single duplicated issue;\u003C\/li\u003E\r\n\u003Cli\u003ERaise priority when issue is duplicated by another issue (не используем);\u003C\/li\u003E\r\n\u003Cli\u003EReopen issue when all duplicates links are removed;\u003C\/li\u003E\r\n\u003Cli\u003ESet state to \u0026quot;Duplicate\u0026quot; when duplicates link is added to issue;\u003C\/li\u003E\r\n\u003Cli\u003ERequire links to duplicate issue when state becomes \u0026quot;Duplicate\u0026quot;.\u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\u003E\r\n\u003Cp\u003EЗадача в YouTrack может быть отмечена как дубликат другой задачи двумя способами:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003Eустановка дублирующей задаче статуса \u0026quot;Duplicate\u0026quot;. При этом необходимо обеспечить установку связи типа \u0026quot;Duplicate\u0026quot; (duplicates — is duplicated by) между задачами;\u003C\/li\u003E\r\n\u003Cli\u003Eобратная ситуация: установка связи типа \u0026quot;Duplicate\u0026quot; между задачами. Здесь необходимо обеспечить установку статуса \u0026quot;Duplicate\u0026quot; дублирующей задаче.\u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\u003E\r\n\u003Cp\u003EТакже необходимо обеспечить корректное поведение при удалении связи между задачами-дубликатами или при смене статуса \u0026quot;Duplicate\u0026quot; задачи на другой. Все эти нюансы контролирует рабочий процесс. Мы не вносили значительных правок в правила данного рабочего процесса. А те, что вносили, были связаны с использованием других названий у статусов задачи (отличных от имён по умолчанию).\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cstrong\u003EIn Progress Work Timer\u003C\/strong\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EМы подошли к стандартному \u003Ca href=\u0022https:\/\/www.jetbrains.com\/help\/youtrack\/standalone\/Workflow-Work-Timer.html\u0022\u003Eрабочему процессу\u003C\/a\u003E, настройка которого потребовала несколько больше усилий, чем представлялось сначала. Как я уже говорил ранее, нам хотелось попробовать учёт времени и мы были рады увидеть такую возможность в списке предустановленных. Однако реализация \u0026quot;из коробки\u0026quot; не вполне нас устроила.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EПо умолчанию процесс включает два правила типа \u0026quot;On-change\u0026quot;:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003EStart timer when issue is in progress;\u003C\/li\u003E\r\n\u003Cli\u003EStop timer when issue is fixed.\u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\u003E\r\n\u003Cp\u003EПервое правило отслеживает изменение статуса задачи. При установке значения \u0026quot;In Progress\u0026quot; (задача взята в работу) в служебное поле \u0026quot;Timer Time\u0026quot; задачи будут записаны текущие дата и время. Когда работа над задачей будет завершена (статус сменят с \u0026quot;In Progress\u0026quot; на любой другой), автоматически добавится единица работы. Это делает скрипт второго правила. Затраченное время будет подсчитано как разница в минутах между текущей датой и значением, сохраненным ранее в поле \u0026quot;Timer Time\u0026quot; задачи. Алгоритм выглядит достаточно просто, при этом он имеет недостатки:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003Eпредполагается наличие только одного \u0026quot;рабочего\u0026quot; состояния задачи — \u0026quot;In Progress\u0026quot;. У нас есть дополнительные состояния, когда требуется учёт времени, например \u0026quot;Review\u0026quot;. Эти состояния были дополнительно учтены в скриптах (достаточно простые правки);\u003C\/li\u003E\r\n\u003Cli\u003Eв первоначальном варианте скрипта \u0026quot;Stop timer when issue is fixed\u0026quot; при добавлении единицы работы в качестве автора (исполнителя) будет указан текущий пользователь YouTrack (ctx.currentUser). Это проблема, так как часто задачи может закрывать тимлид. Тогда единица работы будет записана на него. Никак не влияет на подсчет суммарного затраченного на задачу времени, но делает бессмысленным работу с отчётом по единицам работы: \u003Ca href=\u0022https:\/\/www.jetbrains.com\/help\/youtrack\/standalone\/Time-Report.html\u0022\u003Eудобный встроенный отчет\u003C\/a\u003E, который позволяет увидеть конкретный вклад каждого сотрудника в работу над задачами. Наш вариант правки скрипта предполагает использование текущего ответственного по задаче при создании единицы работы. Наличие ответственного у задач, находящихся в работе, контролирует описанный ранее рабочий процесс \u0026quot;Assignee and State\u0026quot;;\u003C\/li\u003E\r\n\u003Cli\u003Eне учитывается смена ответственного. Над задачей могло последовательно работать несколько сотрудников, но при ее закрытии всё рабочее время будет зачислено на того, кто закрыл задачу. Для решения этой проблемы мы добавили дополнительный модуль с именем \u0026quot;Restart timer when the assignee is changed\u0026quot;. Это несложное правило отслеживает смену ответственного у задач, находящихся в работе. При этом единица работы создаётся для предыдущего ответственного и учитывается время, которое именно он затратил на работу. Таймер перезапускается;\u003C\/li\u003E\r\n\u003Cli\u003Eскорее, улучшение, а не решение какой-то проблемы. Если задача долго (например, несколько дней) находится в работе у одного ответственного, то нет наглядного отображения того, сколько времени уже было затрачено. Ведь единица работы будет добавлена только при смене статуса или ответственного. И только тогда будет пересчитан общий показатель затраченного на задачу времени, что будет отражено на графическом индикаторе в списке задач:\u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/post_images\/fb9\/54d\/43b\/fb954d43b19dff3012a58219df68102f.png\u0022 alt=\u00220853_Kanban_YouTrack_ru\/image41.png\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EДопустим, задачу забыли в статусе \u0026quot;In Progress\u0026quot; и работают с другой. Потом про задачу вспомнили и решили ее закрыть. При этом будет начислен большой интервал рабочего времени, в который фактически ничего не делали. Это нестрашно, так как ранее созданные единицы работы для задачи можно править (вручную менять значение начисленного времени). Но мы же хотим полной автоматизации, не так ли? :) Поэтому мы добавили ещё одно небольшое правило типа \u0026quot;On-schedule\u0026quot; с именем \u0026quot;Update timer on schedule\u0026quot;. Каждое утро по рабочим дням это правило перезапускает таймер для задач, находящихся в работе. Конечно, это приводит к ежедневному созданию единицы работы. Зато по любой задаче всегда можно посмотреть актуальное значение затраченного времени с точностью до одного дня;\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003Eпри добавлении единицы работы в правиле \u0026quot;Stop timer when issue is fixed\u0026quot; используют встроенную функцию \u0026quot;\u003Ca href=\u0022https:\/\/www.jetbrains.com\/help\/youtrack\/devportal\/v1-Project.html\u0022\u003EintervalToWorkingMinutes\u003C\/a\u003E\u0026quot; из класса \u0026quot;Project\u0026quot; для подсчета разницы в минутах между двумя датами. Функция использует минимальный набор настроек YouTrack для учёта времени:\u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/post_images\/b4f\/1f5\/599\/b4f1f5599f33788e5690496b7766da75.png\u0022 alt=\u00220853_Kanban_YouTrack_ru\/image42.png\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EУчитывается только продолжительность рабочего дня и дни недели, указанные как рабочие. Не учитываются начало и конец рабочего дня, продолжительность обеденного перерыва, праздничные дни. Поэтому, несмотря на то, что функция вернёт результат в минутах, он будет достаточно приблизительный. Например, в вашей компании (как у нас) рабочий день начинается в 9:00 и закачивается в 18:00. Вы берете задачу в работу во вторник вечером в 17:45. Утром следующего дня, в среду, вы продолжаете работу над задачей и закрываете ее в 9:15. При использовании функции \u0026quot;intervalToWorkingMinutes\u0026quot; результат составит восемь с половиной рабочих часов (510 минут). Это нормально, так как переход задачи на следующий день сразу же даст нам один рабочий день (1*8*60 = 480 минут). Плюс дополнительное время в минутах для выравнивания до полного часа (15 + 15).\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EНам хотелось большей точности, поэтому мы написали свой вариант функции \u0026quot;intervalToWorkingMinutes\u0026quot;, которая удовлетворяет нашим условиям. Для указанного выше примера она вернёт 30 минут. Также в отдельную функцию мы вынесли проверку переданной даты не только на то, что это выходной день (суббота или воскресенье), но и на то, что это день, объявленный нерабочим праздничным в нашей стране. Это удобно для использования как при расчёте разницы между двумя датами, так и при рассылке уведомлений пользователям из других рабочих процессов (например, \u0026quot;Due Date\u0026quot;), чтобы не тревожить их письмами в нерабочее время. Обе функции помещены в разделяемый модуль \u0026quot;common-datetime\u0026quot;.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EТаким образом, с учётом всех модификаций, стандартный рабочий процесс \u0026quot;In Progress Work Timer\u0026quot; у нас был расширен до четырех правил:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003EStart timer when issue is in progress;\u003C\/li\u003E\r\n\u003Cli\u003EStop timer when issue is fixed (было переименовано в \u0026quot;Stop timer when the issue is resolved or paused\u0026quot;);\u003C\/li\u003E\r\n\u003Cli\u003EUpdate timer on schedule (правило было добавлено);\u003C\/li\u003E\r\n\u003Cli\u003ERestart timer when the assignee is changed (правило было добавлено).\u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\u003E\r\n\u003Cp\u003EМожет показаться, что мы немного увлеклись учётом времени, и отчасти это так. Но сам YouTrack подталкивает к тому, чтобы максимально кастомизировать рабочие процессы, поэтому мы не смогли устоять :)\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EК тому же, все эти правки и улучшения были сделаны не одномоментно. Мы и сейчас время от времени там что-то подкручиваем. Расскажу про одну интересную ошибку, с которой мы столкнулись уже после начала активного использования этого рабочего процесса. Это ошибка (или особенность работы) самого трекера. Речь про поле \u0026quot;Scope\u0026quot;, которое содержит скоуп задачи.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EИзначально мы задали значение по умолчанию для этого поля, равное трём рабочим дням (3d). Спустя какое-то время мы заметили аномалию. У задач, для которых это значение так и оставили без изменений, не отображался индикатор оставшегося времени. Взгляните на скриншот:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/post_images\/fd1\/0ed\/d69\/fd10edd69a662928dcba2f0806823325.png\u0022 alt=\u00220853_Kanban_YouTrack_ru\/image44.png\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EУ второй и пятой задачи наблюдается указанная проблема. Опытным путем мы выяснили, что нужно явно указывать значение в поле \u0026quot;Scope\u0026quot;. При этом что-то происходит \u0026quot;под капотом\u0026quot; YouTrack, и далее это значение будет корректно учтено. Пришлось отказаться от использования дефолтного значения. К тому же, требование обязательно указать скоуп задачи полезно, так как побуждает к проведению большего анализа на этапе постановки задачи. Возможно, это известная проблема и разработчики её уже устранили. Я поленился подробно изучать данный вопрос.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EЗакрывая тему учёта времени, хочу сказать пару слов об административной стороне вопроса. Кажется, нам удалось создать удобный механизм. Но этого ещё недостаточно. Инструментом нужно научиться правильно пользоваться, выработать оптимальные сценарии работы. \u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EПростой пример – введение практики своевременного перевода задач, над которыми приостановлена работа, в статус отложенных (для остановки таймера) и наоборот. Своевременность переключения статусов позволяет иметь более точную картину происходящего. Но у этого, казалось бы, очевидного подхода есть и обратная сторона. С первых дней использования сотрудники пытались взломать систему: реальная работа часто велась над отложенными задачами (On hold), так как там \u0026quot;не тикает таймер и не портит статистику\u0026quot;. Поэтому поначалу можно было наблюдать картину, как команда буквально ни над чем не работает – было всего несколько задач в работе.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EТакже многие пользователи опасались, что учёт времени будет использован для подсчёта каких-то тайных KPI с целью корректировок заработной платы и т.п. Конечно, такой идеи не было и нет. Главное, для чего сейчас используется данный механизм, повышение эффективности планирования новых задач, более точная оценка возможных трудозатрат.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cstrong\u003EOverdue work activities\u003C\/strong\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EНестандартный рабочий процесс, включающий единственное правило типа \u0026quot;On-schedule\u0026quot;:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003ENotify assignee on overdue work activities.\u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\u003E\r\n\u003Cp\u003EПо принципу работы этот модуль очень похож на описанный выше модуль \u0026quot;Notify assignee about overdue issues\u0026quot; из рабочего процесса \u0026quot;Due Date\u0026quot;. Но здесь мы регулярно оповещаем ответственного и его руководителя в случае, если по задаче не было комментариев за какой-то период. Для этого используется поисковый запрос вида:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022cpp\u0022\u003EState:{In progress},Review\n  commented:-{minus 3d}..Today\n  created:-{minus 1d}..Today\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\n\u003Cp\u003EБерутся все задачи в работе, кроме тех, которые комментировали в течение последних трёх дней или недавно создали (днём ранее). Цель рабочего процесса – выявление забытых задач, а также привитие у сотрудников дисциплины описывать работу над задачами в комментариях.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cstrong\u003ESubtasks\u003C\/strong\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EСтандартный \u003Ca href=\u0022https:\/\/www.jetbrains.com\/help\/youtrack\/standalone\/Workflow-Subtasks.html\u0022\u003Eрабочий процесс\u003C\/a\u003E. По умолчанию содержит набор из двух правил типа \u0026quot;On-change\u0026quot;, автоматизирующих работу с подзадачами:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003EOpen parent task when subtask changes to an unresolved state;\u003C\/li\u003E\r\n\u003Cli\u003EFix parent task when all subtasks are resolved (не используем).\u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\u003E\r\n\u003Cp\u003EДля создания иерархии задач в YouTrack используется связь типа \u0026quot;Subtask\u0026quot; (subtask of — parent for). Про связи я уже говорил при описании рабочего процесса \u0026quot;Dependencies\u0026quot;. Работа с подзадачами очень удобна и это одна из возможностей, которых нам не хватало в Bitbucket. Интересное наблюдение: в YouTrack мы наблюдаем большее число задач (в среднем по компании), находящихся в работе в единицу времени, по сравнению с Bitbucket. При сопоставимом числе сотрудников. Я думаю, что одна из причин – активное использование подзадач в YouTrack, что даёт возможность более простой декомпозиции. Но вернёмся к правилам.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EПервое правило следит за состоянием всех подзадач уже закрытой родительской задачи, и если хотя бы одну из них снова берут в работу, то родительская задача автоматически открывается.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EВторое правило автоматически закрывает родительскую задачу при закрытии всех её подзадач. Это правило показалось нам неудобным, так как часто наши родительские задачи являются не просто агрегаторами, а выступают в качестве полноценных задач. По ним ведётся работа, причём это может происходить уже после закрытия всех подзадач. Поэтому данное правило было отключено.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EЗато нам не хватило другой возможности: запрещать пользователям закрывать родительскую задачу, если есть хотя бы одна подзадача в работе. Для этого мы расширили стандартный рабочий процесс, добавив свое правило \u0026quot;Block users from resolving issues with unresolved subtasks\u0026quot;.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EНа этом я заканчиваю описание наших рабочих процессов. Возможно, получилось несколько затянуто. Но мне хотелось показать, насколько удобно вы можете настроить YouTrack под себя, даже для нестандартных режимов работы. Кажется, нам это удалось.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Ch2 id=\u0022otchyoty\u0022\u003EОтчёты\u003C\/h2\u003E\u003Cbr\u003E\r\n\u003Cp\u003EПолезная возможность, которую также хотелось иметь на борту трекера. Про отчёты в YouTrack можно сказать, что они есть. С их помощью можно решить большинство типовых задач по сбору и анализу статистики. Например, мы активно используем ранее упомянутый \u003Ca href=\u0022https:\/\/www.jetbrains.com\/help\/youtrack\/standalone\/Time-Report.html\u0022\u003Eвстроенный отчет\u003C\/a\u003E о затраченном времени. Польза этого отчёта для нас, как и от всего механизма учёта времени, не в подсчитывании минуток за людьми, а в понимании вклада каждого сотрудника в работу команды, в эффективном планировании и возможности дальнейшего анализа.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EТем не менее, мы настолько привыкли к своему старому формату отчётов (в Bitbucket использовали собственный генератор отчётов), что решили не отказываться от него. Тем более, в YouTrack есть все возможности для доступа к задачам через API. Таким образом, на данный момент каждый заинтересованный сотрудник может настраивать и использовать любые встроенные отчёты YouTrack. В дополнение к этому каждый месяц менеджеры получают большой сводный отчёт \u0026quot;старого образца\u0026quot;.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Ch2 id=\u0022obuchenie-sotrudnikov\u0022\u003EОбучение сотрудников\u003C\/h2\u003E\u003Cbr\u003E\r\n\u003Cp\u003EНапоследок немного расскажу, как происходило внедрение нового трекера с точки зрения команды. Это не первый наш подобный инструмент, поэтому именно с интерфейсом YouTrack особых проблем у пользователей не возникало. Да, там довольно много возможностей, и поначалу теряешься в обилии кнопочек. Но это не проблема. В последнее время команда YouTrack делает определенные шаги по упрощению интерфейса: был введен облегченный режим \u0026quot;Light\u0026quot;, изменена структура меню и т.п. Ранее я слышал много отзывов о сложности YouTrack для пользователя и частично согласен с ними. Но повторюсь, что разобраться и привыкнуть к этому инструменту — просто вопрос времени.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EДругое дело – смена подхода к организации рабочих процессов, серьезная переработка структуры полей, связи задач, добавление учёта времени. Всё то, что команда внедрения проделывала постепенно и успела освоить, было представлено остальным сотрудникам практически одномоментно. Новшества потребовали от людей дополнительных усилий, что не всегда воспринималось положительно. Понадобилось две больших презентации для сотрудников по разъяснению общих принципов работы с новым трекером. До настоящего времени ведётся планомерная работа с вопросами и возражениями.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EЕще хочется оставить тут пасхалку для наших сотрудников. Одна из идей написания данной статьи – дополнительное ознакомление внутренних пользователей с особенностями YouTrack. Прилежный сотрудник PVS-Studio, если ты дочитал до этого момента и готов ответить на дополнительные вопросы о прочитанном, подходи ко мне за подарком. :) \u003C\/p\u003E\u003Cbr\u003E\r\n\u003Ch2 id=\u0022zaklyuchenie\u0022\u003EЗаключение\u003C\/h2\u003E\u003Cbr\u003E\r\n\u003Cp\u003EОглядываясь назад, я испытываю гордость и удовлетворение от проделанной работы. Думаю, что и другие сотрудники, которые принимали участие в работах по внедрению kanban и переходу на YouTrack, испытывают подобные чувства. Завершён важный этап на пути развития нашей компании. Это был непростой, но очень увлекательный процесс. Пришлось решать много административных и технических задач: проводить встречи и обсуждения, согласовывать сроки и отстаивать своё видение процессов, программировать на JavaScript.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EХочу поблагодарить всех причастных и пожелать нам всем не расслабляться. Мы ещё только в начале пути. И это здорово!\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EЕсли хотите поделиться этой статьей с англоязычной аудиторией, то прошу использовать ссылку на перевод: Sergey Khrenov. \u003Ca href=\u0022https:\/\/habr.com\/en\/company\/pvs-studio\/blog\/572602\/\u0022\u003EPVS-Studio team\u0027s kanban board. Part 2: YouTrack\u003C\/a\u003E.\u003C\/p\u003E",
      "is_comments_hide": 0,
      "editor_version": 1,
      "hubs": [
        {
          "id": 18095,
          "alias": "pvs-studio",
          "title": "Блог компании PVS-Studio",
          "is_membership": false,
          "is_profiled": false,
          "is_company": true,
          "icon": "",
          "path": "company\/pvs-studio\/"
        },
        {
          "id": 19583,
          "alias": "dev_management",
          "title": "Управление разработкой",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/dev_management\/"
        },
        {
          "id": 20682,
          "alias": "pm",
          "title": "Управление проектами",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/pm\/"
        }
      ],
      "flows": [
        {
          "id": 3,
          "name": "Менеджмент",
          "alias": "management",
          "url": "https:\/\/habr.com\/ru\/flows\/management\/",
          "path": "\/flows\/management\/"
        }
      ],
      "is_recovery_mode": false,
      "reading_count": 53,
      "metadata": {
        "meta_image": "",
        "lead_image": null
      },
      "path": "\/company\/pvs-studio\/blog\/572604\/",
      "full_url": "https:\/\/habr.com\/ru\/company\/pvs-studio\/blog\/572604\/",
      "author": {
        "id": 54110,
        "login": "n0mo",
        "time_registered": "2010-02-03T12:59:03+03:00",
        "score": 39.5,
        "fullname": "Sergey Khrenov",
        "specializm": "Project Manager",
        "sex": 1,
        "rating": 0,
        "vote": 0,
        "note": {
          "text": null
        },
        "contacts": [],
        "rating_position": 0,
        "path": "\/users\/n0mo\/",
        "geo": {
          "country": "Россия",
          "region": "Тульская обл.",
          "city": "Тула"
        },
        "counters": {
          "posts": 41,
          "comments": 25,
          "followed": 1,
          "followers": 5,
          "favorites": 3
        },
        "badges": [
          {
            "id": 1,
            "title": "Захабренный",
            "alias": "habred",
            "description": "Пользователь с кармой \u003E0",
            "url": null,
            "is_removable": false,
            "is_disabled": false
          }
        ],
        "avatar": "https:\/\/habrastorage.org\/getpro\/habr\/avatars\/42e\/a31\/df1\/42ea31df1e5cebaf2895904b98d875a0.jpg",
        "is_readonly": false,
        "is_rc": false,
        "is_subscribed": false,
        "common_tags": [],
        "is_can_vote": true
      },
      "has_polls": false,
      "url": "https:\/\/habr.com\/ru\/company\/pvs-studio\/blog\/572604\/",
      "post_type": 1,
      "post_type_str": "simple",
      "vote": null,
      "is_can_vote": true,
      "voting": {
        "score": 0,
        "voteCount": {
          "total": 0,
          "positive": 0,
          "negative": 0
        },
        "vote": null,
        "reasonMap": null
      },
      "is_habred": true,
      "is_interesting": false,
      "is_favorite": false,
      "comments_new": null
    },
    {
      "id": 572560,
      "is_corporative": 1,
      "is_tutorial": false,
      "time_published": "2021-08-12T15:37:11+03:00",
      "time_interesting": null,
      "comments_count": 0,
      "score": 3,
      "votes_count": 5,
      "favorites_count": 6,
      "lang": "ru",
      "tags_string": "git, gitlab, github, development, commit, commit message, commit subject, merge, merge request, pull request",
      "title": "Как оформить серию коммитов Git, чтобы её приняли в любой проект",
      "preview_html": "\u003Cp\u003EДобрый день, коллеги! Доказывать, что нужно использовать систему контроля версий, уже давно не нужно. И Git занял тут лидирующую позицию, стремительно вытеснив SVN. Но это инструмент, а инструментом нужно уметь пользоваться, чтобы добиться лучших результатов. Как топором, один человек сможет просто срубить дерево а другой из этого дерева сможет сделать великолепную скульптуру. Так и с помощью Git, один человек сможет просто не потерять результаты своего труда за день, а другие смогут организовать совместную работу над проектом нескольких сотен человек. Да так, что о любой строчке кода можно будет и через пять лет сказать, откуда она взялась и для чего нужна.\u003C\/p\u003E\u003Cp\u003EПостараюсь рассказать для начинающих и не очень разработчиков, как оформлять свои коммиты, чтобы их максимально быстро и без претензий принимали в любые проекты, как опенсорсные так и коммерческие.\u003C\/p\u003E",
      "text_cut": "Читать далее",
      "text_html": "\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/af9\/b1c\/1a8\/af9b1c1a81b535d6b7f4c95cf4b19d49.png\u0022 width=\u00221280\u0022 height=\u0022175\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cp\u003EДобрый день, коллеги! Доказывать, что нужно использовать систему контроля версий, уже давно не нужно. И Git занял тут лидирующую позицию, стремительно вытеснив SVN. Но это инструмент, а инструментом нужно уметь пользоваться, чтобы добиться лучших результатов. Как топором, один человек сможет просто срубить дерево, а другой из этого дерева сможет сделать великолепную скульптуру. Так и с помощью Git, один человек сможет просто не потерять результаты своего труда за день, а другие смогут организовать совместную работу над проектом нескольких сотен человек. Да так, что о любой строчке кода можно будет и через пять лет сказать, откуда она взялась и для чего нужна.\u003C\/p\u003E\u003Cp\u003EПостараюсь рассказать для начинающих и не очень разработчиков, как оформлять свои коммиты, чтобы их максимально быстро и без претензий принимали в любые проекты, как опенсорсные так и коммерческие.\u003C\/p\u003E\u003Ch2\u003EЗаголовок\u003C\/h2\u003E\u003Cp\u003EНачнем с самой важной, на мой взгляд, части, которая не требует погружения в технические детали: заголовок коммита. Это первая строка в commit message, которая отделена пустой строкой от остального текста. Человеку, который только пишет код, может быть сразу не очевидна важность заголовка. Но те люди, которые следят за репозиторием, выпускают релизы и работают с основными ветками точно будут очень благодарны за качественные заголовки. Дело в том, что при работе с большим количеством коммитов никто не заглядывает в тело сообщения и, тем более, в код. В основном смотрят списки, которые можно получить командой:\u003C\/p\u003E\u003Cpre\u003E\u003Ccode class=\u0022bash\u0022\u003Egit log --pretty=oneline\u003C\/code\u003E\u003C\/pre\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/09e\/fa4\/33b\/09efa433b1cb68b596328aadaa676362.png\u0022 alt=\u0022Пример вывода git commit --pretty=oneline\u0022 title=\u0022Пример вывода git commit --pretty=oneline\u0022 width=\u00221503\u0022 height=\u0022407\u0022\u003E\u003Cfigcaption\u003EПример вывода git commit --pretty=oneline\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cp\u003EМногие графические инструменты для работы с Git-ом также по умолчанию показывают только заголовки. В таком режиме просмотра хочется прочитав \u003Cstrong\u003Eминимальное количество слов\u003C\/strong\u003E понять, что это за коммит. Отсюда получаем набор правил, который более-менее одинаков во всех проектах.\u003C\/p\u003E\u003Ch3\u003EДлина\u003C\/h3\u003E\u003Cp\u003EНа многих ресурсах написано, что заголовки желательно делать не более 50 символов, но в такую длину довольно сложно уложиться. Лично меня напрягают заголовки длиннее 80 символов. Наверное, самое часто встречающееся ограничение — это 72 символа. Иногда в заголовок требуют включать какую-либо метаинформацию, например, ID задачи в жире:\u003C\/p\u003E\u003Cpre\u003E\u003Ccode class=\u0022bash\u0022\u003EMYPROJECT-3244: Add API for password change\u003C\/code\u003E\u003C\/pre\u003E\u003Cp\u003EТакая метаинформация бессознательно пропускается мозгом, и я бы это не учитывал в ограничении. Слишком коротким заголовок тоже делать не следует, так как в этом случае по нему не будет понятно, для чего именно нужен этот коммит.\u003C\/p\u003E\u003Cp\u003EИ уж точно не стоит писать в заголовок только ссылку на внешний ресурс, ID задачи в жире или на постановку задачи в вики. Только из прочтения заголовка коммита должно быть понятно, к чему он относится.\u003C\/p\u003E\u003Cp\u003EИ еще не должно быть предположения, что порядок коммитов останется таким же, в каком вы его послали. Не нужно ссылаться на предыдущие коммиты.\u003C\/p\u003E\u003Cp\u003EПримеры, как делать не нужно:\u003C\/p\u003E\u003Cpre\u003E\u003Ccode\u003Efix bug\nnew feature\nSmall fix to that API\nImplement API for password change\nissue43\nhttp:\/\/jira.example.com\/BACKEND-34345\nIn some cases ‘prev’ pointer is equal to ‘next’ so the check for the list length returns wrong values which leads to out of bounds errors in function has_access\nreturn 0 instead of 1 in has_access\u003C\/code\u003E\u003C\/pre\u003E\u003Ch3\u003EГрамматика\u003C\/h3\u003E\u003Cp\u003EЗаголовки коммитов следует писать аналогично заголовкам газет, потому что цель у них примерно одна и та же: чтобы читатель, увидев заголовок беглым взглядом, смог понять, о чем эта статья\/коммит. Так что не стоит использовать сложные языковые конструкции, следует стараться использовать минимум знаков препинания. Если пишем на английком языке — не нужно использовать артикли, а глаголы должны быть в повелительном наклонении (imperative mood). Точку в конце ставить не нужно:\u003C\/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003E\u003Cs\u003EI’ve added API for password change\u003C\/s\u003E\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cs\u003EThe API for a password change has been added\u003C\/s\u003E\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cs\u003EAdded API for password change\u003C\/s\u003E\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cs\u003EThis commit adds API for password change\u003C\/s\u003E\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cs\u003EAdd new API. This API changes password.\u003C\/s\u003E\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EAdd API for password change\u003C\/p\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003Ch3\u003EУникальность\u003C\/h3\u003E\u003Cp\u003EИ, наверное, самое важное свойство, которым должен обладать заголовок коммита: он не должен повторяться хотя бы несколько месяцев. Понятно, что вы не сможете каждый раз искать дубли по всей истории, но делать один за другим несколько коммитов с одинаковыми заголовками точно не стоит. Дело в том, что часто, чтобы посмотреть наличие какого-то коммита в ветке, проще всего просто поискать по заголовку и такой подход дублирующиеся заголовки сломают. Да и при просмотре истории в однострочном режиме видеть одинаковые коммиты совсем не хочется.\u003C\/p\u003E\u003Cp\u003EИногда возникают ситуации, когда починили какой-то баг, а он не исправился и возникает желание во второй раз написать такой же заголовок. Постарайтесь, пожалуйста, так не делать, этим вы сильно облегчите жизнь другим участникам проекта и особенно — ответственному за репозиторий.\u003C\/p\u003E\u003Cp\u003EСначала писать заголовки очень сложно. Но это будет гораздо проще, если правильно разбивать свои изменения на коммиты, о чем поговорим чуть позже. Да и нужно расшевелить свою гуманитарную половину мозга и постоянно тренироваться — и в рабочих проектах, и в личных, в которые никто кроме вас не заглядывает, и даже на обучении.\u003C\/p\u003E\u003Ch2\u003ECommit message\u003C\/h2\u003E\u003Cp\u003EНаписать хороший заголовок лучше чем ничего (то есть плохой заголовок). Но если в проекте много участников, сформировалась значительная кодовая база и проект планируется поддерживать еще долгое время (больше полугода). То нужно писать и тело commit message.\u003C\/p\u003E\u003Cp\u003EОсновное правило — не нужно писать, что делает коммит, нужно писать, для чего он это делает. То есть если это фикс бага — конкретно о том, что это фикс бага будет указано в заголовке. А в теле коммита нужно поподробнее описать, что это за баг, когда он проявляется и, самое главное, почему ваши правки в коде этот баг исправляют.\u003C\/p\u003E\u003Cp\u003EСсылки не должны заменять текст коммита. Если баг описан в жире, то вместо того, чтобы просто вставлять ссылку на жиру, надо кратко пересказать, что там написано, прямо в теле commit message.\u003C\/p\u003E\u003Cp\u003EПо оформлению: не следует писать все в одну строку, желательно переносить по границе 72 символов. Так же следует использовать повелительное наклонение в предложениях, где описано, что делает этот коммит.\u003C\/p\u003E\u003Cp\u003EПример хорошего commit message (из проекта libvirt):\u003C\/p\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/a71\/76e\/5a7\/a7176e5a78220a32717750ed94776050.png\u0022 width=\u0022868\u0022 height=\u0022395\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Ch2\u003EАвтор\u003C\/h2\u003E\u003Cp\u003EСамое главное, чего не следует делать, — это посылать свои коммиты с разных адресов. Так как кому-то может потребоваться посмотреть список ваших коммитов, и если вы посылаете с разных адресов — это будет делать неудобно. К счастью в Git можно указать отдельный адрес для каждого репозитория:\u003C\/p\u003E\u003Cpre\u003E\u003Ccode class=\u0022bash\u0022\u003Egit config user.name \u0022Ivan Ivanov\u0022\ngit config user.email ivan.ivanov@example.com\u003C\/code\u003E\u003C\/pre\u003E\u003Cp\u003EЭти команды нужно запускать из папки репозитория, который вы хотите настроить.\u003C\/p\u003E\u003Ch2\u003EЧто включать в одну серию\u003C\/h2\u003E\u003Cp\u003EВ одну крайне желательно включать только те коммиты, которые никогда не потребуется вливать частями. То есть не следует смешивать срочные фиксы багов и реализацию экспериментальных фич. Так как перед релизом может возникнуть необходимость влить фиксы багов, а вот фичи оставить до лучших времен.\u003C\/p\u003E\u003Cp\u003EТак же серия коммитов должна оставить после себя проект в полностью рабочем состоянии, насколько этом возможно. Абсолютно точно она не должна сломать компиляцию, тесты, линтер и нарушить какие-то другие соглашения, принятые в проекте в надежде, что следующая ваша серия это исправит.\u003C\/p\u003E\u003Ch2\u003EКак делить на коммиты\u003C\/h2\u003E\u003Cp\u003EПри делении своих изменений на коммиты не следует смешивать изменения разных типов. Но и делать слишком мелкие коммиты тоже не нужно. Постараюсь описать несколько ситуаций, из которых станет более понятна идея.\u003C\/p\u003E\u003Ch3\u003EРевью\u003C\/h3\u003E\u003Cp\u003EВы решили исправить баг, но внезапно оказалось, что ругается линтер из-за слишком длинной строчки. Вы решили переименовать переменную, так как её название было излишне длинным. Тут возникает соблазн сделать все одним коммитом. Но ревьюверам такой merge request с одним коммитом будет очень сложно смотреть, так как из сотен строк, которые просто переименовывают переменную, нужно будет отыскать пару-тройку строк, которые действительно исправляют логику. В идеале это надо оформить в виде двух коммитов — первый переименовывает, второй — исправляет баг. Но вообще удобнее, если баг чинится одним коммитом.\u003C\/p\u003E\u003Ch3\u003EПеренос изменений\u003C\/h3\u003E\u003Cp\u003EВ процессе реализации новой фичи вы нашли серьезный баг в безопасности. Не дожидаясь конца отладки новой фичи вы исправили этот баг, после доделали фичу и слелали коммит. И вот так лучше не делать, так как правку серьезного бага скорее всего захотят влить и в старые ветки уже выпущенных релизов или побыстрее влить в мастер в случае облачного продукта. А с фичами спешки скорее всего нет. Если все сделать в одном коммите, то придется вместе с фиксом бага обязательно вливать новую фичу, которая потребует провести полный цикл тестирования.\u003C\/p\u003E\u003Ch3\u003EДекомпозиция\u003C\/h3\u003E\u003Cp\u003EВам поручили сделать новую фичу, и пусть это даже новый небольшой микросервис в отдельном репозитории. Но все мы люди, и выдать за один раз кусок кода размером в 5000 строчек мало кому под силу. Так что несмотря на то, что с точки зрения менеджеров это одна задача, вам будет удобнее эту задачу декомпозировать:\u003C\/p\u003E\u003Col\u003E\u003Cli\u003E\u003Cp\u003EДобавить шаблон микросервиса.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EДобавить пару базовых методов и работу с базой.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EДобавить взаимодействие с сервисом X.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EДобавить еще методов.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EДобавить обработку каких-то сложных случаев и дополнительных параметров в первые два метода.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E...\u003C\/p\u003E\u003C\/li\u003E\u003C\/ol\u003E\u003Cp\u003EМожно конечно все это сделать одним коммитом. Но скорее всего за один день это сделать не получится, так что встанет вопрос о сохранении промежуточной работы. Во-вторых, начальник захочет отслеживать ваш прогресс и если делаете отдельными коммитами — это будет гораздо проще. Да и самому удобно наметить какой-то план работы и на каждый пункт этого плана делать коммит.\u003C\/p\u003E\u003Cp\u003EБывают ситуации, когда вы вошли в раж и починили три бага и реализовали пару фич и только потом вспомнили, что эти изменения надо еще и куда-то послать. В этом случае поможет интерактивный коммит. Подробно останавливаться на нем не буду, так как иначе статья получится слишком большая. Запускается командой:\u003C\/p\u003E\u003Cpre\u003E\u003Ccode class=\u0022bash\u0022\u003Egit commit --interactive\u003C\/code\u003E\u003C\/pre\u003E\u003Cp\u003EПозволяет добавить в разные коммиты даже изменения в одном файле.\u003C\/p\u003E\u003Ch3\u003EАбсолютное зло, которое ни в коем случае нельзя допускать\u003C\/h3\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003Efix compilation\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003Efix tests\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003Efix linter\u003C\/p\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003Cp\u003EЭто коммиты, которые чинят предыдущие коммиты в этой же серии. Никому не интересен тот факт, что вы при написании кода допустили ошибку и сразу же её исправили, интересен только конечный результат. Всё это лучше проверить и исправить до того, как будет сделан коммит. Если забыли и закоммитили а оказалось, что тесты не проходят, то от таких коммитов надо избавляться. Каким образом — в следующей главе.\u003C\/p\u003E\u003Ch2\u003EРедактирование коммитов\u003C\/h2\u003E\u003Cp\u003E\u003Cstrong\u003EПредупреждение\u003C\/strong\u003E — редактировать коммиты можно только до тех пор, пока кто-то другой их себе не взял. Например, если вы сделали несколько коммитов, но не запушили это в общий репозиторий. Или уже запушили, но никто вашу ветку себе не брал и ничего не дорабатывал поверх.\u003C\/p\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/03e\/666\/486\/03e666486090ca3a43dc77205b531adc.png\u0022 width=\u00221404\u0022 height=\u0022728\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cp\u003EВ такой ситуации нельзя редактировать коммит \u003Cstrong\u003EB\u003C\/strong\u003E. Если вы уже делали \u003Ccode\u003Egit push\u003C\/code\u003E для вашей ветки, то после редактирования коммитов \u003Ccode\u003Egit push\u003C\/code\u003E надо делать с опцией —\u003Ccode\u003Eforce\u003C\/code\u003E. Да, и категорически запрещено редактировать коммиты в мастере. Вернемся к самому редактированию.\u003C\/p\u003E\u003Cp\u003EСамый простой случай — вы нашли ошибку в последнем коммите. В этом случае после исправления нужно для каждого измененного и добавленного файла сделать \u003Ccode\u003Egit add\u003C\/code\u003E и потом \u003Ccode\u003Egit commit --amend\u003C\/code\u003E. Там же можно будет отредактировать commit message.\u003C\/p\u003E\u003Cp\u003EИ немного более сложный случай — когда нужно внести правки в несколько коммитов. В этом случае нужно правки к каждому коммиту оформить в виде отдельного коммита и потом сделать \u003Ccode\u003Egit rebase --interactive\u003C\/code\u003E. Там надо переместить коммиты-фиксы после коммитов, которые они исправляют и указать команду \u003Cstrong\u003Efixup\u003C\/strong\u003E:\u003C\/p\u003E\u003Ciframe id=\u00226115035b920526a288c7e1bc\u0022 src=\u0022https:\/\/embedd.srv.habr.com\/iframe\/6115035b920526a288c7e1bc\u0022 class=\u0022embed_video embed__content\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C\/iframe\u003E\u003Ch2\u003EКак обновлять из mainstream\u003C\/h2\u003E\u003Cp\u003EЧасто работа над какой-то фичей ведется долгое время и вам может, например, понадобиться функция, которую добавили в проект уже после того, как вы начали работу над вашей фичей. В этом случае нужно подтянуть свежие изменения в свою ветку.\u003C\/p\u003E\u003Cp\u003E\u003Cstrong\u003EПожалуйста, не пользуйтесь для этого IDE и командой git pull!\u003C\/strong\u003E Никто не понимает, что при этом происходит и постоянно делают что-то не то.\u003C\/p\u003E\u003Cp\u003EВообще есть 2 способа добавить свежие изменения из mainstream в вашу ветку:\u003C\/p\u003E\u003Cp\u003E\u003Cstrong\u003ERebase\u003C\/strong\u003E — переносит ваши изменения поверх mainstream. История получается максимально чистая, но коммиты меняются. То есть если кто-то воспользовался вашей веткой, а вы ее поребейсили — у вашего товарища могут возникнуть проблемы.\u003C\/p\u003E\u003Cp\u003E\u003Cstrong\u003EMerge\u003C\/strong\u003E — выбирая путь merge приходится отказаться от редактирования коммитов и считать, что как только вы набрали \u003Ccode\u003Egit commit\u003C\/code\u003E — коммит высечен в камне, и рано или поздно окажется в мастере.\u003C\/p\u003E\u003Cp\u003EТема выбора merge или rebase очень холиварная. По опыту очень мало людей могут правильно использовать merge. Начинающие пользователи git вообще не понимают, что это такое, и часто пишут код и чинят баги внутри merge-коммитов, а на ежедневных совещаниях (стендапах) можно услышать \u0022я вчера мержил весь день ветки\u0022.\u003C\/p\u003E\u003Cp\u003EЕсли совсем кратко: при использовании rebase будет чистая история, но нельзя организовать работку нескольких человек над фичей в отдельной ветке. При merge наоборот: любой коммит, косой-кривой, с ошибками и ломающий все на свете навсегда впечатывается в историю но зато несколько человек могут работать над фичей в отдельной ветке.\u003C\/p\u003E\u003Cp\u003EПравильное использование rebase:\u003C\/p\u003E\u003Cpre\u003E\u003Ccode class=\u0022bash\u0022\u003Egit fetch # скачиваем изменения с сервера\n# надо находиться в ветке, которую вы хотите обновить\n# вместо origin\/master нужно вписать вашу mainstream-ветку\ngit rebase origin\/master\n# далее, если возник конфликт, исправляем его и делаем \ngit add file-with-conflict.go\ngit rebase --continue\n# повторяем до тех пор, пока не появится сообщение\n# Successfully rebased and updated ...\u003C\/code\u003E\u003C\/pre\u003E\u003Cp\u003EПравильное использование merge:\u003C\/p\u003E\u003Cpre\u003E\u003Ccode class=\u0022bash\u0022\u003Egit fetch # скачиваем изменения с сервера\n# надо находиться в ветке, которую вы хотите обновить\n# вместо origin\/master нужно вписать вашу mainstream ветку\ngit merge origin\/master\n# далее, если возник конфликт\ngit add file-with-conflict.go\ngit commit\u003C\/code\u003E\u003C\/pre\u003E\u003Cp\u003EНа мой взгляд, более выгодно привыкнуть делать rebase, так как его вам никто не запретит. А вот merge-коммиты вы как минимум не сможете послать в проекты, которые принимают изменения через список рассылки.\u003C\/p\u003E\u003Ch2\u003EЗаключение\u003C\/h2\u003E\u003Cp\u003EПожалуйста, оформляйте свои коммиты должным образом. Так вы покажете свой высокий профессионализм и сильно упростите жизнь коллегам.\u003C\/p\u003E",
      "is_comments_hide": 0,
      "editor_version": 2,
      "hubs": [
        {
          "id": 4992,
          "alias": "mailru",
          "title": "Блог компании Mail.ru Group",
          "is_membership": false,
          "is_profiled": false,
          "is_company": true,
          "icon": "",
          "path": "company\/mailru\/"
        },
        {
          "id": 7151,
          "alias": "git",
          "title": "Git",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/git\/"
        },
        {
          "id": 18790,
          "alias": "github",
          "title": "GitHub",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/github\/"
        },
        {
          "id": 19583,
          "alias": "dev_management",
          "title": "Управление разработкой",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/dev_management\/"
        },
        {
          "id": 19727,
          "alias": "linux_dev",
          "title": "Разработка под Linux",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/linux_dev\/"
        }
      ],
      "flows": [
        {
          "id": 1,
          "name": "Разработка",
          "alias": "develop",
          "url": "https:\/\/habr.com\/ru\/flows\/develop\/",
          "path": "\/flows\/develop\/"
        },
        {
          "id": 3,
          "name": "Менеджмент",
          "alias": "management",
          "url": "https:\/\/habr.com\/ru\/flows\/management\/",
          "path": "\/flows\/management\/"
        }
      ],
      "is_recovery_mode": false,
      "reading_count": 454,
      "metadata": {
        "meta_image": "https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/7f9\/7c0\/ede\/7f97c0ede1291cf68d8908a19ef77656.png",
        "lead_image": "https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/7f9\/7c0\/ede\/7f97c0ede1291cf68d8908a19ef77656.png",
        "lead_image_info": {
          "url": "https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/7f9\/7c0\/ede\/7f97c0ede1291cf68d8908a19ef77656.png",
          "fit": "cover",
          "positionY": 0,
          "positionX": 0
        }
      },
      "path": "\/company\/mailru\/blog\/572560\/",
      "full_url": "https:\/\/habr.com\/ru\/company\/mailru\/blog\/572560\/",
      "author": {
        "id": 469146,
        "login": "guryanov",
        "time_registered": "2013-10-25T22:38:27+04:00",
        "score": 30.2,
        "fullname": null,
        "specializm": "Пользователь",
        "sex": 1,
        "rating": 3,
        "vote": 0,
        "note": {
          "text": null
        },
        "contacts": [],
        "rating_position": 731,
        "path": "\/users\/guryanov\/",
        "geo": {
          "country": null,
          "region": null,
          "city": null
        },
        "counters": {
          "posts": 3,
          "comments": 147,
          "followed": 2,
          "followers": 6,
          "favorites": 0
        },
        "badges": [
          {
            "id": 1,
            "title": "Захабренный",
            "alias": "habred",
            "description": "Пользователь с кармой \u003E0",
            "url": null,
            "is_removable": false,
            "is_disabled": false
          }
        ],
        "avatar": "https:\/\/habrastorage.org\/getpro\/habr\/avatars\/7c1\/4e6\/ae2\/7c14e6ae2fb6ae7f3a071309c4395596.jpg",
        "is_readonly": false,
        "is_rc": false,
        "is_subscribed": false,
        "common_tags": [],
        "is_can_vote": true
      },
      "has_polls": false,
      "url": "https:\/\/habr.com\/ru\/company\/mailru\/blog\/572560\/",
      "post_type": 1,
      "post_type_str": "simple",
      "vote": null,
      "is_can_vote": true,
      "voting": {
        "score": 3,
        "voteCount": {
          "total": 5,
          "positive": 4,
          "negative": 1
        },
        "vote": null,
        "reasonMap": null
      },
      "is_habred": true,
      "is_interesting": false,
      "is_favorite": false,
      "comments_new": null
    },
    {
      "id": 572600,
      "is_corporative": 1,
      "is_tutorial": false,
      "time_published": "2021-08-12T15:16:44+03:00",
      "time_interesting": null,
      "comments_count": 0,
      "score": 3,
      "votes_count": 3,
      "favorites_count": 0,
      "lang": "ru",
      "tags_string": "информационная безопасность, security, infosec, cybersecurity, patchtuesday, microsoft, vulnerability, 0-day, exploit",
      "title": "Update Tuesday: Microsoft выпустила августовские обновления безопасности",
      "preview_html": "\u003Cp\u003EMicrosoft выпустила плановые обновления безопасности, закрывающие 44 уязвимости (51 уязвимость, включая закрытые уязвимости в браузере Microsoft Edge), 7 из которых были классифицированы как критические, 3 относились к типу уязвимостей нулевого дня (0-day), и 1 уязвимость была использована в реальных атаках. В данной статье я расскажу о самых главных моментах августовского выпуска обновлений.\u003C\/p\u003E",
      "text_cut": "Узнать, как защитить свою систему",
      "text_html": "\u003Cp\u003EMicrosoft выпустила плановые обновления безопасности, закрывающие 44 уязвимости (51 уязвимость, включая закрытые уязвимости в браузере Microsoft Edge), 7 из которых были классифицированы как критические, 3 относились к типу уязвимостей нулевого дня (0-day), и 1 уязвимость была использована в реальных атаках. В данной статье я расскажу о самых главных моментах августовского выпуска обновлений.\u003C\/p\u003E\u003Cblockquote\u003E\u003Cp\u003E\u003Cem\u003EПомните, почти 90% всех уязвимостей уже имели патчи от производителей на момент своего обнародования*, поэтому так важно не просто обновлять ваше ПО, но и делать это своевременно\u003Cbr\u003E*Vulnerability Review Report by Flexera\u003C\/em\u003E\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cp\u003EСводная информация по количеству и типу уязвимостей в соответствующих продуктах приведена на графике.\u003C\/p\u003E\u003Cfigure class=\u0022bordered full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/5ee\/c90\/237\/5eec9023773525302d1a804f7c901cac.jpg\u0022 alt=\u0022Microsoft Patch Tuesday - Microsoft выпустила августовские обновления безопасности\u0022 title=\u0022Microsoft Patch Tuesday - Microsoft выпустила августовские обновления безопасности\u0022 width=\u00224359\u0022 height=\u00222429\u0022\u003E\u003Cfigcaption\u003EMicrosoft Patch Tuesday - Microsoft выпустила августовские обновления безопасности\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Ch2\u003EНа следующие уязвимости и обновления безопасности следует обратить особое внимание\u003C\/h2\u003E\u003Cp\u003E\u003Ca href=\u0022https:\/\/msrc.microsoft.com\/update-guide\/vulnerability\/CVE-2021-34535\u0022\u003ECVE-2021-34535\u003C\/a\u003E - Remote Desktop Client Remote Code Execution Vulnerability (Critical, CVSS Score 8.8)\u003C\/p\u003E\u003Cp\u003E\u003Ca href=\u0022https:\/\/msrc.microsoft.com\/update-guide\/vulnerability\/CVE-2021-26432\u0022\u003ECVE-2021-26432\u003C\/a\u003E - Windows Services for NFS Remote Code Execution Vulnerability (Critical, CVSS Score 9.8)\u003C\/p\u003E\u003Cp\u003E\u003Ca href=\u0022https:\/\/msrc.microsoft.com\/update-guide\/vulnerability\/CVE-2021-26424\u0022\u003ECVE-2021-26424\u003C\/a\u003E - Windows TCP\/IP Remote Code Execution Vulnerability (Critical, CVSS Score 9.9)\u003C\/p\u003E\u003Cp\u003E\u003Ca href=\u0022https:\/\/msrc.microsoft.com\/update-guide\/vulnerability\/CVE-2021-34480\u0022\u003ECVE-2021-34480\u003C\/a\u003E - Scripting Engine Memory Corruption Vulnerability (Critical Remote Code Execution, CVSS Score 6.8)\u003C\/p\u003E\u003Cp\u003E\u003Ca href=\u0022https:\/\/msrc.microsoft.com\/update-guide\/vulnerability\/CVE-2021-34478\u0022\u003ECVE-2021-34478\u003C\/a\u003E - Microsoft Office Remote Code Execution Vulnerability (Important Remote Code Execution, CVSS Score 7.8)\u003C\/p\u003E\u003Cp\u003E\u003Ca href=\u0022https:\/\/msrc.microsoft.com\/update-guide\/vulnerability\/CVE-2021-36941\u0022\u003ECVE-2021-36941\u003C\/a\u003E - Microsoft Word Remote Code Execution Vulnerability (Important Remote Code Execution, CVSS Score 7.8)\u003C\/p\u003E\u003Cp\u003EИнформация о следующих уязвимостях была \u003Cstrong\u003Eобнародована публично\u003C\/strong\u003E:\u003C\/p\u003E\u003Cp\u003E\u003Ca href=\u0022https:\/\/msrc.microsoft.com\/update-guide\/vulnerability\/CVE-2021-36934\u0022\u003ECVE-2021-36934\u003C\/a\u003E - Windows Elevation of Privilege Vulnerability (Important, CVSS Score 7.8)\u003C\/p\u003E\u003Cp\u003E\u003Ca href=\u0022https:\/\/msrc.microsoft.com\/update-guide\/vulnerability\/CVE-2021-36942\u0022\u003ECVE-2021-36942\u003C\/a\u003E - Windows LSA Spoofing Vulnerability (Important, CVSS Score 7.5)\u003C\/p\u003E\u003Cp\u003EДанная уязвимость используется в атаке, получившей название PetitPotam. \u003Cem\u003EДля полного устранения уязвимости\u003C\/em\u003E помимо установки обновления необходимо выполнить настройку согласно инструкциям в статье \u003Ca href=\u0022https:\/\/msrc.microsoft.com\/update-guide\/vulnerability\/ADV210003\u0022\u003EADV21003\u003C\/a\u003E Mitigating NTLM Relay Attacks on Active Directory Certificate Services (AD CS).\u003C\/p\u003E\u003Cp\u003EЭксплуатация следующих уязвимостей была \u003Cstrong\u003Eзафиксирована в реальных атаках\u003C\/strong\u003E:\u003C\/p\u003E\u003Cp\u003E\u003Ca href=\u0022https:\/\/msrc.microsoft.com\/update-guide\/vulnerability\/CVE-2021-36948\u0022\u003ECVE-2021-36948\u003C\/a\u003E - Windows Update Medic Service Elevation of Privilege Vulnerability (Important EOP, CVSS Score 7.8)\u003C\/p\u003E\u003Cp\u003EЗамыкает команду лидеров августовского выпуска тройка уязвимостей в диспетчере очереди печати \u003Cstrong\u003EWindows Print Spooler\u003C\/strong\u003E, относящаяся к атаке PrintNightmare и заслуживающая отдельного внимания:\u003C\/p\u003E\u003Cp\u003E\u003Ca href=\u0022https:\/\/msrc.microsoft.com\/update-guide\/vulnerability\/CVE-2021-36936\u0022\u003ECVE-2021-36936\u003C\/a\u003E - Windows Print Spooler Remote Code Execution Vulnerability (Critical, Publicly Disclosed, CVSS Score 8.8)\u003C\/p\u003E\u003Cp\u003E\u003Ca href=\u0022https:\/\/msrc.microsoft.com\/update-guide\/vulnerability\/CVE-2021-36947\u0022\u003ECVE-2021-36947\u003C\/a\u003E - Windows Print Spooler Remote Code Execution Vulnerability (Important, CVSS Score 8.8)\u003C\/p\u003E\u003Cp\u003E\u003Ca href=\u0022https:\/\/msrc.microsoft.com\/update-guide\/vulnerability\/CVE-2021-34483\u0022\u003ECVE-2021-34483\u003C\/a\u003E - Windows Print Spooler Elevation of Privilege Vulnerability (Important, CVSS Score 7.8)\u003C\/p\u003E\u003Cp\u003EДанные уязвимости затрагивают все версии ОС Windows и Windows Sever. Одна из уязвимостей имеет уровень Критический и была обнародована публично. Необходимо отметить, что \u003Cem\u003Eпосле установки обновления безопасности меняется по умолчанию поведение функции Point and Print\u003C\/em\u003E – теперь установка и обновление драйверов принтеров доступно только пользователям с административными учетными записями. Подробности можно найти в нашем \u003Ca href=\u0022https:\/\/aka.ms\/PointPrintMSRCBlog\u0022\u003Eблоге\u003C\/a\u003E.\u003C\/p\u003E\u003Ch2\u003EНе забудьте про обновления стека обслуживания\u003C\/h2\u003E\u003Cp\u003EВ августе были \u003Ca href=\u0022https:\/\/portal.msrc.microsoft.com\/en-US\/security-guidance\/advisory\/ADV990001\u0022\u003Eвыпущены\u003C\/a\u003E обновления Servicing Stack Updates (SSU) для следующих ОС:\u003C\/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003EWindows 10 версии 1809, 1909, 2004, 20H2, 21H1\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EWindows Server 2019 версии 1909, 2004, 20H2\u003C\/p\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003Cp\u003EДля версий Windows 10 и Windows Server 2004 и 20H2 обновления SSU теперь поставляются в \u003Cem\u003Eедином накопительном пакете (Unified monthly update)\u003C\/em\u003E вместе с остальными обновлениями. О том, как установить сразу и обновления SSU, и обновления безопасности ОС в одном накопительном пакете, автоматически, соблюдая правильную последовательность, читайте в нашем \u003Ca href=\u0022https:\/\/techcommunity.microsoft.com\/t5\/windows-it-pro-blog\/deploy-windows-ssus-and-lcus-together-with-one-cumulative-update\/ba-p\/1967887\u0022\u003Eблоге\u003C\/a\u003E.\u003C\/p\u003E\u003Cp\u003EКак всегда самую полную и актуальную информацию об уязвимостях и обновлениях безопасности вы можете найти на нашем портале \u003Ca href=\u0022https:\/\/portal.msrc.microsoft.com\/en-us\/security-guidance\/summary\u0022\u003ESecurity Update Guide\u003C\/a\u003E. Полный список статей базы знаний для соответствующих пакетов обновлений, с которыми связаны потенциальные проблемы при установке приведен в \u003Ca href=\u0022https:\/\/msrc.microsoft.com\/update-guide\/releaseNote\u0022\u003Eзаметках к выпуску\u003C\/a\u003E.\u003C\/p\u003E\u003Cp\u003EВы также можете \u003Ca href=\u0022https:\/\/aka.ms\/PatchTuesdayCast\u0022\u003Eпосмотреть\u003C\/a\u003E запись нашего ежемесячного вебинара \u003Cstrong\u003E\u0022Брифинг по обновлениям безопасности Microsoft\u0022\u003C\/strong\u003E с более подробным разбором этого выпуска обновлений и наиболее важных уязвимостей.\u003C\/p\u003E\u003Cp\u003EА для того, чтобы быть в курсе самых актуальных новостей из мира информационной безопасности Microsoft и не только, подписывайтесь \u003Ca href=\u0022https:\/\/aka.ms\/artsin\u0022\u003Eна канал\u003C\/a\u003E.\u003C\/p\u003E\u003Chr\u003E\u003Cp\u003E\u003Cem\u003EАртём Синицын CISSP, CCSP, MCSE, Certified Azure Security Engineer\u003Cbr\u003Eстарший руководитель программ информационной безопасности в странах Центральной и Восточной Европы, Microsoft\u003C\/em\u003E\u003C\/p\u003E\u003Cp\u003E\u003Ca href=\u0022https:\/\/aka.ms\/artsin\u0022\u003ETwitter\u003C\/a\u003E ⬝ \u003Ca href=\u0022https:\/\/aka.ms\/artsinvideo\u0022\u003EYouTube\u003C\/a\u003E\u003C\/p\u003E",
      "is_comments_hide": 0,
      "editor_version": 2,
      "hubs": [
        {
          "id": 5058,
          "alias": "microsoft",
          "title": "Блог компании Microsoft",
          "is_membership": false,
          "is_profiled": false,
          "is_company": true,
          "icon": "",
          "path": "company\/microsoft\/"
        },
        {
          "id": 50,
          "alias": "infosecurity",
          "title": "Информационная безопасность",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/infosecurity\/"
        },
        {
          "id": 221,
          "alias": "sys_admin",
          "title": "Системное администрирование",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/sys_admin\/"
        },
        {
          "id": 598,
          "alias": "ie",
          "title": "Internet Explorer",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/ie\/"
        },
        {
          "id": 21456,
          "alias": "win_dev",
          "title": "Разработка под Windows",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/win_dev\/"
        }
      ],
      "flows": [
        {
          "id": 1,
          "name": "Разработка",
          "alias": "develop",
          "url": "https:\/\/habr.com\/ru\/flows\/develop\/",
          "path": "\/flows\/develop\/"
        },
        {
          "id": 6,
          "name": "Администрирование",
          "alias": "admin",
          "url": "https:\/\/habr.com\/ru\/flows\/admin\/",
          "path": "\/flows\/admin\/"
        }
      ],
      "is_recovery_mode": false,
      "reading_count": 229,
      "metadata": {
        "meta_image": "https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/d05\/519\/4ce\/d055194ce124401288f0963ce94b0d47.png",
        "lead_image": "https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/d05\/519\/4ce\/d055194ce124401288f0963ce94b0d47.png",
        "lead_image_info": {
          "url": "https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/d05\/519\/4ce\/d055194ce124401288f0963ce94b0d47.png",
          "fit": "cover",
          "positionY": 0,
          "positionX": 0
        }
      },
      "path": "\/company\/microsoft\/blog\/572600\/",
      "full_url": "https:\/\/habr.com\/ru\/company\/microsoft\/blog\/572600\/",
      "author": {
        "id": 2676665,
        "login": "dr4ven",
        "time_registered": "2021-04-14T15:39:49+03:00",
        "score": 2,
        "fullname": "Artem Sinitsyn CISSP | CCSP | MCSE",
        "specializm": "Руководитель программ ИБ",
        "sex": 1,
        "rating": 10,
        "vote": 0,
        "note": {
          "text": null
        },
        "contacts": [],
        "rating_position": 399,
        "path": "\/users\/dr4ven\/",
        "geo": {
          "country": "Россия",
          "region": "Москва и Московская обл.",
          "city": "Москва"
        },
        "counters": {
          "posts": 3,
          "comments": 3,
          "followed": 0,
          "followers": 1,
          "favorites": 7
        },
        "badges": [
          {
            "id": 1,
            "title": "Захабренный",
            "alias": "habred",
            "description": "Пользователь с кармой \u003E0",
            "url": null,
            "is_removable": false,
            "is_disabled": false
          }
        ],
        "avatar": "https:\/\/habrastorage.org\/getpro\/habr\/avatars\/923\/c01\/dee\/923c01dee500247b78a807c4f0f9301d.png",
        "is_readonly": false,
        "is_rc": false,
        "is_subscribed": false,
        "common_tags": [],
        "is_can_vote": true
      },
      "has_polls": false,
      "url": "https:\/\/habr.com\/ru\/company\/microsoft\/blog\/572600\/",
      "post_type": 1,
      "post_type_str": "simple",
      "vote": null,
      "is_can_vote": true,
      "voting": {
        "score": 3,
        "voteCount": {
          "total": 3,
          "positive": 3,
          "negative": 0
        },
        "vote": null,
        "reasonMap": null
      },
      "is_habred": true,
      "is_interesting": false,
      "is_favorite": false,
      "comments_new": null
    },
    {
      "id": 572370,
      "is_corporative": 1,
      "is_tutorial": false,
      "time_published": "2021-08-12T14:58:20+03:00",
      "time_interesting": null,
      "comments_count": 0,
      "score": 2,
      "votes_count": 2,
      "favorites_count": 1,
      "lang": "ru",
      "tags_string": "встроенные покупки, подписки in-app purchase, app store, ios разработка, mobile development",
      "title": "iOS in-app purchases: серверная валидация покупок",
      "preview_html": "\u003Cp\u003EСерверная валидация (\u003Ca href=\u0022https:\/\/developer.apple.com\/documentation\/storekit\/original_api_for_in-app_purchase\/choosing_a_receipt_validation_technique\u0022\u003E\u003Cu\u003Eserver-side receipt validation\u003C\/u\u003E\u003C\/a\u003E) — это способ проверить подлинность покупки. В отличие от проверки покупки на устройстве, серверная валидация происходит, внимание, на сервере. Валидация означает, что устройство или сервер обращаются к серверам Apple и спрашивают, действительно ли была покупка и валидная ли она.\u003C\/p\u003E",
      "text_cut": "Читать далее",
      "text_html": "\u003Ch2\u003EiOS in-app purchases: серверная валидация покупок\u003C\/h2\u003E\u003Cp\u003EВсем привет, я Кирилл, СТО \u003Ca href=\u0022https:\/\/adapty.io\/?utm_source=habr.com\u0026amp;utm_medium=referral\u0026amp;utm_campaign=blogpost_ios-iap_server-validation\u0022\u003E\u003Cu\u003EAdapty\u003C\/u\u003E\u003C\/a\u003E. Я делал систему серверной валидации для наших SDK.\u003C\/p\u003E\u003Cp\u003EСегодня как раз и расскажу про серверную верификацию покупок на iOS. Это третья статья из серии о внедрении внутренних покупок на iOS, советую познакомиться с остальными:\u003C\/p\u003E\u003Col\u003E\u003Cli\u003E\u003Cp\u003E\u003Ca href=\u0022https:\/\/habr.com\/ru\/company\/adapty\/blog\/507664\/\u0022\u003E\u003Cu\u003EКонфигурация внутренних покупок и добавление в проект.\u003C\/u\u003E\u003C\/a\u003E\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Ca href=\u0022https:\/\/habr.com\/ru\/company\/adapty\/blog\/512590\/\u0022\u003E\u003Cu\u003EИнициализация и обработка покупки.\u003C\/u\u003E\u003C\/a\u003E\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EСерверная верификация покупок.\u003Cbr\u003E\u003Cbr\u003E\u003Cem\u003EИ подпишитесь, чтобы не пропустить следующие статьи:\u003C\/em\u003E\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EЛокальное тестирование покупок в XCode.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EОбработка ошибок.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EПромо-офферы.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EКак упростить внедрение внутренних покупок с Adapty.\u003C\/p\u003E\u003C\/li\u003E\u003C\/ol\u003E\u003Ch3\u003EЧто такое серверная валидация покупки?\u003C\/h3\u003E\u003Cp\u003EСерверная валидация (\u003Ca href=\u0022https:\/\/developer.apple.com\/documentation\/storekit\/original_api_for_in-app_purchase\/choosing_a_receipt_validation_technique\u0022\u003E\u003Cu\u003Eserver-side receipt validation\u003C\/u\u003E\u003C\/a\u003E) — это способ проверить подлинность покупки. В отличие от проверки покупки на устройстве, серверная валидация происходит, внимание, на сервере. Валидация означает, что устройство или сервер обращаются к серверам Apple и спрашивают, действительно ли была покупка и валидная ли она.\u003C\/p\u003E\u003Ch3\u003EЗачем валидировать покупки\u003C\/h3\u003E\u003Cp\u003EСтоит отметить, что серверная валидация не обязательна, встроенные покупки и подписки будут работать и без неё. Но она даёт ряд преимуществ:\u003C\/p\u003E\u003Col\u003E\u003Cli\u003E\u003Cp\u003E\u003Cstrong\u003EПродвинутая аналитика платежей\u003C\/strong\u003E, особенно актуальная для подписок, потому что все события после активации происходят без участия устройства. Если не сделать серверную обработку покупок, вы не будете знать статус подписки в конкретный момент времени: продлил ли пользователь подписку, отменил ее, есть ли проблема с платежом и тд.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cstrong\u003EПроверка подлинности покупки\u003C\/strong\u003E, то есть вы будете уверены, что это не фродовая транзакция, а значит, пользователь заплатил деньги за ваш продукт.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cstrong\u003EКроссплатформенные подписки\u003C\/strong\u003E. Зная в живом режиме статус подписки пользователя, можно синхронизировать его с другими платформами. Например, пользователь, оформивший подписку на iOS, сможет пользоваться сервисом на Android, Web и других платформах.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cstrong\u003EВозможность контролировать доступ к контенту со стороны сервера\u003C\/strong\u003E, что исключает ситуации, когда пользователь без подписки может получать доступ к данным просто отправляя запросы к серверу.\u003C\/p\u003E\u003C\/li\u003E\u003C\/ol\u003E\u003Cp\u003EПо нашему опыту, один первый пункт — достаточная причина делать обработку покупок на сервере.\u0026nbsp;\u003C\/p\u003E\u003Ch3\u003EВалидация платежей\u003C\/h3\u003E\u003Cp\u003EВ целом процесс валидации платежей на iOS можно описать схемой:\u003C\/p\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/54f\/c6f\/914\/54fc6f914afb05a070a765a726e6f6b0.jpg\u0022 width=\u00223360\u0022 height=\u00221682\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Ch4\u003EПолучение shared secret\u003C\/h4\u003E\u003Cp\u003EЧтобы отправить запрос на валидацию платежа, необходимо предоставить shared secret, с помощью которого авторизуется запрос. Получить его можно в App Store Connect.\u003C\/p\u003E\u003Cp\u003EShared secret может быть создан для конкретного приложения (app-specific) или же для всех приложений в аккаунте (primary).\u003C\/p\u003E\u003Cp\u003EЧтобы получить secret для конкретного приложения, необходимо открыть страницу данного приложения в App Store Connect, перейти в раздел In-App Purchases → Manage и кликнуть на ссылку App-Specific Shared Secret. В открывшемся окне можно будет создать новый или скопировать существующий токен.\u003C\/p\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/547\/cee\/098\/547cee09888d90c9643419250ae2dc98.png\u0022 width=\u00221600\u0022 height=\u0022692\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/f35\/c65\/f15\/f35c65f15e03d3622feea743d0d37f76.png\u0022 width=\u00221570\u0022 height=\u0022570\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cp\u003EЧтобы получить secret для всех приложений в аккаунте, необходимо открыть страницу Users and Access и перейти на вкладку Shared Secret.\u003C\/p\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/9b7\/fa2\/88f\/9b7fa288f0cdad0c46ef2b4380112058.png\u0022 width=\u00221600\u0022 height=\u0022311\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Ch4\u003EЗапрос на валидацию платежа\u003C\/h4\u003E\u003Cp\u003EПосле получения shared secret вы можете отправлять квитанцию (receipt) для валидации на сервер Apple. Это делается с помощью запроса \u003Ca href=\u0022https:\/\/developer.apple.com\/documentation\/appstorereceipts\/verifyreceipt\u0022\u003E\u003Cu\u003EverifyReceipt\u003C\/u\u003E\u003C\/a\u003E. Нужно отправить POST-запрос на \u003Ca href=\u0022https:\/\/buy.itunes.apple.com\/verifyReceipt\u0022\u003E\u003Cu\u003Ehttps:\/\/buy.itunes.apple.com\/verifyReceipt\u003C\/u\u003E\u003C\/a\u003E. В JSON теле запроса нужно отправить shared secret в поле \u003Cem\u003Epassword\u003C\/em\u003E и receipt в поле \u003Ccode\u003Ereceipt-data\u003C\/code\u003E. Также есть опциональный параметр \u003Ccode\u003Eexclude-old-transactions\u003C\/code\u003E. Если его значение true, то для каждой авто-возобновляемой подписки вернётся только последняя транзакция, вместо всей истории продлений.\u003C\/p\u003E\u003Cdetails class=\u0022spoiler\u0022\u003E\u003Csummary\u003EПейлоад запроса на валидацию платежа\u003C\/summary\u003E\u003Cdiv class=\u0022spoiler__content\u0022\u003E\u003Cpre\u003E\u003Ccode class=\u0022json\u0022\u003E{\n    \u0022password\u0022: \u0022f4d35830e3...52aae\u0022,\n    \u0022receipt-data\u0022: \u0022MIIUVQY...4rVpL8NlYh2\/8l7rk0BcStXjQ==\u0022,\n    \u0022exclude-old-transactions\u0022: false\n}\u003C\/code\u003E\u003C\/pre\u003E\u003C\/div\u003E\u003C\/details\u003E\u003Cp\u003EЕсли вы работаете в Sandbox режиме, то есть тестируете покупки, запросы на валидацию надо отправлять на \u003Ca href=\u0022https:\/\/sandbox.itunes.apple.com\/verifyReceipt\u0022\u003E\u003Cu\u003Ehttps:\/\/sandbox.itunes.apple.com\/verifyReceipt\u003C\/u\u003E\u003C\/a\u003E. Shared secret, формат пейлоада и ответа остаются без изменений.\u003C\/p\u003E\u003Cblockquote\u003E\u003Cp\u003EВажно отметить, что receipt, созданный в Sandbox, нельзя будет провалидировать на Production сервере, и наоборот.\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cp\u003EПоэтому в реальных системах рекомендуется всегда первый запрос отправлять на Production сервер, и, если в ответ в ключе \u003Ccode\u003Estatus\u003C\/code\u003E пришла ошибка с кодом \u003Ccode\u003E21007\u003C\/code\u003E, повторить запрос на Sandbox сервер. Такое поведение обязательно нужно включать на период ревью приложения, чтобы сотрудники Apple могли тестировать покупки, и в это же время их могут делать реальные пользователи вашего приложения.\u003C\/p\u003E\u003Cp\u003EСреди других \u003Ca href=\u0022https:\/\/developer.apple.com\/documentation\/appstorereceipts\/status\u0022\u003E\u003Cu\u003Eошибок\u003C\/u\u003E\u003C\/a\u003E, на которые нужно обращать внимание, — \u003Ccode\u003E21004\u003C\/code\u003E, которая говорит о том, что мы используем неправильный secret. Её важно мониторить, потому что она влияет и на пользовательский опыт, и на точность аналитики. В худшем случае, приложение могут удалить из App Store, если пользователю после покупки не даётся доступ к платным возможностям.\u003C\/p\u003E\u003Cp\u003EВ случае успешной валидации (\u003Ccode\u003Estatus=0\u003C\/code\u003E), в \u003Ca href=\u0022https:\/\/developer.apple.com\/documentation\/appstorereceipts\/responsebody\u0022\u003E\u003Cu\u003Eответ\u003C\/u\u003E\u003C\/a\u003E приходит информация о транзакциях пользователя.\u0026nbsp;\u003C\/p\u003E\u003Cdetails class=\u0022spoiler\u0022\u003E\u003Csummary\u003EОтвет на запрос о валидации платежа\u003C\/summary\u003E\u003Cdiv class=\u0022spoiler__content\u0022\u003E\u003Cpre\u003E\u003Ccode class=\u0022json\u0022\u003E{\n  \u0022environment\u0022: \u0022Production\u0022,\n  \u0022receipt\u0022: {\n    \u0022receipt_type\u0022: \u0022Production\u0022,\n    \u0022adam_id\u0022: 123,\n    \u0022app_item_id\u0022: 123,\n    \u0022bundle_id\u0022: \u0022com.adapty.sample_app\u0022,\n    \u0022application_version\u0022: \u00221\u0022,\n    \u0022download_id\u0022: 123,\n    \u0022version_external_identifier\u0022: 123,\n    \u0022receipt_creation_date\u0022: \u00222021-04-28 19:42:01 Etc\/GMT\u0022,\n    \u0022receipt_creation_date_ms\u0022: \u00221619638921000\u0022,\n    \u0022receipt_creation_date_pst\u0022: \u00222021-04-28 12:42:01 America\/Los_Angeles\u0022,\n    \u0022request_date\u0022: \u00222021-08-09 18:26:02 Etc\/GMT\u0022,\n    \u0022request_date_ms\u0022: \u00221628533562696\u0022,\n    \u0022request_date_pst\u0022: \u00222021-08-09 11:26:02 America\/Los_Angeles\u0022,\n    \u0022original_purchase_date\u0022: \u00222017-04-09 21:18:41 Etc\/GMT\u0022,\n    \u0022original_purchase_date_ms\u0022: \u00221491772721000\u0022,\n    \u0022original_purchase_date_pst\u0022: \u00222017-04-09 14:18:41 America\/Los_Angeles\u0022,\n    \u0022original_application_version\u0022: \u00221\u0022,\n    \u0022in_app\u0022: [\n      {\n        \u0022quantity\u0022: \u00221\u0022,\n        \u0022product_id\u0022: \u0022basic_subscription_1_month\u0022,\n        \u0022transaction_id\u0022: \u00221000000831360853\u0022,\n        \u0022original_transaction_id\u0022: \u00221000000831360853\u0022,\n        \u0022purchase_date\u0022: \u00222021-04-28 19:41:58 Etc\/GMT\u0022,\n        \u0022purchase_date_ms\u0022: \u00221619638918000\u0022,\n        \u0022purchase_date_pst\u0022: \u00222021-04-28 12:41:58 America\/Los_Angeles\u0022,\n        \u0022original_purchase_date\u0022: \u00222021-04-28 19:41:58 Etc\/GMT\u0022,\n        \u0022original_purchase_date_ms\u0022: \u00221619638918000\u0022,\n        \u0022original_purchase_date_pst\u0022: \u00222021-04-28 12:41:58 America\/Los_Angeles\u0022,\n        \u0022expires_date\u0022: \u00222021-05-05 19:41:58 Etc\/GMT\u0022,\n        \u0022expires_date_ms\u0022: \u00221620243718000\u0022,\n        \u0022expires_date_pst\u0022: \u00222021-05-05 12:41:58 America\/Los_Angeles\u0022,\n        \u0022web_order_line_item_id\u0022: \u0022230000397200750\u0022,\n        \u0022is_trial_period\u0022: \u0022true\u0022,\n        \u0022is_in_intro_offer_period\u0022: \u0022false\u0022,\n        \u0022in_app_ownership_type\u0022: \u0022PURCHASED\u0022\n      }\n    ]\n  },\n  \u0022latest_receipt_info\u0022: [\n    {\n      \u0022quantity\u0022: \u00221\u0022,\n      \u0022product_id\u0022: \u0022basic_subscription_1_month\u0022,\n      \u0022transaction_id\u0022: \u0022230001020690335\u0022,\n      \u0022original_transaction_id\u0022: \u00221000000831360853\u0022,\n      \u0022purchase_date\u0022: \u00222021-08-04 19:41:58 Etc\/GMT\u0022,\n      \u0022purchase_date_ms\u0022: \u00221628106118000\u0022,\n      \u0022purchase_date_pst\u0022: \u00222021-08-04 12:41:58 America\/Los_Angeles\u0022,\n      \u0022original_purchase_date\u0022: \u00222021-04-28 19:41:58 Etc\/GMT\u0022,\n      \u0022original_purchase_date_ms\u0022: \u00221619638918000\u0022,\n      \u0022original_purchase_date_pst\u0022: \u00222021-04-28 12:41:58 America\/Los_Angeles\u0022,\n      \u0022expires_date\u0022: \u00222021-08-11 19:41:58 Etc\/GMT\u0022,\n      \u0022expires_date_ms\u0022: \u00221628710918000\u0022,\n      \u0022expires_date_pst\u0022: \u00222021-08-11 12:41:58 America\/Los_Angeles\u0022,\n      \u0022web_order_line_item_id\u0022: \u0022230000438372383\u0022,\n      \u0022is_trial_period\u0022: \u0022false\u0022,\n      \u0022is_in_intro_offer_period\u0022: \u0022false\u0022,\n      \u0022in_app_ownership_type\u0022: \u0022PURCHASED\u0022,\n      \u0022subscription_group_identifier\u0022: \u0022272394410\u0022\n    },\n    {\n      \u0022quantity\u0022: \u00221\u0022,\n      \u0022product_id\u0022: \u0022basic_subscription_1_month\u0022,\n      \u0022transaction_id\u0022: \u0022230001017218955\u0022,\n      \u0022original_transaction_id\u0022: \u00221000000831360853\u0022,\n      \u0022purchase_date\u0022: \u00222021-07-28 19:41:58 Etc\/GMT\u0022,\n      \u0022purchase_date_ms\u0022: \u00221627501318000\u0022,\n      \u0022purchase_date_pst\u0022: \u00222021-07-28 12:41:58 America\/Los_Angeles\u0022,\n      \u0022original_purchase_date\u0022: \u00222021-04-28 19:41:58 Etc\/GMT\u0022,\n      \u0022original_purchase_date_ms\u0022: \u00221619638918000\u0022,\n      \u0022original_purchase_date_pst\u0022: \u00222021-04-28 12:41:58 America\/Los_Angeles\u0022,\n      \u0022expires_date\u0022: \u00222021-08-04 19:41:58 Etc\/GMT\u0022,\n      \u0022expires_date_ms\u0022: \u00221628106118000\u0022,\n      \u0022expires_date_pst\u0022: \u00222021-08-04 12:41:58 America\/Los_Angeles\u0022,\n      \u0022web_order_line_item_id\u0022: \u0022230000849023623\u0022,\n      \u0022is_trial_period\u0022: \u0022false\u0022,\n      \u0022is_in_intro_offer_period\u0022: \u0022false\u0022,\n      \u0022in_app_ownership_type\u0022: \u0022PURCHASED\u0022,\n      \u0022subscription_group_identifier\u0022: \u0022272394410\u0022\n    }\n  ],\n  \u0022latest_receipt\u0022: \u0022MIIUVQY...4rVpL8NlYh2\/8l7rk0BcStXjQ==\u0022,\n  \u0022pending_renewal_info\u0022: [\n    {\n      \u0022auto_renew_product_id\u0022: \u0022basic_subscription_1_month\u0022,\n      \u0022product_id\u0022: \u0022basic_subscription_1_month\u0022,\n      \u0022original_transaction_id\u0022: \u00221000000831360853\u0022,\n      \u0022auto_renew_status\u0022: \u00221\u0022\n    }\n  ],\n  \u0022status\u0022: 0\n}\u003C\/code\u003E\u003C\/pre\u003E\u003C\/div\u003E\u003C\/details\u003E\u003Cp\u003EОтвет громоздкий, и в новой версии \u003Ca href=\u0022https:\/\/habr.com\/ru\/company\/adapty\/blog\/565442\/\u0022\u003E\u003Cu\u003EApp Store Server API\u003C\/u\u003E\u003C\/a\u003E его упростили, но и с текущей реализацией нетрудно разобраться.\u003C\/p\u003E\u003Ch4\u003EПолучение статуса подписки и истории транзакций\u003C\/h4\u003E\u003Cp\u003EЧтобы понимать, есть ли у пользователя доступ к платным функциям приложения, вам нужно уметь определять статус подписки. В данной версии API нет отдельного запроса на получение статуса подписки, поэтому вам в любом случае будет нужно работать с историей транзакций.\u003C\/p\u003E\u003Cp\u003EВ \u003Ca href=\u0022https:\/\/developer.apple.com\/documentation\/appstorereceipts\/responsebody\/latest_receipt_info\u0022\u003E\u003Cu\u003Elatest_receipt_info\u003C\/u\u003E\u003C\/a\u003E по умолчанию хранятся все транзакции пользователя, за исключением consumable продуктов, которые завершены на стороне мобильного приложения. Таким образом, вы можете восстановить всю историю покупок пользователя. Это полезно и для аналитики, и для вычисления текущего статуса подписки.\u003C\/p\u003E\u003Cp\u003EКажется, что сейчас транзакции всегда приходят отсортированными от самой старой к самой новой, но для надёжности я рекомендую сделать собственную сортировку по дате транзакций.\u003C\/p\u003E\u003Cdetails class=\u0022spoiler\u0022\u003E\u003Csummary\u003EПейлоад транзакции\u003C\/summary\u003E\u003Cdiv class=\u0022spoiler__content\u0022\u003E\u003Cpre\u003E\u003Ccode class=\u0022json\u0022\u003E{\n\t\u0022quantity\u0022:\u00221\u0022,\n\t\u0022product_id\u0022:\u0022basic_subscription_1_month\u0022,\n\t\u0022transaction_id\u0022:\u00221000000831360853\u0022,\n\t\u0022original_transaction_id\u0022:\u00221000000831360853\u0022,\n\t\u0022purchase_date\u0022:\u00222021-04-28 19:41:58 Etc\/GMT\u0022,\n\t\u0022purchase_date_ms\u0022:\u00221619638918000\u0022,\n\t\u0022purchase_date_pst\u0022:\u00222021-04-28 12:41:58 America\/Los_Angeles\u0022,\n\t\u0022original_purchase_date\u0022:\u00222021-04-28 19:41:58 Etc\/GMT\u0022,\n\t\u0022original_purchase_date_ms\u0022:\u00221619638918000\u0022,\n\t\u0022original_purchase_date_pst\u0022:\u00222021-04-28 12:41:58 America\/Los_Angeles\u0022,\n\t\u0022expires_date\u0022:\u00222021-05-05 19:41:58 Etc\/GMT\u0022,\n\t\u0022expires_date_ms\u0022:\u00221620243718000\u0022,\n\t\u0022expires_date_pst\u0022:\u00222021-05-05 12:41:58 America\/Los_Angeles\u0022,\n\t\u0022web_order_line_item_id\u0022:\u0022230000397200750\u0022,\n\t\u0022is_trial_period\u0022:\u0022true\u0022,\n\t\u0022is_in_intro_offer_period\u0022:\u0022false\u0022,\n\t\u0022in_app_ownership_type\u0022:\u0022PURCHASED\u0022,\n\t\u0022subscription_group_identifier\u0022:\u0022272394410\u0022\n}\u003C\/code\u003E\u003C\/pre\u003E\u003C\/div\u003E\u003C\/details\u003E\u003Cp\u003EДля получения текущего статуса подписки достаточно взять хронологически последнюю транзакцию в цепочке и посмотреть на дату истечения подписки (\u003Ccode\u003Eexpires_date\u003C\/code\u003E). Исключением будет grace period, о нём мы поговорим чуть позже.\u003C\/p\u003E\u003Cp\u003EДля аналитических целей я рекомендую сохранять следующие поля:\u003C\/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003E\u003Ccode\u003Eproduct_id\u003C\/code\u003E — текстовый идентификатор продукта, который был куплен.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Ccode\u003Etransaction_id\u003C\/code\u003E — числовой уникальный идентификатор транзакции. У каждой покупки\/продления будет свой идентификатор, его можно использовать, чтобы понимать, была ли ранее обработана данная транзакция.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Ccode\u003Eoriginal_transaction_id\u003C\/code\u003E — числовой уникальный идентификатор цепочки транзакций. При активации подписки\/триала он будет совпадать с \u003Ccode\u003Etransaction_id\u003C\/code\u003E, но при последующих продлениях \u003Ccode\u003Etransaction_id\u003C\/code\u003E будет меняться, а \u003Ccode\u003Eoriginal_transaction_id\u003C\/code\u003E будет одинаковым. Это удобно для того, чтобы отслеживать количество продлений.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Ccode\u003Epurchase_date и original_purchase_date\u003C\/code\u003E — дата транзакции и дата оригинальной транзакции по аналогии с предыдущем пунктом.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Ccode\u003Eexpires_date\u003C\/code\u003E — дата истечения подписки\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Ccode\u003Ecancellation_date\u003C\/code\u003E — дата рефанда, а не отмены подписки, как может показаться из названия. Если в ответе есть это поле, значит, вы можете отозвать доступ пользователя к приложению, а также учесть в аналитике, что деньги за эту транзакцию не будут выплачены.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Ccode\u003Eis_in_intro_offer_period\u003C\/code\u003E — флаг, показывающий, был ли использован интро оффер при активации подписки.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Ccode\u003Eis_trial_period\u003C\/code\u003E — флаг, показывающий, был ли использован триал при активации подписки.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Ccode\u003Eoffer_code_ref_name\u003C\/code\u003E — оффер код, который был использован при активации подписки.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Ccode\u003Epromotional_offer_id\u003C\/code\u003E — текстовый идентификатор промо оффера, который был использован при переходе на текущий период подписки.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Ccode\u003Ein_app_ownership_type\u003C\/code\u003E\u003Cem\u003E \u003C\/em\u003E— тип владения подпиской, отвечает на вопрос, купил ли пользователь продукт сам или получил его в рамках семейной подписки. Возможные значения:\u003C\/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003E\u003Ccode\u003EPURCHASED\u003C\/code\u003E\u003Cem\u003E — пользователь сам купил продукт.\u003C\/em\u003E\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Ccode\u003EFAMILY_SHARED\u003C\/code\u003E — пользователь получил продукт в рамках семейной подписки.\u003C\/p\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003Cp\u003EНа WWDC 2021 Apple \u003Ca href=\u0022https:\/\/developer.apple.com\/videos\/play\/wwdc2021\/10174\u0022\u003E\u003Cu\u003Eсообщили\u003C\/u\u003E\u003C\/a\u003E, что позже в транзакцию добавят поле \u003Ccode\u003EappAccountToken\u003C\/code\u003E, которое содержит идентификатор пользователя в вашей системе. Этот идентификатор должен быть в формате UUID и задаётся на стороне мобильного приложения в момент инициализации покупки. Если задан, то он будет возвращаться во всех транзакциях в этой цепочке (продления, проблемы с биллингом и тд.), а значит вы легко сможете понять, какой пользователь сделал покупку.\u003C\/p\u003E\u003Cp\u003EТакже стоит следить за параметром \u003Ccode\u003Esubscription_group_identifier\u003C\/code\u003E. Если у пользователя ранее была транзакция с активным триалом или интро оффером, то в рамках данной группы подписок, пользователю больше недоступны триал и интро оффер, и это нужно отслеживать со стороны сервера.\u003C\/p\u003E\u003Ch4\u003EИнформация о продлении подписки, grace period и billing issue\u003C\/h4\u003E\u003Cp\u003EВ \u003Ca href=\u0022https:\/\/developer.apple.com\/documentation\/appstorereceipts\/responsebody\/pending_renewal_info\u0022\u003E\u003Cu\u003Epending_renewal_info\u003C\/u\u003E\u003C\/a\u003E лежит информация о продлении подписки. Она позволяет понять, что произойдёт с подпиской в следующем периоде. Например, если вы обнаружили, что пользователь отменил автопродление, вы можете предложить ему переход на другой план или промо оффер. Отслеживать такие события удобно с помощью серверных уведомлений, о которых я скоро расскажу.\u003C\/p\u003E\u003Cdetails class=\u0022spoiler\u0022\u003E\u003Csummary\u003EИнформация о продлении подписки\u003C\/summary\u003E\u003Cdiv class=\u0022spoiler__content\u0022\u003E\u003Cpre\u003E\u003Ccode\u003E{\n       \u0022auto_renew_product_id\u0022: \u0022basic_subscription_1_month\u0022,\n       \u0022product_id\u0022: \u0022basic_subscription_1_month\u0022,\n       \u0022original_transaction_id\u0022: \u00221000000831360853\u0022,\n       \u0022auto_renew_status\u0022: \u00221\u0022\n}\u003C\/code\u003E\u003C\/pre\u003E\u003C\/div\u003E\u003C\/details\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003E\u003Ccode\u003Eproduct_id\u003C\/code\u003E — текстовый идентификатор продукта, который был куплен.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Ccode\u003Eauto_renew_product_id\u003C\/code\u003E — текстовый идентификатор продукта, который активируется в следующем периоде. Если он отличается от текущего (\u003Ccode\u003Eproduct_id\u003C\/code\u003E), значит пользователь сменил тип подписки.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Ccode\u003Eauto_renew_status\u003C\/code\u003E — флаг, показывающий будет ли продлена подписка на следующий период.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Ccode\u003Eexpiration_intent\u003C\/code\u003E\u003Cem\u003E \u003C\/em\u003E— причина истечения подписки. Возможные значения:\u003C\/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003E\u003Ccode\u003E1\u003C\/code\u003E\u003Cem\u003E — пользователь сам отменил подписку.\u003C\/em\u003E\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Ccode\u003E2\u003C\/code\u003E \u003Cem\u003E— подписка отменилась из-за проблем с оплатой.\u003C\/em\u003E\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Ccode\u003E3\u003C\/code\u003E — пользователь не согласился на повышение цены\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Ccode\u003E4\u003C\/code\u003E — продукт подписки не был доступен для продления, например, если его удалили из App Store Connect.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Ccode\u003E5\u003C\/code\u003E — неизвестная причина.\u003C\/p\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Ccode\u003Egrace_period_expires_date\u003C\/code\u003E — дата истечения grace period, если он включен для вашего приложения. В этом случае пользователю должны быть доступны платные функции приложения до даты, указанной здесь, а не до той, которая указана в самой транзакции. Если есть этот ключ, вы можете сообщить пользователю о том, что ему нужно обновить данные карты для оплаты или пополнить баланс.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Ccode\u003Eis_in_billing_retry_period\u003C\/code\u003E — флаг, показывающий находится ли подписка в статусе billing retry. Это значит, что подписка не была отменена, но при этом Apple не смог списать деньги за продление и будет пытаться делать это в течение 60 дней.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Ccode\u003Eoffer_code_ref_name\u003C\/code\u003E — оффер код, который будет использован в следующем периоде подписки.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Ccode\u003Epromotional_offer_id\u003C\/code\u003E — текстовый идентификатор промо оффера, который будет использован в следующем периоде подписки.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Ccode\u003Eprice_consent_status\u003C\/code\u003E\u003Cem\u003E \u003C\/em\u003E— флаг, показывающий, согласился ли пользователь с грядущим повышением цены на подписку. Если его значение 0, то вам стоит предложить пользователю другой продукт или промо оффер, чтобы он не прекратил подписку.\u003C\/p\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003Ch4\u003EConsumable, non-consumable и невозобновляемые подписки\u003C\/h4\u003E\u003Cp\u003EЕсли у пользователя нет авто-возобновляемых продуктов, то ключи \u003Ccode\u003Elatest_receipt_info\u003C\/code\u003E и \u003Ccode\u003Epending_renewal_info\u003C\/code\u003E не возвращаются. В таком случае, транзакции стоит искать в \u003Ccode\u003Ereceipt\u003C\/code\u003E → \u003Ca href=\u0022https:\/\/developer.apple.com\/documentation\/appstorereceipts\/responsebody\/receipt\/in_app\u0022\u003E\u003Cu\u003Ein_app\u003C\/u\u003E\u003C\/a\u003E. Формат транзакций похож на авто-возобновляемые транзакции, но в нём нет полей истечения, продления, офферов и других эксклюзивных для авто-возобновляемых транзакций параметров.\u003C\/p\u003E\u003Cp\u003EСтоит отметить, что \u003Ccode\u003Ereceipt\u003C\/code\u003E → \u003Ccode\u003Ein_app\u003C\/code\u003E приходит и для авто-возобновляемых транзакций, но лучше использовать \u003Ccode\u003Elatest_receipt_info\u003C\/code\u003E, потому что в нём будет наиболее актуальная информация по подписке.\u003C\/p\u003E\u003Ch3\u003EСерверные уведомления о транзакциях\u003C\/h3\u003E\u003Cp\u003EНекоторое время назад требовалось написать сложную систему, чтобы отслеживать изменения в состоянии подписок. Например, чтобы понять, продлилась подписка или нет, нужно было за сутки до её истечения раз в час отправлять запрос на сервер Apple, чтобы узнать её статус. Apple постепенно добавлял серверные уведомления, и в настоящее время практически все важные события, связанные с подписками, покрыты \u003Ca href=\u0022https:\/\/developer.apple.com\/documentation\/appstoreservernotifications\u0022\u003E\u003Cu\u003Eсерверными уведомлениями\u003C\/u\u003E\u003C\/a\u003E. Это очень удобно: \u003Cstrong\u003Eкак только со стороны Apple произошло какое-то изменение, вы можете получить информацию об этом на своём сервере\u003C\/strong\u003E. То есть вы будете получать информацию о новых покупках, продлениях, проблемах с платежами и так далее. Это позволяет собирать более точную аналитику, а также упрощает менеджмент состояния подписчика.\u003C\/p\u003E\u003Cp\u003EНастроить получение серверных уведомлений можно в App Store Connect. Необходимо открыть страницу приложения, перейти в раздел General → App Information, указать желаемую ссылку в поле URL for App Store Server Notifications и сохранить изменения.\u003C\/p\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/947\/371\/4ed\/9473714ed827cb482bc4d760bf90a131.png\u0022 width=\u00221600\u0022 height=\u0022933\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cdetails class=\u0022spoiler\u0022\u003E\u003Csummary\u003EСерверное уведомление\u003C\/summary\u003E\u003Cdiv class=\u0022spoiler__content\u0022\u003E\u003Cpre\u003E\u003Ccode class=\u0022json\u0022\u003E{\n        \u0022notification_type\u0022: \u0022DID_RENEW\u0022,\n        \u0022password\u0022: \u0022f4d35830e3...52aae\u0022,\n        \u0022environment\u0022: \u0022PROD\u0022,\n        \u0022auto_renew_product_id\u0022: \u0022basic_subscription_1_month\u0022,\n        \u0022auto_renew_status\u0022: \u0022true\u0022,\n        \u0022unified_receipt\u0022: {\n            \u0022status\u0022: 0,\n            \u0022environment\u0022: \u0022Production\u0022,\n            \u0022latest_receipt_info\u0022: [\n                {\n            \u0022quantity\u0022: \u00221\u0022,\n            \u0022product_id\u0022: \u0022basic_subscription_1_month\u0022,\n            \u0022transaction_id\u0022: \u0022230001020690335\u0022,\n            \u0022original_transaction_id\u0022: \u00221000000831360853\u0022,\n            \u0022purchase_date\u0022: \u00222021-08-04 19:41:58 Etc\/GMT\u0022,\n            \u0022purchase_date_ms\u0022: \u00221628106118000\u0022,\n            \u0022purchase_date_pst\u0022: \u00222021-08-04 12:41:58 America\/Los_Angeles\u0022,\n            \u0022original_purchase_date\u0022: \u00222021-04-28 19:41:58 Etc\/GMT\u0022,\n            \u0022original_purchase_date_ms\u0022: \u00221619638918000\u0022,\n            \u0022original_purchase_date_pst\u0022: \u00222021-04-28 12:41:58 America\/Los_Angeles\u0022,\n            \u0022expires_date\u0022: \u00222021-08-11 19:41:58 Etc\/GMT\u0022,\n            \u0022expires_date_ms\u0022: \u00221628710918000\u0022,\n            \u0022expires_date_pst\u0022: \u00222021-08-11 12:41:58 America\/Los_Angeles\u0022,\n            \u0022web_order_line_item_id\u0022: \u0022230000438372383\u0022,\n            \u0022is_trial_period\u0022: \u0022false\u0022,\n            \u0022is_in_intro_offer_period\u0022: \u0022false\u0022,\n            \u0022in_app_ownership_type\u0022: \u0022PURCHASED\u0022,\n            \u0022subscription_group_identifier\u0022: \u0022272394410\u0022\n        },\n        {\n            \u0022quantity\u0022: \u00221\u0022,\n            \u0022product_id\u0022: \u0022basic_subscription_1_month\u0022,\n            \u0022transaction_id\u0022: \u0022230001017218955\u0022,\n            \u0022original_transaction_id\u0022: \u00221000000831360853\u0022,\n            \u0022purchase_date\u0022: \u00222021-07-28 19:41:58 Etc\/GMT\u0022,\n            \u0022purchase_date_ms\u0022: \u00221627501318000\u0022,\n            \u0022purchase_date_pst\u0022: \u00222021-07-28 12:41:58 America\/Los_Angeles\u0022,\n            \u0022original_purchase_date\u0022: \u00222021-04-28 19:41:58 Etc\/GMT\u0022,\n            \u0022original_purchase_date_ms\u0022: \u00221619638918000\u0022,\n            \u0022original_purchase_date_pst\u0022: \u00222021-04-28 12:41:58 America\/Los_Angeles\u0022,\n            \u0022expires_date\u0022: \u00222021-08-04 19:41:58 Etc\/GMT\u0022,\n            \u0022expires_date_ms\u0022: \u00221628106118000\u0022,\n            \u0022expires_date_pst\u0022: \u00222021-08-04 12:41:58 America\/Los_Angeles\u0022,\n            \u0022web_order_line_item_id\u0022: \u0022230000849023623\u0022,\n            \u0022is_trial_period\u0022: \u0022false\u0022,\n            \u0022is_in_intro_offer_period\u0022: \u0022false\u0022,\n            \u0022in_app_ownership_type\u0022: \u0022PURCHASED\u0022,\n            \u0022subscription_group_identifier\u0022: \u0022272394410\u0022\n        }\n\n            ],\n            \u0022latest_receipt\u0022: \u0022MIIUVQY...4rVpL8NlYh2\/8l7rk0BcStXjQ==\u0022,\n            \u0022pending_renewal_info\u0022: [\n                {\n                    \u0022auto_renew_status\u0022: \u00221\u0022,\n                    \u0022auto_renew_product_id\u0022: \u0022basic_subscription_1_month\u0022,\n                    \u0022product_id\u0022: \u0022basic_subscription_1_month\u0022,\n                    \u0022original_transaction_id\u0022: \u00221000000831360853\u0022\n                }\n            ]\n        },\n        \u0022bid\u0022: \u0022com.adapty.sample_app\u0022,\n        \u0022bvrs\u0022: \u00220\u0022\n    }\u003C\/code\u003E\u003C\/pre\u003E\u003C\/div\u003E\u003C\/details\u003E\u003Cp\u003E\u003Ca href=\u0022https:\/\/developer.apple.com\/documentation\/appstoreservernotifications\/responsebody\u0022\u003E\u003Cu\u003EФормат\u003C\/u\u003E\u003C\/a\u003E серверных уведомлений похож на ответ валидации платежа. Информация о транзакциях лежит в \u003Ccode\u003Eunified_receipt\u003C\/code\u003E → \u003Ccode\u003Elatest_receipt_info\u003C\/code\u003E. В ключе \u003Ccode\u003Epassword\u003C\/code\u003E лежит shared secret для вашего приложения, таким образом вы можете убедиться в подлинности запроса. В ключе \u003Ccode\u003Enotification_type\u003C\/code\u003E указан \u003Ca href=\u0022https:\/\/developer.apple.com\/documentation\/appstoreservernotifications\/notification_type\u0022\u003E\u003Cu\u003Eтип события\u003C\/u\u003E\u003C\/a\u003E. На мой взгляд, самые полезные:\u003C\/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003E\u003Ccode\u003EDID_CHANGE_RENEWAL_STATUS\u003C\/code\u003E — пользователь выключил или (намного реже) включил автопродление подписки. Если автопродление выключили, надо пытаться вернуть пользователя в число активных подписчиков.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Ccode\u003EDID_FAIL_TO_RENEW\u003C\/code\u003E — подписку не получилось продлить из-за проблем с оплатой. Стоит сообщить пользователю об этом, чтобы у него не отменилась подписка автоматически.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Ccode\u003EDID_RENEW\u003C\/code\u003E — подписка успешно продлилась.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Ccode\u003EREFUND\u003C\/code\u003E — пользователю вернули деньги за покупку. Нужно закрыть ему доступ к функциям, которые давала эта покупка и отразить рефанд (потерю денег) в аналитике.\u003C\/p\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003Ch3\u003EЗаключение\u003C\/h3\u003E\u003Cp\u003EСерверная валидация значительно улучшает качество аналитики, которую вы можете собирать со своего приложения. Она также усложняет несанкционированный доступ к платному контенту и позволяет делать мультиплатформенные подписки. При этом реализация валидации может занять довольно много времени, особенно если нужна высокая точность данных, а значит надо учитывать много сайд-кейсов: upgrade подписки, cross grade подписки, trial период, promo\/introductory offers, grace period, возвраты, семейные подписки и тд. Плюс нужно знать и учитывать различные нюансы, например, что для подписок, которые продлеваются больше года, Apple снижает комиссию с 30% до 15%.\u003C\/p\u003E\u003Cp\u003EЕсли вы хотите получить работающую серверную валидацию и продвинутую аналитику с самого начала жизни вашего приложения и не хотите разрабатывать всё это самостоятельно, вам стоит попробовать Adapty. Мы делаем этот сервис не только для технической реализации подписок:\u003C\/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003EВстроенная аналитика позволяет быстро понять основные метрики приложения.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EКогортный анализ отвечает на вопрос, \u003Ca href=\u0022https:\/\/habr.com\/ru\/company\/adapty\/blog\/564748\/\u0022\u003E\u003Cu\u003Eкак быстро сходится экономика\u003C\/u\u003E\u003C\/a\u003E.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EА\/Б тесты увеличивают выручку приложения.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EИнтеграции с внешними системами позволяют отправлять транзакции в сервисы атрибуции и продуктовой аналитики.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EПромо кампании уменьшают отток аудитории.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EOpen source SDK позволяет интегрировать подписки в приложение за несколько часов.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EСерверная валидация и API для работы с другими платформами.\u003C\/p\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003Cp\u003E\u003Ca href=\u0022https:\/\/adapty.io\/?utm_source=habr.com\u0026amp;utm_medium=referral\u0026amp;utm_campaign=blogpost_ios-iap_server-validation\u0022\u003E\u003Cu\u003EПознакомьтесь подробнее с этими возможностями\u003C\/u\u003E\u003C\/a\u003E, чтобы быстрее внедрить подписки в своё приложение и улучшить конверсии.\u003C\/p\u003E",
      "is_comments_hide": 0,
      "editor_version": 2,
      "hubs": [
        {
          "id": 22754,
          "alias": "adapty",
          "title": "Блог компании Adapty",
          "is_membership": false,
          "is_profiled": false,
          "is_company": true,
          "icon": "",
          "path": "company\/adapty\/"
        },
        {
          "id": 548,
          "alias": "ios_dev",
          "title": "Разработка под iOS",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/ios_dev\/"
        },
        {
          "id": 6345,
          "alias": "mobile_dev",
          "title": "Разработка мобильных приложений",
          "is_membership": true,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/mobile_dev\/"
        }
      ],
      "flows": [
        {
          "id": 1,
          "name": "Разработка",
          "alias": "develop",
          "url": "https:\/\/habr.com\/ru\/flows\/develop\/",
          "path": "\/flows\/develop\/"
        }
      ],
      "is_recovery_mode": false,
      "reading_count": 121,
      "metadata": {
        "meta_image": "https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/1b2\/340\/05c\/1b234005c7e1a234e37d2b1c73965453.png",
        "lead_image": "https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/1b2\/340\/05c\/1b234005c7e1a234e37d2b1c73965453.png",
        "lead_image_info": {
          "url": "https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/1b2\/340\/05c\/1b234005c7e1a234e37d2b1c73965453.png",
          "fit": "cover",
          "positionY": 0,
          "positionX": 0
        }
      },
      "path": "\/company\/adapty\/blog\/572370\/",
      "full_url": "https:\/\/habr.com\/ru\/company\/adapty\/blog\/572370\/",
      "author": {
        "id": 63063,
        "login": "kpotehin",
        "time_registered": "2011-05-30T17:30:33+04:00",
        "score": 10,
        "fullname": "Потехин Кирилл",
        "specializm": "Пользователь",
        "sex": 1,
        "rating": 2,
        "vote": 0,
        "note": {
          "text": null
        },
        "contacts": [],
        "rating_position": 857,
        "path": "\/users\/kpotehin\/",
        "geo": {
          "country": "Россия",
          "region": "Москва и Московская обл.",
          "city": "Москва"
        },
        "counters": {
          "posts": 4,
          "comments": 22,
          "followed": 6,
          "followers": 8,
          "favorites": 78
        },
        "badges": [
          {
            "id": 1,
            "title": "Захабренный",
            "alias": "habred",
            "description": "Пользователь с кармой \u003E0",
            "url": null,
            "is_removable": false,
            "is_disabled": false
          }
        ],
        "avatar": "https:\/\/habrastorage.org\/getpro\/habr\/avatars\/1eb\/5ee\/d80\/1eb5eed8030ffc7bc433a36028c81cce.jpg",
        "is_readonly": false,
        "is_rc": false,
        "is_subscribed": false,
        "common_tags": [],
        "is_can_vote": true
      },
      "has_polls": false,
      "url": "https:\/\/habr.com\/ru\/company\/adapty\/blog\/572370\/",
      "post_type": 1,
      "post_type_str": "simple",
      "vote": null,
      "is_can_vote": true,
      "voting": {
        "score": 2,
        "voteCount": {
          "total": 2,
          "positive": 2,
          "negative": 0
        },
        "vote": null,
        "reasonMap": null
      },
      "is_habred": true,
      "is_interesting": false,
      "is_favorite": false,
      "comments_new": null
    },
    {
      "id": 572598,
      "is_corporative": 0,
      "is_tutorial": true,
      "time_published": "2021-08-12T14:45:10+03:00",
      "time_interesting": null,
      "comments_count": 0,
      "score": -1,
      "votes_count": 1,
      "favorites_count": 2,
      "lang": "ru",
      "tags_string": "aliexpress, e-commerce, ритейл, минимальные партии, лот, инфообмен",
      "title": "Как продавать партиями на AliExpress",
      "preview_html": "\u003Cp\u003E\u003Cstrong\u003EИстория о том, как продажников при устройстве на работу просят продать ручку — стала классикой, разлетелась в виде анекдотов и мемов. Но реальность порой оказывается куда круче старых баек. Не верите — попробуйте продать ручку на АлиЭкспресс.\u003C\/strong\u003E\u003C\/p\u003E\u003Cp\u003EВсем привет, это Антон Баташов, руководитель отдела интеграции в компании XWAY, и в этой статье мы поговорим о том, как продавать товары минимальными партиями на маркетплейсах.\u0026nbsp;\u003C\/p\u003E\u003Cp\u003EПри торговле всегда есть сопутствующие затраты на логистику, сборку, упаковку, хранение, доставку. Хорошо, когда товар дорогой и высокомаржинальный — даже если он габаритный, маржа покроет все расходы. Но как быть с дешевым ассортиментом? Раз уж мы начали с примера про ручки — давайте на канцелярских товарах и сфокусируемся.\u0026nbsp;\u003C\/p\u003E",
      "text_cut": "Читать далее",
      "text_html": "\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/ec0\/81a\/185\/ec081a185a6735bbeafdf395902ed58e.png\u0022 width=\u00221070\u0022 height=\u0022710\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cp\u003E\u003Cstrong\u003EИстория о том, как продажников при устройстве на работу просят продать ручку — стала классикой, разлетелась в виде анекдотов и мемов. Но реальность порой оказывается куда круче старых баек. Не верите — попробуйте продать ручку на АлиЭкспресс.\u003C\/strong\u003E\u003C\/p\u003E\u003Cp\u003EВсем привет, это Антон Баташов, руководитель отдела интеграции в компании XWAY, и в этой статье мы поговорим о том, как продавать товары минимальными партиями на маркетплейсах.\u0026nbsp;\u003C\/p\u003E\u003Cp\u003EПри торговле всегда есть сопутствующие затраты на логистику, сборку, упаковку, хранение, доставку. Хорошо, когда товар дорогой и высокомаржинальный — даже если он габаритный, маржа покроет все расходы. Но как быть с дешевым ассортиментом? Раз уж мы начали с примера про ручки — давайте на канцелярских товарах и сфокусируемся.\u0026nbsp;\u003C\/p\u003E\u003Cp\u003EТетради и ручки даже один человек покупает впрок, а если заказ делается на целый класс или даже школу? Ответ очевиден — нужно продавать партиями! В терминологии\u0026nbsp; AliExpress — лотами. Но на складе-то товар учитывается чаще всего поштучно!\u003C\/p\u003E\u003Cp\u003EНе проблема, думаете вы, открываете карточку товара «Ручка канцелярская»\u003C\/p\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/1e4\/4c7\/510\/1e44c75105bf3d9d735f5c12443db842.png\u0022 width=\u00221453\u0022 height=\u0022839\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cp\u003E\u0026nbsp;и указываете признак, что это «лот» и количество единиц товара в лоте — 10 шт.\u003C\/p\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/70a\/bb7\/24f\/70abb724f263cc00efcc3ec51c9a2e1c.png\u0022 width=\u00221361\u0022 height=\u0022874\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cp\u003EСтоп! Давайте внимательно присмотримся к нижней части карточки, а именно — к розничным ценам и остаткам! Теперь мы продаем лот из 10 ручек, но цена-то осталась прежняя, 30 рублей! И остаток у нас также не пересчитался!\u003C\/p\u003E\u003Cp\u003EЕсли сейчас сохранить карточку, то мы здорово обрадуем покупателей, продавая им ручки по 3 рубля. Кроме того, маркетплейс позволит оформить 97 заказов, в соответствии с указанным остатком. А это, не много не мало, 970 ручек, на 873 больше, чем реально имеется у нас на складе.\u0026nbsp;\u003C\/p\u003E\u003Cp\u003EСоздаем табличку, добавляем графу «стоимость лота», в которой умножаем количество ручек в лоте на\u0026nbsp; стоимость одной. Заодно рассчитываем, сколько лотов мы можем продать: делим остатки ручек на складе на размер лота с округлением в меньшую сторону. В отдельную графу записываем «ручки, не учтенные в лотах» для того, чтобы не потерять их при дальнейших расчетах.\u003C\/p\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/9ff\/93a\/43b\/9ff93a43befbf0a6838c6b2cce7d2e2c.png\u0022 width=\u00221600\u0022 height=\u0022233\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cp\u003EПосчитали, внесли данные в карточку, сохранили результат. Окей, идем дальше.\u0026nbsp;\u003C\/p\u003E\u003Ch2\u003EКручу, верчу, запутать хочу\u003C\/h2\u003E\u003Cp\u003EПокупатель делает заказ на два лота по 10 шт ручек. Вы видите в системе, что продано две позиции, видите сумму. Вспоминаете, что одна позиция в заказе — это 10 реальных ручек на складе, умножаете количество позиций в заказе на 10, получаете искомые 20 проданных ручек, запускаете процесс сборки заказа, его упаковки.\u0026nbsp;\u003C\/p\u003E\u003Cp\u003EИдем дальше, следите за руками внимательно! У нас есть количество проданных ручек — их 20. Есть сумма заказа за две минимальные партии. Но ведь каждая ручка стоит в 10 раз меньше, чем вся партия? Делим сумму за каждую позицию карточки на 10. Ура, мы можем корректно провести всю операцию через бухгалтерию!\u0026nbsp;\u003C\/p\u003E\u003Cp\u003EРазумеется, мы сделаем еще одну табличку, в которой будем учитывать проданные лоты и высчитывать суммы и количество единиц товара, чтобы корректно собрать заказ и провести его через бухгалтерию.\u0026nbsp;\u003C\/p\u003E\u003Cp\u003EК нам на склад подъехала новая партия товара, и заодно мы решили добавить еще один размер лота, вдруг по 5 ручек продажи пойдут веселее? Для полного счастья — поменяем стоимость одной ручки...\u003C\/p\u003E\u003Cp\u003EПоехали! Открываем карточку. Если минимальная партия (размер лота) больше единицы, умножаем цену одной штуки товара на минимальную партию, выставляем на карточке новую стоимость за партию, делим остаток на минимальную партию и округляем в меньшую сторону, выставляем на AliExpress. Повторяем для каждой позиции, не забывая вносить все в наши таблички, чтобы потом не запутаться в бухгалтерии.\u0026nbsp;\u003C\/p\u003E\u003Cp\u003EПродали, получили заказ, отправляемся в начало раздела… И давайте не забудем про человеческий фактор — вся описанная выше схема основана на заполнении таблиц и подсчетах вручную, банальная опечатка или невнимательность может привести к весьма неприятным результатам.\u003C\/p\u003E\u003Ch2\u003EКраткое резюме\u003C\/h2\u003E\u003Cp\u003EПоскольку в прошлой статье про \u003Ca href=\u0022https:\/\/habr.com\/ru\/post\/565810\/\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003E\u003Cu\u003Eинфообмен\u003C\/u\u003E\u003C\/a\u003E я уже примерял на себя капитанскую фуражку, побуду еще немного кэпом Очевидность: если какой-то процесс можно описать с помощью алгоритма — его нужно перевести в код. И мы в XWAY это сделали.\u003C\/p\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/3d6\/a55\/cc8\/3d6a55cc82163786c858061080819a75.jpeg\u0022 alt=\u0022\u0022 title=\u0022\u0022 width=\u00221600\u0022 height=\u00221116\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cp\u003E*\u003Ca href=\u0022https:\/\/drive.google.com\/drive\/u\/0\/folders\/1Po-TvDNLTYF8lnC8DWX4ox6q20RDlEK3\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003EСсылка на схему для скачивания\u003C\/a\u003E\u003C\/p\u003E\u003Cp\u003EВсе, что требуется от клиента — передать в наш API размер минимальной партии дополнительным параметром в метод, которым мы получаем товарные остатки. Остальное — наша забота, как операционного партнера: сформировать корректные карточки, посчитать цены, остаток «в партиях», выгрузить все на AliExpress — в одном направлении, и корректно пересчитать оформленный заказ в направлении обратном.\u0026nbsp;\u003C\/p\u003E\u003Cp\u003EПодводя итог — продать ручку на маркетплейсе можно, и не одну. Вопрос не в том, как ее продать, а как организовать инфообмен. И это нетривиальная задача, если решать ее самостоятельно. Впрочем, именно для таких ситуаций в бизнес-модели AliExpress и существуют операционные партнеры.\u0026nbsp;\u003C\/p\u003E\u003Cp\u003EСтатья получилась небольшая, поскольку я рассмотрел частный случай, зато количество комментариев — не ограничено! Задавайте вопросы под текстом, или обращайтесь ко мне в телеграмм @anton_batashov\u003C\/p\u003E",
      "is_comments_hide": 0,
      "editor_version": 2,
      "hubs": [
        {
          "id": 17690,
          "alias": "api",
          "title": "API",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/api\/"
        },
        {
          "id": 18810,
          "alias": "ecommerce_development",
          "title": "Разработка под e-commerce",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/ecommerce_development\/"
        },
        {
          "id": 20716,
          "alias": "ecommerce",
          "title": "Управление e-commerce",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/ecommerce\/"
        }
      ],
      "flows": [
        {
          "id": 1,
          "name": "Разработка",
          "alias": "develop",
          "url": "https:\/\/habr.com\/ru\/flows\/develop\/",
          "path": "\/flows\/develop\/"
        },
        {
          "id": 3,
          "name": "Менеджмент",
          "alias": "management",
          "url": "https:\/\/habr.com\/ru\/flows\/management\/",
          "path": "\/flows\/management\/"
        }
      ],
      "is_recovery_mode": false,
      "reading_count": 468,
      "metadata": {
        "meta_image": "https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/ec0\/81a\/185\/ec081a185a6735bbeafdf395902ed58e.png",
        "lead_image": "https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/ec0\/81a\/185\/ec081a185a6735bbeafdf395902ed58e.png",
        "lead_image_info": {
          "url": "https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/ec0\/81a\/185\/ec081a185a6735bbeafdf395902ed58e.png",
          "fit": "cover",
          "positionY": 35.681818181818,
          "positionX": 0.12820512820513
        }
      },
      "path": "\/post\/572598\/",
      "full_url": "https:\/\/habr.com\/ru\/post\/572598\/",
      "author": {
        "id": 2737101,
        "login": "AntonBatashovv",
        "time_registered": "2021-06-25T15:58:24+03:00",
        "score": 4,
        "fullname": null,
        "specializm": null,
        "sex": 0,
        "rating": 5,
        "vote": 0,
        "note": {
          "text": null
        },
        "contacts": [],
        "rating_position": 594,
        "path": "\/users\/antonbatashovv\/",
        "geo": {
          "country": null,
          "region": null,
          "city": null
        },
        "counters": {
          "posts": 2,
          "comments": 1,
          "followed": 0,
          "followers": 0,
          "favorites": 1
        },
        "badges": [
          {
            "id": 1,
            "title": "Захабренный",
            "alias": "habred",
            "description": "Пользователь с кармой \u003E0",
            "url": null,
            "is_removable": false,
            "is_disabled": false
          }
        ],
        "avatar": "https:\/\/habr.com\/images\/avatars\/stub-user-middle.gif",
        "is_readonly": false,
        "is_rc": false,
        "is_subscribed": false,
        "common_tags": [],
        "is_can_vote": true
      },
      "has_polls": false,
      "url": "https:\/\/habr.com\/ru\/post\/572598\/",
      "post_type": 1,
      "post_type_str": "simple",
      "vote": null,
      "is_can_vote": true,
      "voting": {
        "score": -1,
        "voteCount": {
          "total": 1,
          "positive": 0,
          "negative": 1
        },
        "vote": null,
        "reasonMap": null
      },
      "is_habred": true,
      "is_interesting": false,
      "is_favorite": false,
      "comments_new": null
    },
    {
      "id": 572592,
      "is_corporative": 0,
      "is_tutorial": false,
      "time_published": "2021-08-12T14:30:46+03:00",
      "time_interesting": null,
      "comments_count": 0,
      "score": 0,
      "votes_count": 0,
      "favorites_count": 0,
      "lang": "ru",
      "tags_string": "data science digest, data science, data phoenix, data phoenix digest, machine learning, artificial intelligence, computer vision, digest",
      "title": "DataScience Digest — 12.08.21",
      "preview_html": "\u003Cp\u003EПриветствую всех!\u003C\/p\u003E\u003Cp\u003EВстречайте свежий выпуск\u0026nbsp;\u003Ca href=\u0022https:\/\/dataphoenix.info\/tag\/digest\/\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003Eдайджеста\u003C\/a\u003E\u0026nbsp;полезных материалов из мира Data Science \u0026amp; Machine Learning подготовленный командой\u0026nbsp;\u003Ca href=\u0022https:\/\/dataphoenix.info\/\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003EData Phoenix\u003C\/a\u003E\u0026nbsp;и не забывайте подписываться на наш\u0026nbsp;\u003Ca href=\u0022https:\/\/t.me\/DataPhoenix\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003E\u003Cu\u003ETelegram-канал\u003C\/u\u003E\u003C\/a\u003E.\u003C\/p\u003E\u003Cp\u003EНапоминаю, что 17 августа буду проводить вебинар\u0026nbsp;\u003Ca href=\u0022https:\/\/dataphoenix.info\/the-a-z-of-data-introduction-to-mlops\/\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003E\u0022The A-Z of Data: Introduction to MLOps\u0022\u003C\/a\u003E. В его рамках мы рассмотрим, что такое MLOps, основные принципы и практики, лучшие инструменты и возможные архитектуры. Мы начнем с простого жизненного цикла разработки ML решений и закончим сложным, максимально автоматизированным, циклом, который нам позволяет реализовать MLOps. Детали и обязательная предварительная регистрация\u0026nbsp;\u003Ca href=\u0022https:\/\/dataphoenix.info\/the-a-z-of-data-introduction-to-mlops\/\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003Eздесь\u003C\/a\u003E.\u003C\/p\u003E",
      "text_cut": "Читать далее",
      "text_html": "\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/30a\/e4e\/a98\/30ae4ea9801e8f75d4340c51c2646e62.png\u0022 width=\u00221024\u0022 height=\u0022512\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cp\u003EПриветствую всех!\u003C\/p\u003E\u003Cp\u003EВстречайте свежий выпуск\u0026nbsp;\u003Ca href=\u0022https:\/\/dataphoenix.info\/tag\/digest\/\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003Eдайджеста\u003C\/a\u003E\u0026nbsp;полезных материалов из мира Data Science \u0026amp; Machine Learning подготовленный командой\u0026nbsp;\u003Ca href=\u0022https:\/\/dataphoenix.info\/\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003EData Phoenix\u003C\/a\u003E\u0026nbsp;и не забывайте подписываться на наш\u0026nbsp;\u003Ca href=\u0022https:\/\/t.me\/DataPhoenix\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003E\u003Cu\u003ETelegram-канал\u003C\/u\u003E\u003C\/a\u003E.\u003C\/p\u003E\u003Cp\u003EНапоминаю, что 17 августа буду проводить вебинар\u0026nbsp;\u003Ca href=\u0022https:\/\/dataphoenix.info\/the-a-z-of-data-introduction-to-mlops\/\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003E\u0022The A-Z of Data: Introduction to MLOps\u0022\u003C\/a\u003E. В его рамках мы рассмотрим, что такое MLOps, основные принципы и практики, лучшие инструменты и возможные архитектуры. Мы начнем с простого жизненного цикла разработки ML решений и закончим сложным, максимально автоматизированным, циклом, который нам позволяет реализовать MLOps. Детали и обязательная предварительная регистрация\u0026nbsp;\u003Ca href=\u0022https:\/\/dataphoenix.info\/the-a-z-of-data-introduction-to-mlops\/\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003Eздесь\u003C\/a\u003E.\u003C\/p\u003E\u003Ch3\u003EСтатьи\u003C\/h3\u003E\u003Cp\u003E\u003Ca href=\u0022https:\/\/deepmind.com\/blog\/article\/building-architectures-that-can-handle-the-worlds-data\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003E\u003Cstrong\u003EBuilding Architectures that Can Handle the World’s Data\u003C\/strong\u003E\u003C\/a\u003E - обзорная статья о Perceiver от команды DeepMind.\u003C\/p\u003E\u003Cp\u003E\u003Ca href=\u0022https:\/\/towardsdatascience.com\/make-a-rock-solid-ml-model-using-sklearn-pipeline-926f2ccf4706\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003E\u003Cstrong\u003EMake a Rock-Solid ML Model Using Sklearn Pipeline\u003C\/strong\u003E\u003C\/a\u003E - статья о том, почему, как и когда использовать Sklearn Pipeline.\u003C\/p\u003E\u003Cp\u003E\u003Ca href=\u0022https:\/\/neptune.ai\/blog\/continuous-integration-continuous-deployment-tools-for-machine-learning\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003E\u003Cstrong\u003EContinuous Integration and Continuous Deployment (CI\/CD) Tools for Machine Learning\u003C\/strong\u003E\u003C\/a\u003E\u003Cstrong\u003E -\u003C\/strong\u003E обзор CI\/CD тулов для машинного обучения.\u003C\/p\u003E\u003Cp\u003E\u003Ca href=\u0022https:\/\/towardsdatascience.com\/how-to-detect-seasonality-outliers-and-changepoints-in-your-time-series-5d0901498cff\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003E\u003Cstrong\u003EHow to Detect Seasonality, Outliers, and Changepoints in Your Time Series\u003C\/strong\u003E\u003C\/a\u003E - использование Kats для обнаружения аномалий в данных.\u003C\/p\u003E\u003Cp\u003E\u003Ca href=\u0022https:\/\/towardsdatascience.com\/open-mlops-open-source-production-machine-learning-f4080f02e9f0\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003E\u003Cstrong\u003EOpen MLOps: Open Source Production Machine Learning\u003C\/strong\u003E\u003C\/a\u003E - вводная статья об Open MLOps.\u003C\/p\u003E\u003Cp\u003E\u003Ca href=\u0022https:\/\/towardsdatascience.com\/mlops-at-home-part1-4c60db29d4a2\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003E\u003Cstrong\u003ECreating a Modern, Open Source MLOps Stack at Home\u003C\/strong\u003E\u003C\/a\u003E - Статья про MLOps и наборе тулов для него.\u003C\/p\u003E\u003Cp\u003E\u003Ca href=\u0022https:\/\/www.linkedin.com\/pulse\/data-monetization-101-john-farrall\/\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003E\u003Cstrong\u003EData Monetization 101\u003C\/strong\u003E\u003C\/a\u003E - статья о том, как можно монетизировать данные.\u003C\/p\u003E\u003Cp\u003E\u003Ca href=\u0022https:\/\/openai.com\/blog\/triton\/\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003E\u003Cstrong\u003EIntroducing Triton: Open-Source GPU Programming for Neural Networks\u003C\/strong\u003E\u003C\/a\u003E - вводная статья о Triton, новом языке программирования от OpenAI, похожем на Python.\u003C\/p\u003E\u003Cp\u003E\u003Ca href=\u0022https:\/\/eng.uber.com\/pinot-real-time-ingestion\/\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003E\u003Cstrong\u003EPinot Real-Time Ingestion with Cloud Segment Storage\u003C\/strong\u003E\u003C\/a\u003E - Uber о работе с данными в реальном времени.\u003C\/p\u003E\u003Ch3\u003EНаучные статьи\u003C\/h3\u003E\u003Cp\u003E\u003Ca href=\u0022https:\/\/arxiv.org\/abs\/2106.12423\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003E\u003Cstrong\u003EAlias-Free Generative Adversarial Networks\u003C\/strong\u003E\u003C\/a\u003E\u003Cstrong\u003E \u003C\/strong\u003E- работа о архитектурных особенностях генеративных сетей без псевдонимов.\u003C\/p\u003E\u003Cp\u003E\u003Ca href=\u0022https:\/\/iterative-refinement.github.io\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003E\u003Cstrong\u003EImage Super-Resolution via Iterative Refinement\u003C\/strong\u003E\u003C\/a\u003E\u003Cstrong\u003E \u003C\/strong\u003E- сверхвысокое разрешение изображений с помощью итеративного уточнения. \u003C\/p\u003E\u003Cp\u003E\u003Ca href=\u0022https:\/\/arxiv.org\/abs\/2108.02774\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003E\u003Cstrong\u003ESketch Your Own GAN\u003C\/strong\u003E\u003C\/a\u003E - работа про GAN, который позволяет создавать изображение из набросков.\u003C\/p\u003E\u003Cp\u003E\u003Ca href=\u0022https:\/\/arxiv.org\/abs\/2108.02483\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003E\u003Cstrong\u003EMixLacune: Segmentation of Lacunes of Presumed Vascular Origin\u003C\/strong\u003E\u003C\/a\u003E - работа о MixLacune - двухэтапном подходе к сегментированию лакун.\u003C\/p\u003E\u003Cp\u003E\u003Ca href=\u0022https:\/\/stylegan-nada.github.io\/\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003E\u003Cstrong\u003EStyleGAN-NADA: CLIP-Guided Domain Adaptation of Image Generators\u003C\/strong\u003E\u003C\/a\u003E - новый метод адаптации генераторов изображений.\u003C\/p\u003E\u003Cp\u003E\u003Ca href=\u0022https:\/\/nex-mpi.github.io\/\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003E\u003Cstrong\u003ENeX: Real-Time View Synthesis with Neural Basis Expansion\u003C\/strong\u003E\u003C\/a\u003E - работа о NeX, новом методе синтеза эффектов в реальном времени.\u003C\/p\u003E\u003Cp\u003E\u003Ca href=\u0022https:\/\/arxiv.org\/abs\/2107.13686\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003E\u003Cstrong\u003EAutoTinyBERT: Automatic Hyper-Parameter Optimization for Efficient Pre-Trained Language Models\u003C\/strong\u003E\u003C\/a\u003E - автоматический поиск гиперпараметров архитектуры.\u003C\/p\u003E\u003Cp\u003E\u003Ca href=\u0022https:\/\/arxiv.org\/abs\/2101.10384\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003E\u003Cstrong\u003EDroidlet: Modular, Heterogenous, Multi-Modal Agents\u003C\/strong\u003E\u003C\/a\u003E - работа о платформе Droidlet - модульной, гетерогенной архитектуре интеллектуальных агентов и платформе для их создания, которая находится на пересечении обработки естественного языка, компьютерного зрения и робототехники.\u003C\/p\u003E\u003Cp\u003E\u003Ca href=\u0022https:\/\/arxiv.org\/abs\/2107.12292\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003E\u003Cstrong\u003EContextual Transformer Networks for Visual Recognition\u003C\/strong\u003E\u003C\/a\u003E - новый модуль \u0022трансформер\u0022 для обнаружения изображений.\u003C\/p\u003E\u003Ch3\u003EКурсы\u003C\/h3\u003E\u003Cp\u003E\u003Ca href=\u0022https:\/\/www.youtube.com\/playlist?list=PLuv1FSpHurUevSXe_k0S7Onh6ruL-_NNh\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003E\u003Cstrong\u003EDesigning, Visualizing and Understanding Deep Neural Networks\u003C\/strong\u003E\u003C\/a\u003E - курс про Deep Neural Networks от UC Berkeley.\u003C\/p\u003E\u003Ch3\u003EИнструменты\u003C\/h3\u003E\u003Cp\u003E\u003Ca href=\u0022https:\/\/github.com\/ZumoLabs\/zpy\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003E\u003Cstrong\u003EZPY [by Zumo Labs]\u003C\/strong\u003E\u003C\/a\u003E - тулза для генерации синтетических данных.\u003C\/p\u003E\u003Chr\u003E\u003Cp\u003EСпасибо, что дочитали этот выпуск. Надеюсь, каждый нашел для себя что-то полезное. Буду благодарен за любые предложения для следующего дайджеста.\u003C\/p\u003E\u003Cp\u003EПрисоединяйтесь к\u0026nbsp;\u003Ca href=\u0022https:\/\/t.me\/DataPhoenix\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003E\u003Cu\u003ETelegram-каналу\u003C\/u\u003E\u003C\/a\u003E\u0026nbsp;дайджеста и его страницам в соцсетях:\u0026nbsp;\u003Ca href=\u0022https:\/\/twitter.com\/Data_Phoenix\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003E\u003Cu\u003ETwitter\u003C\/u\u003E\u003C\/a\u003E,\u0026nbsp;\u003Ca href=\u0022https:\/\/www.facebook.com\/DataPhoenix.info\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003E\u003Cu\u003EFacebook\u003C\/u\u003E\u003C\/a\u003E, а также подписывайтесь на нашу еженедельную\u0026nbsp;\u003Ca href=\u0022https:\/\/dataphoenix.info\/subscribe\/\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003Eрассылку\u003C\/a\u003E.\u003C\/p\u003E\u003Cp\u003E←\u0026nbsp;\u003Ca href=\u0022https:\/\/habr.com\/ru\/post\/571376\/\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003EПредыдущий выпуск\u003C\/a\u003E.\u003C\/p\u003E",
      "is_comments_hide": 0,
      "editor_version": 2,
      "hubs": [
        {
          "id": 340,
          "alias": "python",
          "title": "Python",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/python\/"
        },
        {
          "id": 8000,
          "alias": "algorithms",
          "title": "Алгоритмы",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/algorithms\/"
        },
        {
          "id": 17795,
          "alias": "bigdata",
          "title": "Big Data",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/bigdata\/"
        },
        {
          "id": 19439,
          "alias": "machine_learning",
          "title": "Машинное обучение",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/machine_learning\/"
        },
        {
          "id": 21922,
          "alias": "artificial_intelligence",
          "title": "Искусственный интеллект",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/artificial_intelligence\/"
        }
      ],
      "flows": [
        {
          "id": 1,
          "name": "Разработка",
          "alias": "develop",
          "url": "https:\/\/habr.com\/ru\/flows\/develop\/",
          "path": "\/flows\/develop\/"
        },
        {
          "id": 7,
          "name": "Научпоп",
          "alias": "popsci",
          "url": "https:\/\/habr.com\/ru\/flows\/popsci\/",
          "path": "\/flows\/popsci\/"
        }
      ],
      "is_recovery_mode": false,
      "reading_count": 150,
      "metadata": {
        "meta_image": "https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/30a\/e4e\/a98\/30ae4ea9801e8f75d4340c51c2646e62.png",
        "lead_image": "https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/30a\/e4e\/a98\/30ae4ea9801e8f75d4340c51c2646e62.png",
        "lead_image_info": {
          "url": "https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/30a\/e4e\/a98\/30ae4ea9801e8f75d4340c51c2646e62.png",
          "fit": "cover",
          "positionY": 0,
          "positionX": 0
        }
      },
      "path": "\/post\/572592\/",
      "full_url": "https:\/\/habr.com\/ru\/post\/572592\/",
      "author": {
        "id": 43946,
        "login": "m31",
        "time_registered": "2008-07-23T21:46:46+04:00",
        "score": 45.2,
        "fullname": "Dmitry Spodarets",
        "specializm": "Head of R\u0026D at V.I.Tech",
        "sex": 1,
        "rating": 11.9,
        "vote": 0,
        "note": {
          "text": null
        },
        "contacts": [],
        "rating_position": 358,
        "path": "\/users\/m31\/",
        "geo": {
          "country": "Украина",
          "region": "Одесская обл.",
          "city": "Одесса"
        },
        "counters": {
          "posts": 118,
          "comments": 92,
          "followed": 34,
          "followers": 106,
          "favorites": 407
        },
        "badges": [
          {
            "id": 1,
            "title": "Захабренный",
            "alias": "habred",
            "description": "Пользователь с кармой \u003E0",
            "url": null,
            "is_removable": false,
            "is_disabled": false
          }
        ],
        "avatar": "https:\/\/habrastorage.org\/getpro\/habr\/avatars\/bef\/f4f\/ca4\/beff4fca406f96ad50ba295f26e0c3eb.png",
        "is_readonly": false,
        "is_rc": false,
        "is_subscribed": false,
        "common_tags": [],
        "is_can_vote": true
      },
      "has_polls": false,
      "url": "https:\/\/habr.com\/ru\/post\/572592\/",
      "post_type": 1,
      "post_type_str": "simple",
      "vote": null,
      "is_can_vote": true,
      "voting": {
        "score": 0,
        "voteCount": {
          "total": 0,
          "positive": 0,
          "negative": 0
        },
        "vote": null,
        "reasonMap": null
      },
      "is_habred": true,
      "is_interesting": false,
      "is_favorite": false,
      "comments_new": null
    },
    {
      "id": 572590,
      "is_corporative": 0,
      "is_tutorial": false,
      "time_published": "2021-08-12T14:27:30+03:00",
      "time_interesting": null,
      "comments_count": 0,
      "score": 0,
      "votes_count": 0,
      "favorites_count": 0,
      "lang": "ru",
      "tags_string": "ddos, ddos-атака, ddos-защита, ddos-атаки",
      "title": "Обзор DDoS-атак за первый квартал 2021 года",
      "preview_html": "\u003Cp\u003EАтаки кибервымогателей представляют нешуточную угрозу. В прошлом году была развернута массивная DDoS-кампания в финансовой сфере с целью получения выкупа. Киберпреступники прошлись по жертвам прошлых атак, которые отказались платить, и запросили еще более высокую цену. Эта кампания закончилась только в середине первого квартала 2021 г. В других отраслях, таких как биотехнология и фармацевтика, наблюдались последовательные мелкие атаки, нацеленные на предприятия и очень похожие на те, что происходили в четвертом квартале 2020 г.\u003C\/p\u003E\u003Cp\u003EВ связи с пандемией организации перешли на удаленный режим работы и начали развивать инфраструктуру удаленного доступа. Исполнители DDoS-атак нашли в этом новые возможности и нацелились на серверную часть инфраструктуры организаций. Были атакованы подразделения международных компаний. Киберпреступники применяли новые тактики воздействия на предприятия, блокируя интернет-соединения и удаленный доступ. Ограничив пропускную способность, злоумышленники серьезно нарушили работу организаций.\u003C\/p\u003E",
      "text_cut": "Читать далее",
      "text_html": "\u003Cp\u003EАтаки кибервымогателей представляют нешуточную угрозу. В прошлом году была развернута массивная DDoS-кампания в финансовой сфере с целью получения выкупа. Киберпреступники прошлись по жертвам прошлых атак, которые отказались платить, и запросили еще более высокую цену. Эта кампания закончилась только в середине первого квартала 2021 г. В других отраслях, таких как биотехнология и фармацевтика, наблюдались последовательные мелкие атаки, нацеленные на предприятия и очень похожие на те, что происходили в четвертом квартале 2020 г.\u003C\/p\u003E\u003Cp\u003EВ связи с пандемией организации перешли на удаленный режим работы и начали развивать инфраструктуру удаленного доступа. Исполнители DDoS-атак нашли в этом новые возможности и нацелились на серверную часть инфраструктуры организаций. Были атакованы подразделения международных компаний. Киберпреступники применяли новые тактики воздействия на предприятия, блокируя интернет-соединения и удаленный доступ. Ограничив пропускную способность, злоумышленники серьезно нарушили работу организаций.\u003C\/p\u003E\u003Cp\u003E\u003Cstrong\u003EЧетвертый квартал\u003C\/strong\u003E \u003Cstrong\u003E2020 г. и первый квартал 2021 г.: ежемесячный объем атак\u003C\/strong\u003E\u003C\/p\u003E\u003Cp\u003EОбщее число атак в первом квартале 2021 г. было ниже, чем в четвертом квартале 2020 года. Но это не значит, что нарушители не предпринимали попыток. Общий объем атак резко вырос. Исследование Radware показало, что средний размер атаки в первом квартале составил 295 Мбит\/с, в декабре этот показатель был 315 Мбит\/с.  В марте 2021 г. одна из тысячи атак была больше 10 Гбит\/с, а в декабре 2020 г. таких атак было три на тысячу.\u003C\/p\u003E\u003Cp\u003E\u003Cstrong\u003EАтаки по отраслям\u003C\/strong\u003E   \u003C\/p\u003E\u003Cp\u003EВ здравоохранении к концу первого квартала снизилось число атак на больницы, но усилились атаки на общественные активы в сферах биотехнологий и фармацевтики.\u003C\/p\u003E\u003Cp\u003EВ то же время на государственный сектор экономики было меньше атак, но объем вырос к концу первого квартала 2021 года. Это существенно отличается от событий четвертого квартала 2020 г., когда было больше маломощных атак.\u003C\/p\u003E\u003Cp\u003EАнализ атак на финансовый сектор, проведенный экспертами кибербезопасности Radware, показал, что редкие, но крупномасштабные атаки в четвертом квартале сменились в марте на меньшие по масштабу, но частые глобальные атаки, подрывающие работу большего числа офисов и подразделений международных организаций.\u003C\/p\u003E\u003Cp\u003E\u003Cstrong\u003EСравнение локальной и облачной защиты\u003C\/strong\u003E\u003C\/p\u003E\u003Cp\u003EВ первом квартале этого года больше 85% атак было отражено локальными средствами защиты. Когда объем атак приближается к уровню перегрузки интернет-соединения, локальные устройства перенаправляют трафик в облако. Локальные устройства, системы обнаружения и подавления угроз не способны предотвратить 15% атак. Если задержка из-за работы системы защиты в облаке недопустима, 85% атак можно отразить посредством локального оборудования. Из всех вредоносных событий 73% составили проникновения, большинство из которых были устранены локально. Облачные центры очистки данных отвечают за отражение 94% DoS-событий.\u003C\/p\u003E\u003Cp\u003E\u003Cstrong\u003EЗависимость атак от времени суток\u003C\/strong\u003E\u003C\/p\u003E\u003Cp\u003EВ четвертом квартале 2020 г. больше всего атак было совершено на правительство. К концу первого квартала 2021 г. злоумышленники переключились на финансовый сектор.\u003C\/p\u003E\u003Cp\u003EВ отношении времени проведения атак наблюдается характерная тенденция. Самое большое число атак пришлось на рабочие часы с понедельника по пятницу, и лишь единичные атаки случились в выходные. В обзоре Radware отмечается, что ночью происходило меньше атак, чем в рабочее время, и это закономерно для разных часовых поясов.\u003C\/p\u003E\u003Cp\u003EБиотехнологии и фармацевтика по-прежнему под ударом, однако картина теперь несколько иная: небольшое число крупномасштабных атак сменилось незначительными атаками малого объема.\u003C\/p\u003E\u003Cp\u003EВ целом крупные атаки по 10 Гбит\/с или больше увеличились втрое в первом квартале 2021 г. по сравнению с декабрем 2020 г. И хотя количество атак не сильно изменилось (снизилось на 2% по сравнению с четвертым кварталом 2020 г.), объем атак вырос на 31%.\u003C\/p\u003E",
      "is_comments_hide": 0,
      "editor_version": 2,
      "hubs": [
        {
          "id": 50,
          "alias": "infosecurity",
          "title": "Информационная безопасность",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/infosecurity\/"
        }
      ],
      "flows": [
        {
          "id": 1,
          "name": "Разработка",
          "alias": "develop",
          "url": "https:\/\/habr.com\/ru\/flows\/develop\/",
          "path": "\/flows\/develop\/"
        }
      ],
      "is_recovery_mode": false,
      "reading_count": 271,
      "metadata": {
        "meta_image": "https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/eff\/904\/cd9\/eff904cd9301680125b35c8443662b54.jpeg",
        "lead_image": "https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/eff\/904\/cd9\/eff904cd9301680125b35c8443662b54.jpeg",
        "lead_image_info": {
          "url": "https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/eff\/904\/cd9\/eff904cd9301680125b35c8443662b54.jpeg",
          "fit": "cover",
          "positionY": 0,
          "positionX": 0
        }
      },
      "path": "\/post\/572590\/",
      "full_url": "https:\/\/habr.com\/ru\/post\/572590\/",
      "author": {
        "id": 57883,
        "login": "teleincom_admin",
        "time_registered": "2010-07-21T18:27:12+04:00",
        "score": 4,
        "fullname": "TIC",
        "specializm": "Пользователь",
        "sex": 0,
        "rating": 0,
        "vote": 0,
        "note": {
          "text": null
        },
        "contacts": [],
        "rating_position": 0,
        "path": "\/users\/teleincom_admin\/",
        "geo": {
          "country": "Россия",
          "region": "Москва и Московская обл.",
          "city": "Москва"
        },
        "counters": {
          "posts": 8,
          "comments": 1,
          "followed": 0,
          "followers": 2,
          "favorites": 0
        },
        "badges": [
          {
            "id": 1,
            "title": "Захабренный",
            "alias": "habred",
            "description": "Пользователь с кармой \u003E0",
            "url": null,
            "is_removable": false,
            "is_disabled": false
          }
        ],
        "avatar": "https:\/\/habrastorage.org\/getpro\/habr\/avatars\/e84\/dd4\/d20\/e84dd4d206be30db5683bd6440f80af8.jpg",
        "is_readonly": false,
        "is_rc": false,
        "is_subscribed": false,
        "common_tags": [],
        "is_can_vote": true
      },
      "has_polls": false,
      "url": "https:\/\/habr.com\/ru\/post\/572590\/",
      "source_author": "Radware, производитель решений для обеспечения кибербезопасности и доставки приложений",
      "source_link": "https:\/\/blog.radware.com\/security\/ddosattacks\/2021\/05\/an-overview-of-ddos-attacks-in-q1\/",
      "post_type": 2,
      "post_type_str": "translation",
      "vote": null,
      "is_can_vote": true,
      "voting": {
        "score": 0,
        "voteCount": {
          "total": 0,
          "positive": 0,
          "negative": 0
        },
        "vote": null,
        "reasonMap": null
      },
      "is_habred": true,
      "is_interesting": false,
      "is_favorite": false,
      "comments_new": null
    },
    {
      "id": 572586,
      "is_corporative": 0,
      "is_tutorial": false,
      "time_published": "2021-08-12T14:23:19+03:00",
      "time_interesting": null,
      "comments_count": 7,
      "score": 4,
      "votes_count": 4,
      "favorites_count": 3,
      "lang": "ru",
      "tags_string": "Гильдия, профсоюз, профсоюзы, профсоюз программистов, профсоюз it, профсоюз работников it сферы, законодательство, права и свободы",
      "title": "Закон о «Дия.City» подписан. Что дальше? Официальное заявление IT Guild Ukraine",
      "preview_html": "\u003Cp\u003EЭтот день наступил. \u003Ca href=\u0022https:\/\/www.president.gov.ua\/news\/prezident-pidpisav-zakon-sho-stimulyuvatime-rozvitok-cifrovo-70057\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003E\u003Cu\u003EВчера, после подписи президента Зеленского, официально вступил в силу законопроект №4303 - рамковая основа спецрежима \u0022Дія.City\u0022.\u003C\/u\u003E\u003C\/a\u003E \u003C\/p\u003E\u003Cp\u003EК сожалению, худшие наши опасения подтвердились: власть проигнорировала мнение ИТ-специалистов, то бишь всех нас, кое-где просто промолчав,  \u003Ca href=\u0022https:\/\/dou.ua\/forums\/topic\/34136\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003Eа в некоторых местах - откровенно совра\u003C\/a\u003Eв. \u003C\/p\u003E\u003Cp\u003EТем не менее, это абсолютно не повод сдаваться и добровольно соглашаться на худшее. Любой закон не стоит и чернил с бумагой, на которых написан, если он не выполняется. В нашей индустрии, главный актив - это люди, специалисты, которые непосредственно выполняют работу, с продажи результатов которой затем и извлекается маржа.  Именно от нашей позиции полностью зависит реальное отношение бизнеса к этому цифровому колхозу, а также то насколько осуществятся намерения власти загнать  олицетворяющую для нас дело всей жизни индустрию в коррупционное стойло. \u003C\/p\u003E\u003Cp\u003EСомнений никаких нет в том, что именно это является главной целью инициаторов из Министерства цифровой трансформации Украины.  За последние 7 лет объём ИТ-экспорта вырос на 175%, количество занятых в индустрии - примерно на 125%, суммарный объём уплачиваемых налогов в госбюджет в прошлом году превысил 20 миллиардов гривен,  а в этом - наверняка достигнет миллиарда долларов США. Столь лакомый кусок не мог остаться без внимания. \u003C\/p\u003E\u003Cp\u003EНо факт в том, что именно нынешние условия - возможность для ИТ-специалистов работать через ФОП, - и обеспечили вышеуказанные темпы развития. Для сравнения, общемировой рост за те же последние 7 лет не превышал 6-7%. Ощущаете разницу?\u003C\/p\u003E",
      "text_cut": "Подробнее",
      "text_html": "\u003Cp\u003EЭтот день наступил. \u003Ca href=\u0022https:\/\/www.president.gov.ua\/news\/prezident-pidpisav-zakon-sho-stimulyuvatime-rozvitok-cifrovo-70057\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003E\u003Cu\u003EВчера, после подписи президента Зеленского, официально вступил в силу законопроект №4303 - рамковая основа спецрежима \u0022Дія.City\u0022.\u003C\/u\u003E\u003C\/a\u003E \u003C\/p\u003E\u003Cp\u003EК сожалению, худшие наши опасения подтвердились: власть проигнорировала мнение ИТ-специалистов, то бишь всех нас, кое-где просто промолчав,  \u003Ca href=\u0022https:\/\/dou.ua\/forums\/topic\/34136\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003Eа в некоторых местах - откровенно соврав\u003C\/a\u003E. \u003C\/p\u003E\u003Cp\u003EТем не менее, это абсолютно не повод сдаваться и добровольно соглашаться на худшее. Любой закон не стоит и чернил с бумагой, на которых написан, если он не выполняется. В нашей индустрии, главный актив - это люди, специалисты, которые непосредственно выполняют работу, с продажи результатов которой затем и извлекается маржа.  Именно от нашей позиции полностью зависит реальное отношение бизнеса к этому цифровому колхозу, а также то насколько осуществятся намерения власти загнать  олицетворяющую для нас дело всей жизни индустрию в коррупционное стойло. \u003C\/p\u003E\u003Cp\u003EСомнений никаких нет в том, что именно это является главной целью инициаторов из Министерства цифровой трансформации Украины.  \u003Cstrong\u003EЗа последние 7 лет объём ИТ-экспорта вырос на 175%, количество занятых в индустрии - примерно на 125%, суммарный объём уплачиваемых налогов в госбюджет в прошлом году превысил 20 миллиардов гривен,  а в этом - наверняка достигнет миллиарда долларов США.\u003C\/strong\u003E Столь лакомый кусок не мог остаться без внимания. \u003C\/p\u003E\u003Cp\u003E\u003Cstrong\u003EНо факт в том, что именно нынешние условия - возможность для ИТ-специалистов работать через ФОП, - и обеспечили вышеуказанные темпы развития.\u003C\/strong\u003E Для сравнения, общемировой рост за те же последние 7 лет не превышал 6-7%. Ощущаете разницу?\u003C\/p\u003E\u003Cp\u003E\u003Cstrong\u003EС вступлением компании в этот т.н. \u0022спецрежим\u0022, положение её работников ИТ-специалистов только ухудшится:\u003C\/strong\u003E\u003C\/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003Eвозрастает фискальная нагрузка: компания будет вынуждена платить больше налогов за гиг-контракторов, следовательно - сокращать фонд оплаты труда,  либо повышать цены, теряя тем самым конкурентноспособность на рынке и определённый пул заказчиков\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003Eпункт о т.н. \u0022неконкуренции\u0022 является подменой понятий и создаёт возможность для манипуляции сотрудником: явно противореча статьям 41, 42, 43 Конституции Украины о праве свободно распоряжаться своими знаниями и навыками, праве свободно заниматься предпринимательской деятельностью и выбирать место работы - даёт компаниям возможность эти права для сотрудника ограничивать\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003Eза счёт наличия минимального размера оплаты труда в 1200 евро и усиления давления - существенно уменьшится приток новых специалистов\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003Eбольше всего пострадает малый и средний ИТ-бизнес: в компании где считают каждую копейку, элементарно потому что объёмы работы пока не те -  будет затруднительно выкладывать дважды в год десятки тысяч долларов на аудит, и это в дополнение к минимальным стандартам по зарплатному фонду сотрудников\u003C\/p\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003Cp\u003EНа данный момент мы рассматриваем несколько вариантов развития событий:\u003C\/p\u003E\u003Col\u003E\u003Cli\u003E\u003Cp\u003Eпомимо 4303, \u0022Дія.City\u0022 также состоит из законопроектов №5376 о налогообложении и №2740 о \u0022маски-шоу\u0022 - их рассмотрение будет осенью; если хотя бы 1 из них проваливается, \u0022Дія.City\u0022 - конец: никто не пойдёт работать согласно закона где существуют белые пятна неопределённости,  которые могут быть истрактованы как угодно. То же самое - о подзаконных актах, необходимых для согласования с уже существующими законами и кодексами.  Не будет их - не будет \u0022Дія.City\u0022.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003Eздесь есть два субцсценария: \u003C\/p\u003E\u003Col\u003E\u003Cli\u003E\u003Cp\u003Eсамый вероятный - чиновники будут давить на компании с помощью МинТруда, налоговой, силовиков, медиа и их будут загонять под крышу Дія.City. Как только большая часть рынка останется под ДС - начнётся закручивание гаек для всех остальных, вплоть до запрета вести деятельность по ИТ-КВЕДам для компаний вне ДС.    \u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003Eнейтральный: туда войдут те кому это интересно по каким-то причинам, таких компаний очень немного.  И все остальные участники рынка будут смотреть на то, что будет дальше.  Если так случится, - то \u0022Дія.City\u0022 скорее всего провалится сама. Поскольку большинство в здравом уме не захотят добровольно закрывать ФОП и идти гиг-рабом, когда вокруг есть столько возможностей, в том числе и через ВЭД. \u003C\/p\u003E\u003C\/li\u003E\u003C\/ol\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cstrong\u003Eдалее, следуя из п.2, - особенно в случае полного провала нашего сопротивления изменениям из п.1 и внедрения законов в полном объёме, на наш взгляд - наиболее вероятный: \u0022Дія.City\u0022 полностью подминает под себя украинское айти и задаёт правила игры,  которые пишутся под крупнейших игроков и под чиновников из МинЦифры.\u003C\/strong\u003E  Значит зарплаты станут ниже, сменить работу станет тяжелее, создать стартап сложнее, условия труда хуже, эмиграция усилится и айтишная «вольница» закончится навсегда. Без всякой альтернативы. Этот, катастрофический вариант на самом деле может случиться и чуть позже, когда прийдет новое правительство: через 3 года - новые выборы в Раду, и крайне маловероятно что текущие народные избранники удержат свои позиции.  Тем более, что он вполне соответствует даже политике нынешних власть имущих относительно ФОП: законопроекты о скрытых трудовых отношениях, почти полная ликвидация упрощённой системы налогообложения, повсеместное введение кассовых аппаратов, запрет ВЭД, и др. \u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003Eминистр Фёдоров окажется прав. В Украину из Калифорнии переедет вся Кремниево-Силиконовая долина, а Сан-Франциско переименуют в Дия-Франциско, затем воскреснет Стив Джобс, Илон Маск перенесёт Tesla в Запорожье,  а курсы в академии кибербезопасности станет читать с того света сам Алан Тьюринг.\u003C\/p\u003E\u003C\/li\u003E\u003C\/ol\u003E\u003Cp\u003EОтдельного внимания заслуживает пункт о закреплении данного спецрежима на 25 лет. Во-первых, вероятность такого крайне сомнительна: сравнить нашу страну в 1996 и сейчас в 2021 - примерно такая же разница размером в пропасть будет и в 2046. На смену текущей команде в Минцифры, которая, при всех их недостатках, люди цивилизованные, - могут прийти особи вполне себе бандитского склада, которые воспользуются тем, что для ИТ есть специальный режим начнут проводить свои любимые математические операции: делить и отнимать.  Нечто такое же хотел сделать сын Януковича, со своим специальным реестром ИТ-компаний. Таким людям безразличны аргументы про инвестиционный климат, налоги, экономику, - им нужна будет исключительно коррупционная рента, пока есть возможность её взять.  Ну а накладные расходы компании с удовольствием перенесут на сотрудников. Не из своей же маржи платить бандиту. \u003C\/p\u003E\u003Cp\u003E\u003Cstrong\u003EЗнайте, что наше сопротивление возымело свой эффект\u003C\/strong\u003E: судя по первой статье с заявлениями компаний-лоббистов, что перечислены на сайте \u0022Дія.City\u0022 - ряд из них сменили тон с шапкозакидательского на нейтральный, с однозначно позитивного на осторожный, принимая во внимание недовольство ИТ-специалистов. Тем не менее, активная деятельность с нашей стороны должна и будет продолжена! \u0022Гильдия\u0022 продолжит держать руку на пульсе, создавая интервью, обзоры, спецвыпуски на данную тематику.  Юриспуденция, технологии, экономика, финансы, налоги - нас интересуют все аспекты. \u003C\/p\u003E\u003Cp\u003E\u003Cstrong\u003EЗдесь Ваша активность - важна, и любое действие - имеет значение. Подписка, лайк, репост с описанием проблемы, комментарий с вопросом или словами поддержки - всё это как снежный ком увеличивает актуальность вопроса,  лавинообразным потоком привлекая внимание всей Украины. По тэгам #itguildukraine, #itguildua, #stopdiiacity - узнаете нас.\u003C\/strong\u003E \u003C\/p\u003E\u003Cp\u003EДействия должны быть решительными:\u003C\/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003Eустановите браузерное расширение для Chrome и Firefox с маркированием компаний, поддерживающих \u0022Дія.City\u0022. При общении с рекрутёрами оттуда, прямо спрашивайте их об отношении компании к данному вопросу. Просто так Минцифры не может размещать название компании в перечне сторонников!!!  Говорите им прямо, что отказываетесь с ними работать по этой причине - систематические ответы от множества кандидатов заставят их сменить тон с нейтрального далее до негативного, вплоть до публичного открещивания от данной инициативы Министерства. \u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003Eв случае начала разговоров внутри Вашей нынешней компании о вступлении в \u0022Дія.City\u0022 - создавайте локальные ячейки, общайтесь с коллегами - расскажите об усилении давления со стороны государства на компании которое затем будет спроецировано на сотрудников:  никто в здравом уме не согласится на понижение доходов и ухудшение условий труда, повесив тем самым себе на шею ярмо. Ставьте вопрос ребром: либо этого не будет и форма сотрудничества останется прежней для всех, либо вы уходите. \u003Cstrong\u003EДелайте это максимально публично: огласка - аргумент в Вашу пользу.\u003C\/strong\u003E Создавайте локальные ячейки, общайтесь с коллегами - расскажите об усилении давления со стороны государства на компании которое затем будет спроецировано на сотрудников:  никто в здравом уме не согласится на понижение доходов и ухудшение условий труда, повесив тем самым себе на шею ярмо. Постфактум, когда это УЖЕ случится - будет поздно!!!\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003Eмы окажем полную информационную поддержку, а также помощь с поиском работы для тех кто лишится оной вследствие вышеописанных действий или связанных с ними репрессий\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003Eкаждой компании, которая открыто выступит против цифрового колхоза \u0022Дія.City\u0022 - мы также окажем поддержку и максимальное содействие\u003C\/p\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003Cp\u003EНаши намерения - понятны и абсолютно резонны: мы хотим жить и работать в своей стране, заниматься выбранным нами делом которое любим и которое актуально для всего мира, развивать индустрию связанную с ним, - дабы в перспективе превратить ИТ в один из локомотивов экономики государства. \u003C\/p\u003E\u003Cp\u003E\u003Cstrong\u003EТребования - однозначны и просты, ко всем уважаемым чиновникам, депутатам, и непосредственно Министерству цифровой трансформации Украины в лице Михаила Фёдорова и Александра Борнякова: оставьте ИТ в покое!!!\u003C\/strong\u003E  Мы показали едва ли не наибольший в мире рост среди всех стран за последние годы, и продолжим это делать, ежегодно увеличивая суммы перечисляемых в госбюджет налогов - оставьте всё так, как оно есть, уже показывая качественно высокий результат.  В случае если давление и угрозы усилятся - сопротивление возрастёт в разы: следующий митинг соберёт сотни, тысячи человек в разных городах страны.  Есть масса людей, недовольных тарифной, налоговой, административной политикой нынешней власти - мы с удовольствием поддержим их протест, а они поддержат наш. \u003C\/p\u003E\u003Cp\u003E\u003Cstrong\u003EПоскольку конечной нашей целью служит развитие экономики Украины, создание сильной, богатой и процветающей страны, где каждый сможет учиться, работать и зарабатывать.\u003C\/strong\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Ca href=\u0022https:\/\/www.patreon.com\/posts\/54817651\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003EPatreon\u003C\/a\u003E\u003Cbr\u003E\u003Ca href=\u0022https:\/\/www.facebook.com\/itguildua\/posts\/170764585155905\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003EFacebook\u003C\/a\u003E\u003Cbr\u003E\u003Ca href=\u0022https:\/\/t.me\/itguildukraine\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003ETelegram\u003C\/a\u003E\u003Cbr\u003E\u003Ca href=\u0022https:\/\/dou.ua\/forums\/topic\/34429\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003EDOU\u003C\/a\u003E\u003Cbr\u003E\u003Ca href=\u0022https:\/\/www.youtube.com\/c\/ITGuildUkraine\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003EYouTube\u003C\/a\u003E\u003Cbr\u003E\u003C\/p\u003E",
      "is_comments_hide": 0,
      "editor_version": 2,
      "hubs": [
        {
          "id": 20686,
          "alias": "community_management",
          "title": "Управление сообществом",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/community_management\/"
        },
        {
          "id": 20688,
          "alias": "research",
          "title": "Исследования и прогнозы в IT",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/research\/"
        },
        {
          "id": 20712,
          "alias": "display_adv",
          "title": "Медийная реклама",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/display_adv\/"
        },
        {
          "id": 20740,
          "alias": "career",
          "title": "Карьера в IT-индустрии",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/career\/"
        },
        {
          "id": 21904,
          "alias": "office",
          "title": "Офисы IT-компаний",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/office\/"
        }
      ],
      "flows": [
        {
          "id": 3,
          "name": "Менеджмент",
          "alias": "management",
          "url": "https:\/\/habr.com\/ru\/flows\/management\/",
          "path": "\/flows\/management\/"
        },
        {
          "id": 4,
          "name": "Маркетинг",
          "alias": "marketing",
          "url": "https:\/\/habr.com\/ru\/flows\/marketing\/",
          "path": "\/flows\/marketing\/"
        },
        {
          "id": 7,
          "name": "Научпоп",
          "alias": "popsci",
          "url": "https:\/\/habr.com\/ru\/flows\/popsci\/",
          "path": "\/flows\/popsci\/"
        }
      ],
      "is_recovery_mode": false,
      "reading_count": 1568,
      "metadata": {
        "meta_image": "https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/9b1\/495\/c5e\/9b1495c5e0bc7709b8d288e17605b060.png",
        "lead_image": "https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/9b1\/495\/c5e\/9b1495c5e0bc7709b8d288e17605b060.png",
        "lead_image_info": {
          "url": "https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/9b1\/495\/c5e\/9b1495c5e0bc7709b8d288e17605b060.png",
          "fit": "cover",
          "positionY": 0.45454545454545,
          "positionX": 40.512820512821
        }
      },
      "path": "\/post\/572586\/",
      "full_url": "https:\/\/habr.com\/ru\/post\/572586\/",
      "author": {
        "id": 2766727,
        "login": "itguildua",
        "time_registered": "2021-08-08T23:51:44+03:00",
        "score": 3,
        "fullname": "Гильдия ИТ-специалистов Украины",
        "specializm": "all IT",
        "sex": 0,
        "rating": 9,
        "vote": 0,
        "note": {
          "text": null
        },
        "contacts": [],
        "rating_position": 417,
        "path": "\/users\/itguildua\/",
        "geo": {
          "country": "Украина",
          "region": null,
          "city": null
        },
        "counters": {
          "posts": 2,
          "comments": 3,
          "followed": 0,
          "followers": 1,
          "favorites": 0
        },
        "badges": [
          {
            "id": 1,
            "title": "Захабренный",
            "alias": "habred",
            "description": "Пользователь с кармой \u003E0",
            "url": null,
            "is_removable": false,
            "is_disabled": false
          }
        ],
        "avatar": "https:\/\/habrastorage.org\/getpro\/habr\/avatars\/b37\/296\/60e\/b3729660e4ae8abbbfa6d2ea86dded69.jpg",
        "is_readonly": false,
        "is_rc": false,
        "is_subscribed": false,
        "common_tags": [],
        "is_can_vote": true
      },
      "has_polls": false,
      "url": "https:\/\/habr.com\/ru\/post\/572586\/",
      "post_type": 1,
      "post_type_str": "simple",
      "vote": null,
      "is_can_vote": true,
      "voting": {
        "score": 4,
        "voteCount": {
          "total": 4,
          "positive": 4,
          "negative": 0
        },
        "vote": null,
        "reasonMap": null
      },
      "is_habred": true,
      "is_interesting": false,
      "is_favorite": false,
      "comments_new": 7
    },
    {
      "id": 572576,
      "is_corporative": 1,
      "is_tutorial": false,
      "time_published": "2021-08-12T14:13:04+03:00",
      "time_interesting": null,
      "comments_count": 0,
      "score": 3,
      "votes_count": 3,
      "favorites_count": 1,
      "lang": "ru",
      "tags_string": "cvpr, CVPR2021, machine learning, deep learning, машинное обучение. нейросети, глубокое обучение, 3d, 3d-моделирование",
      "title": "3D-реконструкция и нейронные аватары: 3D компьютерное зрение на CVPR 2021",
      "preview_html": "\u003Cp\u003EВ конце июня прошла CVPR 2021 – одна из самых значимых конференций в области компьютерного зрения. \u003Ca href=\u0022https:\/\/public.tableau.com\/views\/CVPR2021\/Dashboard1?:language=en-US\u0026amp;:display_count=n\u0026amp;:origin=viz_share_link:showVizHome=no\u0022\u003E\u003Cu\u003EНаибольшее\u003C\/u\u003E\u003C\/a\u003E число докладов было посвящено теме 3D компьютерного зрения. Наша команда Twin3d посетила конференцию и в рамках нашего обзора мы покроем последние тренды в академии, связанные с 3D-реконструкцией и виртуальными нейронными аватарами, расскажем о преимуществах и недостатках различных подходов к нейронному рендерингу, а также постараемся покрыть потенциальные применения этих передовых технологий.\u003C\/p\u003E",
      "text_cut": "Читать далее",
      "text_html": "\u003Cfigure class=\u0022\u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/709\/c9c\/44c\/709c9c44cba3df65dfe17551a9c32ba9.png\u0022 width=\u0022780\u0022 height=\u0022440\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cp\u003EВ конце июня прошла CVPR 2021 – одна из самых значимых конференций в области компьютерного зрения. \u003Ca href=\u0022https:\/\/public.tableau.com\/views\/CVPR2021\/Dashboard1?:language=en-US\u0026amp;:display_count=n\u0026amp;:origin=viz_share_link:showVizHome=no\u0022\u003E\u003Cu\u003EНаибольшее\u003C\/u\u003E\u003C\/a\u003E число докладов было посвящено теме 3D компьютерного зрения. Наша команда Twin3d посетила конференцию и в рамках нашего обзора мы покроем последние тренды в академии, связанные с 3D-реконструкцией и виртуальными нейронными аватарами, расскажем о преимуществах и недостатках различных подходов к нейронному рендерингу, а также постараемся покрыть потенциальные применения этих передовых технологий.\u003C\/p\u003E\u003Ch3\u003EТренды\u003C\/h3\u003E\u003Cp\u003E\u003Cstrong\u003EЛучи\u003C\/strong\u003E\u003C\/p\u003E\u003Cp\u003E\u003Cem\u003ENeRFs\/неявные (implicit) модели\u003C\/em\u003E\u003C\/p\u003E\u003Cp\u003EС темой лучей неразрывно связаны implicit модели и \u003Ca href=\u0022https:\/\/www.matthewtancik.com\/nerf\u0022\u003E\u003Cu\u003ENeRF\u003C\/u\u003E\u003C\/a\u003E\u003Cstrong\u003E.\u0026nbsp;\u003C\/strong\u003EВ \u003Ca href=\u0022https:\/\/habr.com\/ru\/company\/twin3d\/blog\/569174\/\u0022\u003E\u003Cu\u003Eпредыдущей\u003C\/u\u003E\u003C\/a\u003E статье мы уже рассказали о том, как устроен NeRF и упомянули о феномене NeRF explosion. \u003Ca href=\u0022https:\/\/github.com\/yenchenlin\/awesome-NeRF\u0022\u003E\u003Cu\u003EВзрыв\u003C\/u\u003E\u003C\/a\u003E породил огромное количество работ, расширяющих различные аспекты этой работы, включая оптимизацию производительности,\u0026nbsp; поддержку динамики, генеративные модели, оценку позиций камер (что по сути – обучаемая фотограмметрия!), обобщение (\u003Ca href=\u0022https:\/\/alexyu.net\/pixelnerf\/\u0022\u003E\u003Cu\u003EpixelNeRF\u003C\/u\u003E\u003C\/a\u003E) и обработку произвольных фотографий из интернета, отфильтрованных по геотегу (\u003Ca href=\u0022https:\/\/nerf-w.github.io\/\u0022\u003E\u003Cu\u003ENeRF in the Wild\u003C\/u\u003E\u003C\/a\u003E).\u003C\/p\u003E\u003Ciframe id=\u00226114f32a8ff4968fafa2a919\u0022 src=\u0022https:\/\/embedd.srv.habr.com\/iframe\/6114f32a8ff4968fafa2a919\u0022 class=\u0022embed_video embed__content\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C\/iframe\u003E\u003Cfigure class=\u0022\u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/8dc\/ee4\/ffe\/8dcee4ffe24477d4b87dfd1b33906a17.jpg\u0022 alt=\u0022NeRF in the Wild – работа от Google Research, в которой могут быть использованы произвольные* фотографии из интернета (примеры слева: фильтрованные по геотегу, снятые на разные устройства в разное время) для обучения NeRF сцены, облик которой потом можно менять. Это реализовано через кодирование варьирующихся условий освещенности и цветопередачи на снимках. В результате обученная модель позволяет интерполировать освещенность, сохраняя консистентную геометрию. \nСлева на gif – сцена с фиксированной освещенностью, справа – интерполяция представлений освещения.\u0022 title=\u0022NeRF in the Wild – работа от Google Research, в которой могут быть использованы произвольные* фотографии из интернета (примеры слева: фильтрованные по геотегу, снятые на разные устройства в разное время) для обучения NeRF сцены, облик которой потом можно менять. Это реализовано через кодирование варьирующихся условий освещенности и цветопередачи на снимках. В результате обученная модель позволяет интерполировать освещенность, сохраняя консистентную геометрию. \nСлева на gif – сцена с фиксированной освещенностью, справа – интерполяция представлений освещения.\u0022 width=\u0022772\u0022 height=\u0022388\u0022\u003E\u003Cfigcaption\u003ENeRF in the Wild – работа от Google Research, в которой могут быть использованы произвольные* фотографии из интернета (примеры слева: фильтрованные по геотегу, снятые на разные устройства в разное время) для обучения NeRF сцены, облик которой потом можно менять. Это реализовано через кодирование варьирующихся условий освещенности и цветопередачи на снимках. В результате обученная модель позволяет интерполировать освещенность, сохраняя консистентную геометрию. \nСлева на gif – сцена с фиксированной освещенностью, справа – интерполяция представлений освещения.\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cblockquote\u003E\u003Cp\u003EФотографии, может, и произвольные, а ресурсы только масштаба Google: каждую сцену учили с батчем 2048 на 8 GPU 2 дня. Что-то подсказывает, что и обработка огромного количества фотографий в COLMAP – дело тоже непростое.\u003C\/p\u003E\u003C\/blockquote\u003E\u003Ciframe id=\u00226114f359abf7c98fe8a3341c\u0022 src=\u0022https:\/\/embedd.srv.habr.com\/iframe\/6114f359abf7c98fe8a3341c\u0022 class=\u0022embed_video embed__content\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C\/iframe\u003E\u003Cfigure class=\u0022\u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/857\/843\/86d\/85784386dec62e0aab445a27c8e985e9.jpg\u0022 alt=\u0022pixelNeRF от UC Berkeley предлагает кодировать входное изображение (с помощью сверточной сети) наряду с параметрами камеры. Это позволяет адаптировать подход к минимальному количеству фотографий. На gif слева – pixelNeRF, справа – оригинальный NeRF (последний заточен на обучение по большому числу фотографий сцены).\u0022 title=\u0022pixelNeRF от UC Berkeley предлагает кодировать входное изображение (с помощью сверточной сети) наряду с параметрами камеры. Это позволяет адаптировать подход к минимальному количеству фотографий. На gif слева – pixelNeRF, справа – оригинальный NeRF (последний заточен на обучение по большому числу фотографий сцены).\u0022 width=\u0022600\u0022 height=\u0022150\u0022\u003E\u003Cfigcaption\u003EpixelNeRF от UC Berkeley предлагает кодировать входное изображение (с помощью сверточной сети) наряду с параметрами камеры. Это позволяет адаптировать подход к минимальному количеству фотографий. На gif слева – pixelNeRF, справа – оригинальный NeRF (последний заточен на обучение по большому числу фотографий сцены).\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cp\u003EНаряду с этим классом моделей на конференции было представлено огромное количество работ с концептуально схожими implicit моделями.\u003Cstrong\u003E \u003C\/strong\u003EЭти модели являются отображением пространства пикселей в контекст непрерывной 3D сцены (или попросту делают из картинки 3D-модель) и, как правило, представляют SDF (signed distance function – индикаторная функция, определяющая принадлежность точки к поверхности сцены) и цвет. Параметризованные полносвязными нейронными сетями, неявными (implicit) они названы в честь \u003Ca href=\u0022https:\/\/ru.wikipedia.org\/wiki\/%D0%9D%D0%B5%D1%8F%D0%B2%D0%BD%D0%B0%D1%8F_%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D1%8F\u0022\u003E\u003Cu\u003Eодноименного\u003C\/u\u003E\u003C\/a\u003E класса функций.\u003C\/p\u003E\u003Cp\u003EПионерами в данном направлении явились две работы – \u003Ca href=\u0022https:\/\/github.com\/facebookresearch\/DeepSDF\u0022\u003E\u003Cu\u003EDeepSDF\u003C\/u\u003E\u003C\/a\u003E и \u003Ca href=\u0022https:\/\/shunsukesaito.github.io\/PIFu\/\u0022\u003E\u003Cu\u003EPiFU\u003C\/u\u003E\u003C\/a\u003E\u003Cu\u003E (\u003C\/u\u003E\u003Cstrong\u003EPi\u003C\/strong\u003Exel-Aligned \u003Cstrong\u003EI\u003C\/strong\u003Emplicit \u003Cstrong\u003EFu\u003C\/strong\u003Enction). Представленный в недалеком 2019 нейронный подход значительно вырос и позволяет моделировать реалистичные сцены с более высокой детализацией, в (около) реальном времени.\u003C\/p\u003E\u003Cfigure class=\u0022\u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/d64\/b8c\/37d\/d64b8c37d7a903e63fdb0f0edfef9359.png\u0022 alt=\u0022Иллюстрация из работы от Facebook DeepSDF: a,b – 2D-проекция среза функции SDF, c – поверхность (показанная на a и b голубым контуром), заданная уравнением (Deep)SDF=0 \u0022 title=\u0022Иллюстрация из работы от Facebook DeepSDF: a,b – 2D-проекция среза функции SDF, c – поверхность (показанная на a и b голубым контуром), заданная уравнением (Deep)SDF=0 \u0022 width=\u0022774\u0022 height=\u0022500\u0022\u003E\u003Cfigcaption\u003EИллюстрация из работы от Facebook DeepSDF: a,b – 2D-проекция среза функции SDF, c – поверхность (показанная на a и b голубым контуром), заданная уравнением (Deep)SDF=0 \u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cfigure class=\u0022\u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/5ea\/4f3\/bcb\/5ea4f3bcb255600e44698695d8ac5100.png\u0022 alt=\u0022PIFu – это две нейронные сети – PIFu(SDF) и Tex-PIFu (Tex от Texture –  текстура), которые принимают на вход изображение, закодированное полносверточной сетью в код x, и позицию точки в 3D z и выдают значение SDF и цвета соответственно. \u0022 title=\u0022PIFu – это две нейронные сети – PIFu(SDF) и Tex-PIFu (Tex от Texture –  текстура), которые принимают на вход изображение, закодированное полносверточной сетью в код x, и позицию точки в 3D z и выдают значение SDF и цвета соответственно. \u0022 width=\u00221600\u0022 height=\u0022630\u0022\u003E\u003Cfigcaption\u003EPIFu – это две нейронные сети – PIFu(SDF) и Tex-PIFu (Tex от Texture –  текстура), которые принимают на вход изображение, закодированное полносверточной сетью в код x, и позицию точки в 3D z и выдают значение SDF и цвета соответственно. \u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cfigure class=\u0022\u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/2c1\/d35\/5b5\/2c1d355b5c56a7be4fc1772ff662c3e3.gif\u0022 alt=\u0022StereoPIFu от научно-технического университета Китая разработана в частности для двух* изображений. Авторы предлагают расширить контекст признаков за счет 3D представления – новые фичи с картинок проецируются в воксели (3D аналоги пикселей).  Двух изображений оказывается достаточно для того, чтобы с помощью нового представления фичей и дополнительных предсказаний карт глубины существенно улучшить результаты предшествующих PIFuHD по геометрии и оригинального PIFu на двух снимках по детализации.\u0022 title=\u0022StereoPIFu от научно-технического университета Китая разработана в частности для двух* изображений. Авторы предлагают расширить контекст признаков за счет 3D представления – новые фичи с картинок проецируются в воксели (3D аналоги пикселей).  Двух изображений оказывается достаточно для того, чтобы с помощью нового представления фичей и дополнительных предсказаний карт глубины существенно улучшить результаты предшествующих PIFuHD по геометрии и оригинального PIFu на двух снимках по детализации.\u0022 width=\u0022600\u0022 height=\u0022194\u0022\u003E\u003Cfigcaption\u003EStereoPIFu от научно-технического университета Китая разработана в частности для двух* изображений. Авторы предлагают расширить контекст признаков за счет 3D представления – новые фичи с картинок проецируются в воксели (3D аналоги пикселей).  Двух изображений оказывается достаточно для того, чтобы с помощью нового представления фичей и дополнительных предсказаний карт глубины существенно улучшить результаты предшествующих PIFuHD по геометрии и оригинального PIFu на двух снимках по детализации.\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cblockquote\u003E\u003Cp\u003E* Возникает вопрос, почему бы не обобщить метод для multi-view? Мы можем предположить, что воксели – не самое эффективное и масштабируемое 3D представление, а геометрический контекст со стерео пары позволяет в рамках определенного диапазона разрешить неоднозначность, возникающую при моделировании сцены по одному фото.\u003C\/p\u003E\u003C\/blockquote\u003E\u003Ciframe id=\u00226114f3abf2fa57a26f179fe2\u0022 src=\u0022https:\/\/embedd.srv.habr.com\/iframe\/6114f3abf2fa57a26f179fe2\u0022 class=\u0022embed_video embed__content\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C\/iframe\u003E\u003Cfigure class=\u0022\u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/9f1\/245\/17c\/9f124517c92c0de956ecc4cae9284d38.jpg\u0022 alt=\u0022Neural Geometric Level of Detail – первая implicit модель с высочайшей (для нейронной сети) детализацией. В работе был применен классический принцип иерархической детализации (знакомый геймерам LOD). Дискретизированный в оригинальном алгоритме LOD в данной работе является непрерывным и позволяет интерполировать значения SDF в зависимости от удаленности сцены от камеры.\u0022 title=\u0022Neural Geometric Level of Detail – первая implicit модель с высочайшей (для нейронной сети) детализацией. В работе был применен классический принцип иерархической детализации (знакомый геймерам LOD). Дискретизированный в оригинальном алгоритме LOD в данной работе является непрерывным и позволяет интерполировать значения SDF в зависимости от удаленности сцены от камеры.\u0022 width=\u00222560\u0022 height=\u0022512\u0022\u003E\u003Cfigcaption\u003ENeural Geometric Level of Detail – первая implicit модель с высочайшей (для нейронной сети) детализацией. В работе был применен классический принцип иерархической детализации (знакомый геймерам LOD). Дискретизированный в оригинальном алгоритме LOD в данной работе является непрерывным и позволяет интерполировать значения SDF в зависимости от удаленности сцены от камеры.\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Ciframe id=\u00226114f3e3abf7c98fe8a3341d\u0022 src=\u0022https:\/\/embedd.srv.habr.com\/iframe\/6114f3e3abf7c98fe8a3341d\u0022 class=\u0022embed_video embed__content\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C\/iframe\u003E\u003Cfigure class=\u0022\u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/647\/24c\/777\/64724c777cbf618c023bda780dc2b6bf.jpg\u0022 alt=\u0022 Function4D. Тут происходит объединение информации с RGBD-датчиков низкого разрешения. Под капотом все те же implicit функции, только для ускорения используются новые уловки: фильтрация пустых вокселей на основе карт глубины с последующей реконструкцией через octrees с разрешения 64 до 256. Для большего ускорения вместо текстур используются исходные картинки RGB, репроецированные на реконструированную геометрию.   \nКак бонус – авторы опубликовали классный датасет с 500 сканами людей в высоком разрешении (на фото – примеры моделей).  \u0022 title=\u0022 Function4D. Тут происходит объединение информации с RGBD-датчиков низкого разрешения. Под капотом все те же implicit функции, только для ускорения используются новые уловки: фильтрация пустых вокселей на основе карт глубины с последующей реконструкцией через octrees с разрешения 64 до 256. Для большего ускорения вместо текстур используются исходные картинки RGB, репроецированные на реконструированную геометрию.   \nКак бонус – авторы опубликовали классный датасет с 500 сканами людей в высоком разрешении (на фото – примеры моделей).  \u0022 width=\u00226282\u0022 height=\u00223365\u0022\u003E\u003Cfigcaption\u003E Function4D. Тут происходит объединение информации с RGBD-датчиков низкого разрешения. Под капотом все те же implicit функции, только для ускорения используются новые уловки: фильтрация пустых вокселей на основе карт глубины с последующей реконструкцией через octrees с разрешения 64 до 256. Для большего ускорения вместо текстур используются исходные картинки RGB, репроецированные на реконструированную геометрию.   \nКак бонус – авторы опубликовали классный датасет с 500 сканами людей в высоком разрешении (на фото – примеры моделей).  \u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cp\u003EВ последних implicit моделях в качестве функции активации используется просто синус параметризованной частоты, и ноги растут из NeRF, где направление камеры было закодировано с использованием периодических активаций (\u003Ca href=\u0022https:\/\/bmild.github.io\/fourfeat\/\u0022\u003E\u003Cu\u003Efourier features\u003C\/u\u003E\u003C\/a\u003E). Позже подход был обобщен до многослойных сетей синусоидальных представлений – \u003Ca href=\u0022https:\/\/vsitzmann.github.io\/siren\/\u0022\u003E\u003Cu\u003ESIREN\u003C\/u\u003E\u003C\/a\u003E\u003Cstrong\u003E \u003C\/strong\u003E(\u003Cstrong\u003Esi\u003C\/strong\u003Enusoidal \u003Cstrong\u003Ere\u003C\/strong\u003Epresentation\u003Cstrong\u003E n\u003C\/strong\u003Eetworks). О них уже была \u003Ca href=\u0022https:\/\/habr.com\/ru\/company\/lanit\/blog\/548250\/\u0022\u003E\u003Cu\u003Eстатья\u003C\/u\u003E\u003C\/a\u003E на хабре. Они стали новым state-of-the-art не только в представлении картинок, видео и звука, но и сцены в 3D в качестве тех самых implicit моделей (\u003Ca href=\u0022https:\/\/research.fb.com\/publications\/pixel-codec-avatars\/\u0022\u003E\u003Cu\u003EPiCA\u003C\/u\u003E\u003C\/a\u003E\u003Cu\u003E,\u003C\/u\u003E \u003Ca href=\u0022http:\/\/www.computationalimaging.org\/publications\/nlr\/\u0022\u003E\u003Cu\u003ENeural Lumigraph Rendering\u003C\/u\u003E\u003C\/a\u003E и другие). \u003C\/p\u003E\u003Cp\u003EОднако, наряду с энтузиастами подходов NeRF и implicit, велико число и скептиков. Мы неоднократно присутствовали на сессиях, где авторы нелестно отзывались о практической применимости метода. По словам \u003Ca href=\u0022https:\/\/wikiboard.ru\/wiki\/Michael_J._Black\u0022\u003E\u003Cu\u003EМайкла Дж. Блэка\u003C\/u\u003E\u003C\/a\u003E на \u003Cs\u003Eодной\u003C\/s\u003E многих сессиях, implicit поверхности пока не совместимы ни с одним индустриальным приложением. Выразим скромный нейтралитет к данной позиции и останемся открыты новым академическим достижениям в этом направлении.\u003C\/p\u003E\u003Cp\u003E\u003Cem\u003ERay tracing\u003C\/em\u003E\u003C\/p\u003E\u003Cp\u003EСуществует два основных способа рендеринга – ray tracing (трассировка лучей) и растеризация. На хабре уже была \u003Ca href=\u0022https:\/\/habr.com\/ru\/post\/480338\/\u0022\u003E\u003Cu\u003Eстатья\u003C\/u\u003E\u003C\/a\u003E, подробно рассказывающая, что к чему, да и поклонники 3D-игр и спецэффектов наверняка слышали об этих двух техниках. Подобно ситуации с 3D-играми ray tracing вытесняет растеризацию в области \u003Ca href=\u0022https:\/\/diff-render.org\/\u0022\u003E\u003Cu\u003Eфизически корректного дифференцируемого рендеринга\u003C\/u\u003E\u003C\/a\u003E с целью расчета более точных градиентов. \u003C\/p\u003E\u003Cfigure class=\u0022\u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/9f1\/686\/f4c\/9f1686f4c8b0cacc158e966bb613830c.jpg\u0022 alt=\u0022Эксперимент с туториала Physics-Based Differentiable Rendering, который показывает радикальную разницу во влиянии точности градиентов на результат задачи выравнивания меша. В дифференцируемом движке psdr-cuda реализованы быстрый ray tracing и подсчет корректных градиентов, в то время как Pytorch3D с классической растеризацией уступает ray tracing в точности градиентов. \u0022 title=\u0022Эксперимент с туториала Physics-Based Differentiable Rendering, который показывает радикальную разницу во влиянии точности градиентов на результат задачи выравнивания меша. В дифференцируемом движке psdr-cuda реализованы быстрый ray tracing и подсчет корректных градиентов, в то время как Pytorch3D с классической растеризацией уступает ray tracing в точности градиентов. \u0022 width=\u0022682\u0022 height=\u0022170\u0022\u003E\u003Cfigcaption\u003EЭксперимент с туториала Physics-Based Differentiable Rendering, который показывает радикальную разницу во влиянии точности градиентов на результат задачи выравнивания меша. В дифференцируемом движке psdr-cuda реализованы быстрый ray tracing и подсчет корректных градиентов, в то время как Pytorch3D с классической растеризацией уступает ray tracing в точности градиентов. \u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cblockquote\u003E\u003Cp\u003EЗадача выравнивания меша вполне жизненная, и о ней мы тоже \u003Ca href=\u0022https:\/\/habr.com\/ru\/company\/twin3d\/blog\/557440\/\u0022\u003E\u003Cu\u003Eрассказывали\u003C\/u\u003E\u003C\/a\u003E. В контексте задачи в туториале ссылаются на свежую \u003Ca href=\u0022https:\/\/luanfujun.github.io\/InverseMeshSVBRDF\/\u0022\u003E\u003Cu\u003Eстатью\u003C\/u\u003E\u003C\/a\u003E про  реконструкцию геометрии и текстуры. \u003C\/p\u003E\u003C\/blockquote\u003E\u003Cp\u003EВ отличие от растеризации трассировка лучей позволяет моделировать реалистичный перенос света (преломления и отражения), а вычислительная независимость каждого луча делает алгоритмы, основанные на трассировке лучей, доступными для распараллеливания. Более того, определенные серии графических карт NVIDIA и AMD были специально разработаны под операции для ray tracing.\u003C\/p\u003E\u003Cfigure class=\u0022\u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/acb\/578\/85e\/acb57885e9b08b6cd30c4d4ba95ccbfe.gif\u0022 alt=\u0022Facebook Reality Labs представили серию потрясающих статей, посвященных нейронным аватарам: Deep Appearance Models (DAM), Deep Relightable Appearance Models for Animatable Faces (DRAM) и Pixel Codec Avatars (PiCA). Последняя и была представлена на CVPR 2021. \u0022 title=\u0022Facebook Reality Labs представили серию потрясающих статей, посвященных нейронным аватарам: Deep Appearance Models (DAM), Deep Relightable Appearance Models for Animatable Faces (DRAM) и Pixel Codec Avatars (PiCA). Последняя и была представлена на CVPR 2021. \u0022 width=\u0022600\u0022 height=\u0022460\u0022\u003E\u003Cfigcaption\u003EFacebook Reality Labs представили серию потрясающих статей, посвященных нейронным аватарам: Deep Appearance Models (DAM), Deep Relightable Appearance Models for Animatable Faces (DRAM) и Pixel Codec Avatars (PiCA). Последняя и была представлена на CVPR 2021. \u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cfigure class=\u0022\u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/c71\/977\/18d\/c7197718d1f58d4ea299c89cf767605e.gif\u0022 alt=\u0022В качестве baseline-модели была взята предшествующая работа DAM. Ключевое отличие PiCA состоит в отказе от сверточных представлений в пользу попиксельного декодирования. Видимые пиксели, отрендеренные через растеризацию\/raycasting (грубо: упрощенная форма трассировки лучей) декодируются легкой полносвязной сетью SIREN. Данный подход поддерживает рендеринг для Oculus c FPS ~50*).\u0022 title=\u0022В качестве baseline-модели была взята предшествующая работа DAM. Ключевое отличие PiCA состоит в отказе от сверточных представлений в пользу попиксельного декодирования. Видимые пиксели, отрендеренные через растеризацию\/raycasting (грубо: упрощенная форма трассировки лучей) декодируются легкой полносвязной сетью SIREN. Данный подход поддерживает рендеринг для Oculus c FPS ~50*).\u0022 width=\u0022600\u0022 height=\u0022460\u0022\u003E\u003Cfigcaption\u003EВ качестве baseline-модели была взята предшествующая работа DAM. Ключевое отличие PiCA состоит в отказе от сверточных представлений в пользу попиксельного декодирования. Видимые пиксели, отрендеренные через растеризацию\/raycasting (грубо: упрощенная форма трассировки лучей) декодируются легкой полносвязной сетью SIREN. Данный подход поддерживает рендеринг для Oculus c FPS ~50*).\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cfigure class=\u0022\u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/f91\/31c\/ec3\/f9131cec38c1e8429589f9fd41339e5c.gif\u0022 alt=\u0022Codec Avatars vs Real video \u0022 title=\u0022Codec Avatars vs Real video \u0022 width=\u0022480\u0022 height=\u0022510\u0022\u003E\u003Cfigcaption\u003ECodec Avatars vs Real video \u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cblockquote\u003E\u003Cp\u003E* Вообще говоря, 50 FPS недостаточно для благополучного погружения мозга и вестибулярного аппарата человека в VR, но в последние модели Oculus\/VIVE встроена автоматическая интерполяция кадров (motion compensation) для поддержания минимального FPS 90.\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cp\u003E\u003Cstrong\u003EМеши vs облака точек\u003C\/strong\u003E\u003C\/p\u003E\u003Cp\u003EМеш (mesh – сетка – структурированная совокупность вершин, ребер и граней) – это признанное наиболее гибкое и компактное представление 3D-сцены (в том числе динамичной), повсеместно используемое в задачах компьютерной графики. Меши легко анимировать, фотореалистично рендерить (применять сложное освещение и визуализировать различные материалы) и именно они чаще всего используются в различных AR-приложениях: маски, фильтры, реконструкция среды и т.д. И все же несмотря на \u003Ca href=\u0022https:\/\/youtu.be\/g6bOwQdCJrc\u0022\u003E\u003Cu\u003Eугасающую популярность LiDAR-ов\u003C\/u\u003E\u003C\/a\u003E не мешем единым моделируется мир. Предыдущие работы, посвященные этому представлению, предлагают стратегии для \u003Ca href=\u0022https:\/\/arxiv.org\/abs\/2008.06872\u0022\u003E\u003Cu\u003Eфотореалистичного рендеринга\u003C\/u\u003E\u003C\/a\u003E и \u003Ca href=\u0022https:\/\/github.com\/ThibaultGROUEIX\/AtlasNet\u0022\u003E\u003Cu\u003Eмоделирования геометрии\u003C\/u\u003E\u003C\/a\u003E, что и стало основой для одной из самых ярких статей на конференции (\u003Ca href=\u0022https:\/\/qianlim.github.io\/SCALE\u0022\u003E\u003Cu\u003ESCALE\u003C\/u\u003E\u003C\/a\u003E).\u003C\/p\u003E\u003Cfigure class=\u0022\u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/4c1\/e10\/9a7\/4c1e109a7f26b437bd6024fb439219e4.gif\u0022 alt=\u0022SMPLpix: Neural Avatars from 3D Human Models\nИдея данной работы кристально проста (не очень нова) и представляет собой тривиальный image-to-image translation. Есть модель SMPL (читается как “simple”) – параметрическая модель человека, универсальный Sims академии 3D компьютерного зрения. Авторы предлагают (традиционно) рендерить не весь меш, а только его вершины (такое разреженное облако точек), в частности – их цвет (Input RGB) и глубину (Input depth). А фотореалистичное* изображение получать с помощью сверточной нейросети (Output).  \u0022 title=\u0022SMPLpix: Neural Avatars from 3D Human Models\nИдея данной работы кристально проста (не очень нова) и представляет собой тривиальный image-to-image translation. Есть модель SMPL (читается как “simple”) – параметрическая модель человека, универсальный Sims академии 3D компьютерного зрения. Авторы предлагают (традиционно) рендерить не весь меш, а только его вершины (такое разреженное облако точек), в частности – их цвет (Input RGB) и глубину (Input depth). А фотореалистичное* изображение получать с помощью сверточной нейросети (Output).  \u0022 width=\u0022512\u0022 height=\u0022286\u0022\u003E\u003Cfigcaption\u003ESMPLpix: Neural Avatars from 3D Human Models\nИдея данной работы кристально проста (не очень нова) и представляет собой тривиальный image-to-image translation. Есть модель SMPL (читается как “simple”) – параметрическая модель человека, универсальный Sims академии 3D компьютерного зрения. Авторы предлагают (традиционно) рендерить не весь меш, а только его вершины (такое разреженное облако точек), в частности – их цвет (Input RGB) и глубину (Input depth). А фотореалистичное* изображение получать с помощью сверточной нейросети (Output).  \u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cblockquote\u003E\u003Cp\u003E* На деле авторы пожертвовали фотореализмом во имя feed-forward подхода, который не требует обучения нейронных дескрипторов, как в \u003Ca href=\u0022https:\/\/saic-violet.github.io\/npbg\/\u0022\u003E\u003Cu\u003ENPBG\u003C\/u\u003E\u003C\/a\u003E. Любое облако точек с известными цветами может быть сразу отредендерно с помощью обученной модели \u003Ca href=\u0022https:\/\/arxiv.org\/abs\/2008.06872\u0022\u003E\u003Cu\u003ESMPLpix\u003C\/u\u003E\u003C\/a\u003E.\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cfigure class=\u0022\u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/58c\/503\/d6d\/58c503d6dbdbedbd09df1aae2cdbd7c9.png\u0022 alt=\u0022AtlasNet – генерация мешей в стиле папье-маше. Представляется, что сложная 3D-геометрия состоит из локальных прямоугольных элементов, деформация которых предсказана полносвязной сетью. \u0022 title=\u0022AtlasNet – генерация мешей в стиле папье-маше. Представляется, что сложная 3D-геометрия состоит из локальных прямоугольных элементов, деформация которых предсказана полносвязной сетью. \u0022 width=\u00221080\u0022 height=\u0022449\u0022\u003E\u003Cfigcaption\u003EAtlasNet – генерация мешей в стиле папье-маше. Представляется, что сложная 3D-геометрия состоит из локальных прямоугольных элементов, деформация которых предсказана полносвязной сетью. \u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cfigure class=\u0022\u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/d29\/376\/42c\/d2937642ce4fe854b6584e6cb725915e.gif\u0022 alt=\u0022SCALE – работа из MPI, в которой умело объединены идеи представления модели локальными элементами, их деформации (с умной декомпозицией на глобальную форму и локальные деформации одежды) и реалистичного рендеринга. В отличие от подходов на основе image-based рендеринга, SCALE учится по облакам точек. Слева направо: визуализация локальных элементов, традиционный рендеринг облака, нейронный (SMPLpix) рендеринг облака.\u0022 title=\u0022SCALE – работа из MPI, в которой умело объединены идеи представления модели локальными элементами, их деформации (с умной декомпозицией на глобальную форму и локальные деформации одежды) и реалистичного рендеринга. В отличие от подходов на основе image-based рендеринга, SCALE учится по облакам точек. Слева направо: визуализация локальных элементов, традиционный рендеринг облака, нейронный (SMPLpix) рендеринг облака.\u0022 width=\u00222156\u0022 height=\u0022580\u0022\u003E\u003Cfigcaption\u003ESCALE – работа из MPI, в которой умело объединены идеи представления модели локальными элементами, их деформации (с умной декомпозицией на глобальную форму и локальные деформации одежды) и реалистичного рендеринга. В отличие от подходов на основе image-based рендеринга, SCALE учится по облакам точек. Слева направо: визуализация локальных элементов, традиционный рендеринг облака, нейронный (SMPLpix) рендеринг облака.\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cfigure class=\u0022\u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/80d\/29f\/680\/80d29f68012ff4dba9fcfb2e8b4a5fd4.gif\u0022 alt=\u0022SCANimate – еще одна статья от MPI с потрясающими результатами анимации неявной геометрии. Здесь из набора сырых сканов произвольной топологии в разных позах восстанавливается цельная 3D-геометрия. Мы уже увидели, что нейросети могут параметризовать геометрию и текстуру сцены (и в этой работе все это есть). А как насчет скиннинга*? В SCANimate представлены неявные модели, которые учат его веса. Для самообучения (в обучающей выборке веса не фигурируют) использован следующий популярный трюк с циклической консистентностью: через веса скиннинга скан переводят в каноническую позу, а потом обратно в позу скана и убедиться в том, что эти два обратных преобразования дают непротиворечивый результат.  \nСверху примеры с чистой геометрией, внизу геметрия + цвет.\u0022 title=\u0022SCANimate – еще одна статья от MPI с потрясающими результатами анимации неявной геометрии. Здесь из набора сырых сканов произвольной топологии в разных позах восстанавливается цельная 3D-геометрия. Мы уже увидели, что нейросети могут параметризовать геометрию и текстуру сцены (и в этой работе все это есть). А как насчет скиннинга*? В SCANimate представлены неявные модели, которые учат его веса. Для самообучения (в обучающей выборке веса не фигурируют) использован следующий популярный трюк с циклической консистентностью: через веса скиннинга скан переводят в каноническую позу, а потом обратно в позу скана и убедиться в том, что эти два обратных преобразования дают непротиворечивый результат.  \nСверху примеры с чистой геометрией, внизу геметрия + цвет.\u0022 width=\u0022679\u0022 height=\u0022287\u0022\u003E\u003Cfigcaption\u003ESCANimate – еще одна статья от MPI с потрясающими результатами анимации неявной геометрии. Здесь из набора сырых сканов произвольной топологии в разных позах восстанавливается цельная 3D-геометрия. Мы уже увидели, что нейросети могут параметризовать геометрию и текстуру сцены (и в этой работе все это есть). А как насчет скиннинга*? В SCANimate представлены неявные модели, которые учат его веса. Для самообучения (в обучающей выборке веса не фигурируют) использован следующий популярный трюк с циклической консистентностью: через веса скиннинга скан переводят в каноническую позу, а потом обратно в позу скана и убедиться в том, что эти два обратных преобразования дают непротиворечивый результат.  \nСверху примеры с чистой геометрией, внизу геметрия + цвет.\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cfigure class=\u0022\u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/96d\/a26\/4c6\/96da264c64f23c0074ae40ec06385b71.gif\u0022 width=\u0022688\u0022 height=\u0022286\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cblockquote\u003E\u003Cp\u003E* 3D-меши анимированы, как правило, на основе скелета, который привязан к модели через линейные веса: для каждой кости (или сустава – joint) на модели определен набор вершин, на которые влияет ее движение. Влияние на каждую вершину задано с помощью нормированного веса (от 0 до 1): на одну вершину может влиять несколько элементов скелета, но их веса должны суммироваться в 1. \u003C\/p\u003E\u003C\/blockquote\u003E\u003Cp\u003E\u003Cstrong\u003EРесурсно-эффективные модели\u003C\/strong\u003E\u003C\/p\u003E\u003Cp\u003E\u003Cem\u003EСкорость (real-time) и память\u003C\/em\u003E\u003C\/p\u003E\u003Cp\u003EЭффективные структуры данных – octrees, умные воксели (3D-аналог пикселей) и другие представления приходят на помощь оптимизации нейронных подходов для обработки в реальном времени в том числе на мобильных устройствах.\u003C\/p\u003E\u003Cfigure class=\u0022\u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/5f1\/f77\/aeb\/5f1f77aeb039813c04b770f50f88b67a.png\u0022 alt=\u0022Neural Geometric Level of Detail, иллюстрация алгоритма представления сцены: ее признаковое представление хранится в разреженной структуре воксельного octree, где различные масштабы (показаны цветами) соответствуют уровням детализации. Это позволяет использовать легковесную сетку для извлечения геометрии, что в разы ускоряет рендеринг.\u0022 title=\u0022Neural Geometric Level of Detail, иллюстрация алгоритма представления сцены: ее признаковое представление хранится в разреженной структуре воксельного octree, где различные масштабы (показаны цветами) соответствуют уровням детализации. Это позволяет использовать легковесную сетку для извлечения геометрии, что в разы ускоряет рендеринг.\u0022 width=\u00221600\u0022 height=\u0022293\u0022\u003E\u003Cfigcaption\u003ENeural Geometric Level of Detail, иллюстрация алгоритма представления сцены: ее признаковое представление хранится в разреженной структуре воксельного octree, где различные масштабы (показаны цветами) соответствуют уровням детализации. Это позволяет использовать легковесную сетку для извлечения геометрии, что в разы ускоряет рендеринг.\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cfigure class=\u0022\u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/f7d\/e55\/8d5\/f7de558d52975d46315ee57e3a425863.gif\u0022 alt=\u0022DI-Fusion: Online Implicit 3D Reconstruction With Deep Priors, (BNRist, Университет Цинхуа)\nИ еще одно красивое демо с первым SLAM-ом с 3D-реконструкцией в реальном времени. Помимо эффективной реализации работа представляет улучшение качества трекинга и построения карты. Новизной DI-Fusion является в том числе новая структура данных для implicit моделей – вероятностные локальные implicit воксели (Probabilistic Local Implicit Voxel – PLIVox), которые содержат значения нейронной SDF и соответствующие значения уверенности, что позволяет эффективно решать проблемы реконструкции в реальном времени.\u0022 title=\u0022DI-Fusion: Online Implicit 3D Reconstruction With Deep Priors, (BNRist, Университет Цинхуа)\nИ еще одно красивое демо с первым SLAM-ом с 3D-реконструкцией в реальном времени. Помимо эффективной реализации работа представляет улучшение качества трекинга и построения карты. Новизной DI-Fusion является в том числе новая структура данных для implicit моделей – вероятностные локальные implicit воксели (Probabilistic Local Implicit Voxel – PLIVox), которые содержат значения нейронной SDF и соответствующие значения уверенности, что позволяет эффективно решать проблемы реконструкции в реальном времени.\u0022 width=\u0022600\u0022 height=\u0022338\u0022\u003E\u003Cfigcaption\u003EDI-Fusion: Online Implicit 3D Reconstruction With Deep Priors, (BNRist, Университет Цинхуа)\nИ еще одно красивое демо с первым SLAM-ом с 3D-реконструкцией в реальном времени. Помимо эффективной реализации работа представляет улучшение качества трекинга и построения карты. Новизной DI-Fusion является в том числе новая структура данных для implicit моделей – вероятностные локальные implicit воксели (Probabilistic Local Implicit Voxel – PLIVox), которые содержат значения нейронной SDF и соответствующие значения уверенности, что позволяет эффективно решать проблемы реконструкции в реальном времени.\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cp\u003EНаряду с большими вычислительными ресурсами нейронные подходы, как правило, требуют огромных объемов данных для обучения. Эта проблема породила целый ряд направлений, связанных с оптимизацией объема и качества (хорошая разметка – это чаще всего дорого и долго) данных, используемых при обучении. Одним из них является weakly supervised обучение или частичное самообучение. При подобном подходе в виде целевых данных выступает какое-то грубое приближение. В случае \u003Ca href=\u0022https:\/\/research.fb.com\/publications\/pixel-codec-avatars\/\u0022\u003E\u003Cu\u003EPiCA\u003C\/u\u003E\u003C\/a\u003E\u003Cstrong\u003E \u003C\/strong\u003Eв качестве образца берется грубый низкодетализированный меш (5 тысяч вершин), для которого осуществляется трекинг мимики, и за счет сравнения результирующего рендера с реальными фотографиями с разных ракурсов модель учится воспроизводить высокодетализированную 3D-модель.\u003C\/p\u003E\u003Cp\u003E\u003Cem\u003EДекомпозиция\u003C\/em\u003E\u003C\/p\u003E\u003Cp\u003EСовременные нейронные подходы редко ограничиваются единичными black-box моделями, которые принимают на вход какие-то данные извне и выдают конечный результат. На деле это нетривиальные с инженерной точки зрения многокомпонентные системы, где отдельные сети или алгоритмические модули представляют различные функциональные блоки. Это позволяет использовать более легкие модели и делать подходы более гибкими, интерпретируемыми и обобщаемыми.\u003C\/p\u003E\u003Cfigure class=\u0022\u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/651\/255\/ed3\/651255ed39bf094263cc084ca1248c83.png\u0022 alt=\u0022Архитектура SCALE. На входе – модель без одежды, на поверхности меша сэмплируются точки, которые группируются в локальные элементы. Первая модель – сверточная сетка (Unet) – обрабатывает карту позиций точек, спроецированную в UV-координаты, чтобы получить геометрические признаки z. Далее вторая сетка – полносвязная – предсказывает деформацию облака по признакам z, UV координатам и локальным (в пространстве элемента) смещениям. \u0022 title=\u0022Архитектура SCALE. На входе – модель без одежды, на поверхности меша сэмплируются точки, которые группируются в локальные элементы. Первая модель – сверточная сетка (Unet) – обрабатывает карту позиций точек, спроецированную в UV-координаты, чтобы получить геометрические признаки z. Далее вторая сетка – полносвязная – предсказывает деформацию облака по признакам z, UV координатам и локальным (в пространстве элемента) смещениям. \u0022 width=\u00221584\u0022 height=\u0022491\u0022\u003E\u003Cfigcaption\u003EАрхитектура SCALE. На входе – модель без одежды, на поверхности меша сэмплируются точки, которые группируются в локальные элементы. Первая модель – сверточная сетка (Unet) – обрабатывает карту позиций точек, спроецированную в UV-координаты, чтобы получить геометрические признаки z. Далее вторая сетка – полносвязная – предсказывает деформацию облака по признакам z, UV координатам и локальным (в пространстве элемента) смещениям. \u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cfigure class=\u0022\u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/676\/337\/469\/676337469cbf0c87a37788b4435b8825.png\u0022 alt=\u0022Архитектура PiCA. Две сверточные сетки кодируют карту позиций и локальные признаки z соответственно. Растеризации позиций (xyz), UV и признаков z подаются в SIREN для попиксельного декодирования в RGB. Обучающие данные включают в себя грубый меш, глубину и RGB изображение.\u0022 title=\u0022Архитектура PiCA. Две сверточные сетки кодируют карту позиций и локальные признаки z соответственно. Растеризации позиций (xyz), UV и признаков z подаются в SIREN для попиксельного декодирования в RGB. Обучающие данные включают в себя грубый меш, глубину и RGB изображение.\u0022 width=\u00222023\u0022 height=\u0022629\u0022\u003E\u003Cfigcaption\u003EАрхитектура PiCA. Две сверточные сетки кодируют карту позиций и локальные признаки z соответственно. Растеризации позиций (xyz), UV и признаков z подаются в SIREN для попиксельного декодирования в RGB. Обучающие данные включают в себя грубый меш, глубину и RGB изображение.\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cp\u003E\u003Cem\u003EВнимание к деталям\u003C\/em\u003E\u003C\/p\u003E\u003Cp\u003EВ нейросетевых подходах часто используется иерархическое поэтапное моделирование. То есть, как у инженеров и художников в реальной жизни. Последние сначала создают какой-то простой набросок без цвета с основными силуэтами и акцентами в композиции, и только потом приступают к чистовому рисунку. Монохромные сегменты заполняются широкими мазками, а мелкие детали аккуратно прорисовываются тонкими кисточками, потому что понятно, что нет смысла вырисовывать огромное однотонное полотно тоненькими мазками – это просто неэффективно (хотя, и могло бы стать идеей абсурдного перформанса).\u0026nbsp;\u0026nbsp;\u003C\/p\u003E\u003Cp\u003EПодобные идеи характерны для нейросетевых алгоритмов и использованы в работе \u003Ca href=\u0022https:\/\/grail.cs.washington.edu\/projects\/background-matting-v2\/#\/\u0022\u003E\u003Cu\u003EReal-Time High-Resolution Background Matting\u003C\/u\u003E\u003C\/a\u003E (герой наших предыдущих статей про \u003Ca href=\u0022https:\/\/habr.com\/ru\/company\/twin3d\/blog\/564758\/\u0022\u003E\u003Cu\u003Eфотограмметрию\u003C\/u\u003E\u003C\/a\u003E и \u003Ca href=\u0022https:\/\/habr.com\/ru\/company\/twin3d\/blog\/569174\/\u0022\u003E\u003Cu\u003ENeRF\u003C\/u\u003E\u003C\/a\u003E), где по двум картинкам – целевому изображению и отдельно фону предсказывается попиксельно точная (до волосков) маска объекта.\u003C\/p\u003E\u003Cfigure class=\u0022\u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/54e\/cb4\/757\/54ecb4757f161a95a4bcda1ee12956c1.png\u0022 alt=\u0022Архтектура Real-Time High-Resolution Background Matting\u0022 title=\u0022Архтектура Real-Time High-Resolution Background Matting\u0022 width=\u00221980\u0022 height=\u0022556\u0022\u003E\u003Cfigcaption\u003EАрхтектура Real-Time High-Resolution Background Matting\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cp\u003EТам задействовано две сети: голубая обрабатывает картинки, для эффективности сжатые в 2 раза, а зеленая оперирует на исходном разрешении для уточнения тонких деталей. Наряду с маской объекта голубая сеть выдает карту погрешностей предсказаний, и регионы с недочетами вырезаются из кадра и обрабатываются уточняющей сетью в оригинальном разрешении. Реализация на высоком разрешении в реальном времени позволяет использовать метод в широком классе приложений, включая zoom-конференции.\u003C\/p\u003E\u003Ch3\u003EВыводы\u003C\/h3\u003E\u003Cp\u003EИ, пускай, Блэк ругает неявные модели, \u003Ca href=\u0022https:\/\/arxiv.org\/abs\/2008.06872\u0022\u003E\u003Cu\u003ESMPLpix\u003C\/u\u003E\u003C\/a\u003E фликерит, у моделей \u003Ca href=\u0022https:\/\/qianlim.github.io\/SCALE\u0022\u003E\u003Cu\u003ESCALE\u003C\/u\u003E\u003C\/a\u003E пальцы топорщатся на ногах, \u003Ca href=\u0022https:\/\/alexyu.net\/pixelnerf\/\u0022\u003E\u003Cu\u003EpixelNeRF\u003C\/u\u003E\u003C\/a\u003E немного мылит, у \u003Ca href=\u0022https:\/\/research.fb.com\/publications\/pixel-codec-avatars\/\u0022\u003E\u003Cu\u003Eаватаров\u003C\/u\u003E\u003C\/a\u003E Facebook артефакты на ушах, а для обучения \u003Ca href=\u0022https:\/\/nerf-w.github.io\/\u0022\u003E\u003Cu\u003ENeRF in the Wild\u003C\/u\u003E\u003C\/a\u003E нужно арендовать небольшую рендер-ферму, очевидно, направление нейронного 3D развивается\u0026nbsp; с фантастической скоростью. Мы верим, что новые работы будут продолжать потрясать нас своими идеями, а реализации от раза к разу будут ближе к индустриальным приложениям.\u003C\/p\u003E\u003Cblockquote\u003E\u003Cp\u003EКлючевая составляющая успеха нейронных подходов - это данные. Мы в Twin3D обладаем уникальным сетапом из двух сканеров для тела и головы по 130 и 50 DSLR камер, которые позволяют получать реалистичные 3D-модели людей для различных приложений, включая кино, игры и retail. Сейчас мы продаем фотосеты и готовые фотореалистичные 3D-модели людей, а в скором будущем сделаем сервис по автоматической генерации готовых датасетов с разметкой для глубокого обучения.\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cp\u003EМы будем продолжать следить за топовыми конференциями и делиться с вами полезными инсайтами.\u003C\/p\u003E",
      "is_comments_hide": 0,
      "editor_version": 2,
      "hubs": [
        {
          "id": 22620,
          "alias": "twin3d",
          "title": "Блог компании twin3d",
          "is_membership": false,
          "is_profiled": false,
          "is_company": true,
          "icon": "",
          "path": "company\/twin3d\/"
        },
        {
          "id": 643,
          "alias": "3d_graphics",
          "title": "Работа с 3D-графикой",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/3d_graphics\/"
        },
        {
          "id": 8000,
          "alias": "algorithms",
          "title": "Алгоритмы",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/algorithms\/"
        },
        {
          "id": 17812,
          "alias": "maths",
          "title": "Математика",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/maths\/"
        },
        {
          "id": 19439,
          "alias": "machine_learning",
          "title": "Машинное обучение",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/machine_learning\/"
        }
      ],
      "flows": [
        {
          "id": 1,
          "name": "Разработка",
          "alias": "develop",
          "url": "https:\/\/habr.com\/ru\/flows\/develop\/",
          "path": "\/flows\/develop\/"
        },
        {
          "id": 2,
          "name": "Дизайн",
          "alias": "design",
          "url": "https:\/\/habr.com\/ru\/flows\/design\/",
          "path": "\/flows\/design\/"
        }
      ],
      "is_recovery_mode": false,
      "reading_count": 196,
      "metadata": {
        "meta_image": "https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/709\/c9c\/44c\/709c9c44cba3df65dfe17551a9c32ba9.png",
        "lead_image": "https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/709\/c9c\/44c\/709c9c44cba3df65dfe17551a9c32ba9.png",
        "lead_image_info": {
          "url": "https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/709\/c9c\/44c\/709c9c44cba3df65dfe17551a9c32ba9.png",
          "fit": "cover",
          "positionY": 0,
          "positionX": 0
        }
      },
      "path": "\/company\/twin3d\/blog\/572576\/",
      "full_url": "https:\/\/habr.com\/ru\/company\/twin3d\/blog\/572576\/",
      "author": {
        "id": 2761585,
        "login": "masha_twin",
        "time_registered": "2021-07-30T12:15:41+03:00",
        "score": 1,
        "fullname": "Мария Колос",
        "specializm": "3D Computer Vision R\u0026D Engineer",
        "sex": 2,
        "rating": 3,
        "vote": 0,
        "note": {
          "text": null
        },
        "contacts": [],
        "rating_position": 731,
        "path": "\/users\/masha_twin\/",
        "geo": {
          "country": "Россия",
          "region": "Москва и Московская обл.",
          "city": "Москва"
        },
        "counters": {
          "posts": 1,
          "comments": 0,
          "followed": 0,
          "followers": 0,
          "favorites": 0
        },
        "badges": [
          {
            "id": 1,
            "title": "Захабренный",
            "alias": "habred",
            "description": "Пользователь с кармой \u003E0",
            "url": null,
            "is_removable": false,
            "is_disabled": false
          }
        ],
        "avatar": "https:\/\/habrastorage.org\/getpro\/habr\/avatars\/55d\/e17\/a9f\/55de17a9f34a4d13eff6e0c5f3e3565c.jpg",
        "is_readonly": false,
        "is_rc": false,
        "is_subscribed": false,
        "common_tags": [],
        "is_can_vote": true
      },
      "has_polls": false,
      "url": "https:\/\/habr.com\/ru\/company\/twin3d\/blog\/572576\/",
      "post_type": 1,
      "post_type_str": "simple",
      "vote": null,
      "is_can_vote": true,
      "voting": {
        "score": 3,
        "voteCount": {
          "total": 3,
          "positive": 3,
          "negative": 0
        },
        "vote": null,
        "reasonMap": null
      },
      "is_habred": true,
      "is_interesting": false,
      "is_favorite": false,
      "comments_new": null
    },
    {
      "id": 572574,
      "is_corporative": 1,
      "is_tutorial": true,
      "time_published": "2021-08-12T14:09:54+03:00",
      "time_interesting": "2021-08-12T15:27:43+03:00",
      "comments_count": 1,
      "score": 5,
      "votes_count": 5,
      "favorites_count": 7,
      "lang": "ru",
      "tags_string": "kotlin, java, jpa, hibernate, eclipselink, intellij idea, spring data, spring data jpa, jdbc",
      "title": "Kotlin + Hibernate: всё сложно",
      "preview_html": "\u003Cp\u003EНевозможно представить JPA без сущностей. Однако, их определение в Котлине таит некоторое количество подводных камней. Давайте посмотрим, как избежать распространенных ошибок и использовать возможности Котлина на максимум. Внимание спойлер! Классы данных — не лучший вариант для сущностей.\u003C\/p\u003E\u003Cp\u003EВ этой статье основное внимание будет уделено Hibernate, поскольку он является несомненным лидером среди всех реализаций JPA.\u003C\/p\u003E",
      "text_cut": "Читать далее",
      "text_html": "\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/9d0\/53e\/81d\/9d053e81d6ef70bb7e87e997f0054121.png\u0022 width=\u00221360\u0022 height=\u0022600\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cp\u003EКотлин — отличный язык. По сравнению с Java он лаконичнее, выразительнее и безопаснее. Также, код написанный на Котлине полностью совместим с Java-кодом. Благодаря этой совместимости, проекты можно мигрировать на Котлин постепенно, не переписывая всё за раз. Такие миграции — одна из причин, по которой JPA может использоваться в Котлине. К тому же, JPA — это зрелая технология, знакомая разработчикам. Поэтому есть смысл ее использовать и в проектах, написанных на Котлине с нуля.\u0026nbsp;\u003C\/p\u003E\u003Cp\u003EНевозможно представить JPA без сущностей. Однако, их определение в Котлине таит некоторое количество подводных камней. Давайте посмотрим, как избежать распространенных ошибок и использовать возможности Котлина на максимум. Внимание спойлер! Классы данных — не лучший вариант для сущностей.\u003C\/p\u003E\u003Cp\u003EВ этой статье основное внимание будет уделено Hibernate, поскольку он является несомненным лидером среди всех реализаций JPA.\u003C\/p\u003E\u003Ch3\u003EПравила для JPA-сущностей:\u003C\/h3\u003E\u003Cp\u003EСущности — это не обычные DTO. Чтобы они не просто работали, а работали хорошо, надо придерживаться определенных требований. В \u003Ca href=\u0022https:\/\/download.oracle.com\/otn-pub\/jcp\/persistence-2_1-fr-eval-spec\/JavaPersistence.pdf\u0022\u003Eспецификации JPA\u003C\/a\u003E есть свои требования к сущностям, из них нам наиболее интересны эти два:\u003C\/p\u003E\u003Cblockquote\u003E\u003Cp\u003E\u003Cem\u003E1. Класс сущности должен иметь конструктор без параметров. Класс сущности также может иметь другие конструкторы. Конструктор без параметров должен быть public или protected.\u003C\/em\u003E\u003C\/p\u003E\u003Cp\u003E\u003Cem\u003E2. Класс сущности не должен быть final. Никакие методы и атрибуты сущности не могут быть final.\u003C\/em\u003E\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cp\u003EЭтих требований достаточно, чтобы сущности работали. Чтобы они работали хорошо, определим еще парочку:\u003C\/p\u003E\u003Cp\u003E3. Lazy ассоциации должны загружаться только по явному запросу. В противном случае мы можем столкнуться с проблемами с производительностью или с LazyInitializationException.\u003C\/p\u003E\u003Cp\u003E4. Реализации \u003Ccode\u003Eequals()\u003C\/code\u003E и \u003Ccode\u003EhashCode()\u003C\/code\u003E должны учитывать мутабельность сущностей.\u003C\/p\u003E\u003Ch3\u003EКонструктор без параметров\u003C\/h3\u003E\u003Cp\u003EПервичные (primary) конструкторы очень удобны, так как позволяют одновременно с конструктором определить поля класса. Однако, если их использовать в классе сущности, компилятор не сгенерирует конструктор по умолчанию без параметров. Без него Hibernate не сможет создавать экземпляры сущности и будет бросать следующее исключение: \u003Ccode\u003Eorg.hibernate.InstantiationException: No default constructor for entity.\u003C\/code\u003E\u003C\/p\u003E\u003Cp\u003EЧтобы решить эту проблему, можно вручную определить конструктор без параметров для всех сущностей в проекте. Но существует более удобное решение: плагин для компилятора \u003Ca href=\u0022https:\/\/kotlinlang.org\/docs\/no-arg-plugin.html#jpa-support\u0022\u003E\u003Cu\u003Ekotlin-jpa\u003C\/u\u003E\u003C\/a\u003E. Этот плагин гарантирует, что конструктор без параметров будет сгенерирован в байт-коде для всех JPA-классов: \u003Ccode\u003E@Entity\u003C\/code\u003E, \u003Ccode\u003E@MappedSuperclass\u003C\/code\u003E или \u003Ccode\u003E@Embeddable\u003C\/code\u003E.\u003C\/p\u003E\u003Cp\u003EЧтобы включить kotlin-jpa, его надо добавить в зависимости \u003Ccode\u003Ekotlin-maven-plugin\u003C\/code\u003E и указать его в \u003Ccode\u003EcompilerPlugins\u003C\/code\u003E:\u003C\/p\u003E\u003Cpre\u003E\u003Ccode class=\u0022xml\u0022\u003E\u0026lt;plugin\u0026gt;\n   \u0026lt;groupId\u0026gt;org.jetbrains.kotlin\u0026lt;\/groupId\u0026gt;\n   \u0026lt;artifactId\u0026gt;kotlin-maven-plugin\u0026lt;\/artifactId\u0026gt;\n   \u0026lt;configuration\u0026gt;\n       \u0026lt;compilerPlugins\u0026gt;\n           ...\n           \u0026lt;plugin\u0026gt;jpa\u0026lt;\/plugin\u0026gt;\n           ...\n       \u0026lt;\/compilerPlugins\u0026gt;\n   \u0026lt;\/configuration\u0026gt;\n   \u0026lt;dependencies\u0026gt;\n       ...\n       \u0026lt;dependency\u0026gt;\n           \u0026lt;groupId\u0026gt;org.jetbrains.kotlin\u0026lt;\/groupId\u0026gt;\n           \u0026lt;artifactId\u0026gt;kotlin-maven-noarg\u0026lt;\/artifactId\u0026gt;\n           \u0026lt;version\u0026gt;${kotlin.version}\u0026lt;\/version\u0026gt;\n       \u0026lt;\/dependency\u0026gt;\n       ...\n   \u0026lt;\/dependencies\u0026gt;\n\u0026lt;\/plugin\u0026gt;\u003C\/code\u003E\u003C\/pre\u003E\u003Cp\u003EВ Gradle:\u003C\/p\u003E\u003Cpre\u003E\u003Ccode\u003Ebuildscript {\n    dependencies {\n        classpath \u0022org.jetbrains.kotlin:kotlin-noarg:$kotlin_version\u0022\n    }\n}\n\napply plugin: \u0022kotlin-jpa\u0022\u003C\/code\u003E\u003C\/pre\u003E\u003Ch3\u003EOpen классы и свойства\u003C\/h3\u003E\u003Cp\u003EСогласно спецификации JPA, все классы и свойства, связанные с JPA, не должны быть final. Некоторые реализации JPA не требуют исполнения этого правила. Например, Hibernate не бросает исключение, когда встречает final класс сущности. Однако, от final класса нельзя наследоваться, из-за чего отключается механизм проксирования Hibernate. Нет прокси — нет lazy загрузки. Это означает, что ассоциации ToOne всегда будут не lazy, а eager, что может заметно сказаться на производительности. Это не проблема для EclipseLink с включенным static weaving, поскольку он не использует подклассы в механизме lazy загрузки.\u003C\/p\u003E\u003Cp\u003EВ отличие от Джавы, в Котлине классы, свойства и методы по умолчанию final. Поэтому их нужно явно помечать ключевым словом \u003Ccode\u003Eopen\u003C\/code\u003E:\u003C\/p\u003E\u003Cpre\u003E\u003Ccode class=\u0022kotlin\u0022\u003ETable(name = \u0022project\u0022)\n@Entity\nopen class Project {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = \u0022id\u0022, nullable = false)\n    open var id: Long? = null\n\n    @Column(name = \u0022name\u0022, nullable = false)\n    open var name: String? = null\n\n    ...\n}\u003C\/code\u003E\u003C\/pre\u003E\u003Cp\u003EТакже эту задачу можно решить автоматически с помощью плагина для компилятора \u003Ca href=\u0022https:\/\/kotlinlang.org\/docs\/all-open-plugin.html\u0022\u003E\u003Cu\u003Eall-open\u003C\/u\u003E\u003C\/a\u003E. Он помечает нужные классы и свойства ключевым словом \u003Ccode\u003Eopen\u003C\/code\u003E прямо в байт-коде. Главное его правильно настроить, чтобы он применялся к классам, помеченным не только \u003Ccode\u003E@Entity\u003C\/code\u003E, но и \u003Ccode\u003E@MappedSuperclass\u003C\/code\u003E и \u003Ccode\u003E@Embeddable\u003C\/code\u003E. Так выглядит конфигурация для Maven:\u003C\/p\u003E\u003Cpre\u003E\u003Ccode class=\u0022xml\u0022\u003E\u0026lt;plugin\u0026gt;\n   \u0026lt;groupId\u0026gt;org.jetbrains.kotlin\u0026lt;\/groupId\u0026gt;\n   \u0026lt;artifactId\u0026gt;kotlin-maven-plugin\u0026lt;\/artifactId\u0026gt;\n   \u0026lt;configuration\u0026gt;\n       \u0026lt;compilerPlugins\u0026gt;\n           ...\n           \u0026lt;plugin\u0026gt;all-open\u0026lt;\/plugin\u0026gt;\n       \u0026lt;\/compilerPlugins\u0026gt;\n       \u0026lt;pluginOptions\u0026gt;\n           \u0026lt;option\u0026gt;all-open:annotation=javax.persistence.Entity\u0026lt;\/option\u0026gt;\n           \u0026lt;option\u0026gt;all-open:annotation=javax.persistence.MappedSuperclass\u0026lt;\/option\u0026gt;\n           \u0026lt;option\u0026gt;all-open:annotation=javax.persistence.Embeddable\u0026lt;\/option\u0026gt;\n       \u0026lt;\/pluginOptions\u0026gt;\n   \u0026lt;\/configuration\u0026gt;\n   \u0026lt;dependencies\u0026gt;\n       \u0026lt;dependency\u0026gt;\n           \u0026lt;groupId\u0026gt;org.jetbrains.kotlin\u0026lt;\/groupId\u0026gt;\n           \u0026lt;artifactId\u0026gt;kotlin-maven-allopen\u0026lt;\/artifactId\u0026gt;\n           \u0026lt;version\u0026gt;${kotlin.version}\u0026lt;\/version\u0026gt;\n       \u0026lt;\/dependency\u0026gt;\n   \u0026lt;\/dependencies\u0026gt;\n\u0026lt;\/plugin\u0026gt;\u003C\/code\u003E\u003C\/pre\u003E\u003Cp\u003EИ для Gradle:\u003C\/p\u003E\u003Cpre\u003E\u003Ccode\u003Ebuildscript {\n    dependencies {\n        classpath \u0022org.jetbrains.kotlin:kotlin-allopen:$kotlin_version\u0022\n    }\n}\n\napply plugin: \u0022kotlin-allopen\u0022\n\nallOpen {\n    annotations(\u0022javax.persistence.Entity\u0022, \u0022javax.persistence.MappedSuperclass\u0022, \u0022javax.persistence.Embedabble\u0022)\n}\u003C\/code\u003E\u003C\/pre\u003E\u003Ch3\u003EИспользование классов данных для JPA-сущностей\u003C\/h3\u003E\u003Cp\u003EКлассы данных (data classes) — отличная конструкция Котлина, предназначенная специально для DTO. Классы данных являются final по задумке и для них автоматически генерируются реализации \u003Ccode\u003Eequals()\u003C\/code\u003E, \u003Ccode\u003EhashCode()\u003C\/code\u003E и \u003Ccode\u003EtoString()\u003C\/code\u003E. Однако эти реализации не подходят для JPA-сущностей. И вот почему.\u003C\/p\u003E\u003Cp\u003EВо-первых, классы данных по замыслу final, и сделать их open в коде нельзя. Единственный возможный вариант — это использовать плагин для компилятора all-open.\u003C\/p\u003E\u003Cp\u003EДля дальнейших примеров будем использовать следующую сущность \u003Ccode\u003EClient\u003C\/code\u003E. У нее есть генерируемый базой данных \u003Ccode\u003Eid\u003C\/code\u003E, поле \u003Ccode\u003Ename\u003C\/code\u003E и две lazy ассоциации \u003Ccode\u003EOneToMany\u003C\/code\u003E:\u003C\/p\u003E\u003Cpre\u003E\u003Ccode class=\u0022kotlin\u0022\u003E@Table(name = \u0022client\u0022)\n@Entity\ndata class Client(\n   @Id\n   @GeneratedValue(strategy = GenerationType.IDENTITY)\n   @Column(name = \u0022id\u0022, nullable = false)\n   var id: Long? = null,\n\n   @Column(name = \u0022name\u0022, nullable = false)\n   var name: String? = null,\n\n   @OneToMany(mappedBy = \u0022client\u0022, orphanRemoval = true)\n   var projects: MutableSet\u0026lt;Project\u0026gt; = mutableSetOf(),\n\n   @JoinColumn(name = \u0022client_id\u0022)\n   @OneToMany\n   var contacts: MutableSet\u0026lt;Contact\u0026gt; = mutableSetOf(),\n)\u003C\/code\u003E\u003C\/pre\u003E\u003Ch4\u003EНепреднамеренная загрузка lazy ассоциаций\u003C\/h4\u003E\u003Cp\u003EАссоциации ToMany по умолчанию lazy, и это не просто так: их загрузка без необходимости может серьезно сказаться на производительности. Реализации \u003Ccode\u003Eequals()\u003C\/code\u003E, \u003Ccode\u003EhashCode()\u003C\/code\u003E и \u003Ccode\u003EtoString()\u003C\/code\u003E в классах данных используют все поля из первичного конструктора, куда могут входить и lazy ассоциации. В таком случае, вызов этих методов может привести к нежелательным запросам к БД или исключению \u003Ccode\u003ELazyInitializationException\u003C\/code\u003E.\u003C\/p\u003E\u003Cp\u003EКак с этим быть? Метод \u003Ccode\u003EtoString()\u003C\/code\u003E можно переопределить и исключить из него все lazy поля. Главное — случайно их не выбрать во время автогенерации метода в IDE. В \u003Ca href=\u0022https:\/\/plugins.jetbrains.com\/plugin\/15075-jpa-buddy\u0022\u003EJPA Buddy\u003C\/a\u003E есть свой конструктор для \u003Ccode\u003EtoString()\u003C\/code\u003E, который просто не дает включить lazy поля в метод.\u003C\/p\u003E\u003Cpre\u003E\u003Ccode class=\u0022kotlin\u0022\u003E@Override\noverride fun toString(): String {\n   return this::class.simpleName + \u0022(id = $id , name = $name )\u0022\n}\u003C\/code\u003E\u003C\/pre\u003E\u003Cp\u003EС \u003Ccode\u003Eequals()\u003C\/code\u003E и \u003Ccode\u003EhashCode()\u003C\/code\u003E ситуация сложнее: недостаточно просто исключить из них lazy ассоциации, нужно что-то сделать и с мутабельными полями.\u003C\/p\u003E\u003Ch4\u003EПроблема с equals() и hashCode()\u003C\/h4\u003E\u003Cp\u003EСущности мутабельны по своей природе. Даже ID зачастую генерируется базой данных, то есть изменяется после первого сохранения сущности. Получается, не существует полей, на основе которых можно было бы консистентно вычислить hashCode.\u003C\/p\u003E\u003Cp\u003EДавайте запустим простой тест с сущностью Client:\u003C\/p\u003E\u003Cpre\u003E\u003Ccode class=\u0022kotlin\u0022\u003Eval awesomeClient = Client(name = \u0022Awesome client\u0022)\n\nval hashSet = hashSetOf(awesomeClient)\n\nclientRepository.save(awesomeClient)\n\nassertTrue(awesomeClient in hashSet)\u003C\/code\u003E\u003C\/pre\u003E\u003Cp\u003EAssert в последней строчке упадет с ошибкой, хотя сущность добавлена в Set всего несколькими строками выше. При первом сохранении сущности ID изменяется. Соответственно, меняется и hashCode. Именно поэтому HashSet и не может найти объект, который мы только что создали, так как он ищет его в другом бакете. Проблем бы не было, если бы ID был установлен во время создания объекта сущности (например, в качестве ID использовался бы UUID, генерируемый приложением), но чаще всего за генерацию идентификаторов отвечает именно база данных.\u003C\/p\u003E\u003Cp\u003EЧтобы решить эту проблему, всегда переопределяйте методы \u003Ccode\u003Eequals()\u003C\/code\u003E и \u003Ccode\u003EhashCode()\u003C\/code\u003E при использовании классов данных для сущностей. Как их реализовать, можно почитать в статьях \u003Ca href=\u0022https:\/\/vladmihalcea.com\/the-best-way-to-implement-equals-hashcode-and-tostring-with-jpa-and-hibernate\/\u0022\u003E\u003Cu\u003EVlad Mihalcea\u003C\/u\u003E\u003C\/a\u003E или \u003Ca href=\u0022https:\/\/thorben-janssen.com\/ultimate-guide-to-implementing-equals-and-hashcode-with-hibernate\/\u0022\u003E\u003Cu\u003EThorben Janssen.\u003C\/u\u003E\u003C\/a\u003E Например, для сущности \u003Ccode\u003EClient\u003C\/code\u003E они должны выглядеть следующим образом:\u003C\/p\u003E\u003Cpre\u003E\u003Ccode class=\u0022kotlin\u0022\u003Eoverride fun equals(other: Any?): Boolean {\n   if (this === other) return true\n   if (other == null || Hibernate.getClass(this) != Hibernate.getClass(other)) return false\n   other as Client\n\n   return id != null \u0026amp;\u0026amp; id == other.id\n}\n\noverride fun hashCode(): Int = 1756406093\u003C\/code\u003E\u003C\/pre\u003E\u003Ch4\u003EИспользование ID, установленного приложением\u003C\/h4\u003E\u003Cp\u003EМетоды класса данных генерируются на основе полей, указанных в первичном конструкторе. Если он включает только неизменяемые поля, то класс данных не имеет вышеупомянутых проблем. Пример такого поля — неизменяемый ID, установленный приложением:\u003C\/p\u003E\u003Cpre\u003E\u003Ccode class=\u0022kotlin\u0022\u003E@Table(name = \u0022contact\u0022)\n@Entity\ndata class Contact(\n   @Id\n   @Column(name = \u0022id\u0022, nullable = false)\n   val id: UUID,\n) {\n   @Column(name = \u0022email\u0022, nullable = false)\n   val email: String? = null\n\n   \/\/ other properties omitted\n}\u003C\/code\u003E\u003C\/pre\u003E\u003Cp\u003EЕсли же вы предпочитаете генерировать ID в базе данных, можно использовать неизменяемый \u003Ccode\u003E@NaturalId\u003C\/code\u003E:\u003C\/p\u003E\u003Cpre\u003E\u003Ccode class=\u0022kotlin\u0022\u003E@Table(name = \u0022contact\u0022)\n@Entity\ndata class Contact(\n   @NaturalId\n   @Column(name = \u0022email\u0022, nullable = false, updatable = false)\n   val email: String\n) {\n   @Id\n   @GeneratedValue(strategy = GenerationType.IDENTITY)\n   @Column(name = \u0022id\u0022, nullable = false)\n   var id: Long? = null\n  \n   \/\/ other properties omitted\n}\u003C\/code\u003E\u003C\/pre\u003E\u003Cp\u003EТак делать можно. Однако, такой подход сводит пользу от классов данных практически на нет, поскольку делает декомпозицию бесполезной и использует только одно поле в методе toString(). Обычный класс подойдет для сущностей лучше.\u003C\/p\u003E\u003Ch3\u003ENull безопасность\u003C\/h3\u003E\u003Cp\u003EОдно из преимуществ Котлина перед Джавой — встроенная null безопасность (null safety). Она также может быть обеспечена на стороне БД с помощью ограничений NOT NULL. Эти два подхода можно и нужно использовать вместе.\u003C\/p\u003E\u003Cp\u003EСамый простой способ — определить все обязательные атрибуты в первичном конструкторе, используя non-null типы Котлина и указав \u003Ccode\u003Enullable = false\u003C\/code\u003E:\u003C\/p\u003E\u003Cpre\u003E\u003Ccode class=\u0022kotlin\u0022\u003E@Table(name = \u0022contact\u0022)\n@Entity\nclass Contact(\n   @NaturalId\n   @Column(name = \u0022email\u0022, nullable = false, updatable = false)\n   val email: String,\n\n   @Column(name = \u0022name\u0022, nullable = false)\n   var name: String\n\n   @ManyToOne(fetch = FetchType.LAZY, optional = false)\n   @JoinColumn(name = \u0022client_id\u0022, nullable = false)\n   var client: Client\n) {\n   \/\/ id and other properties omitted\n}\u003C\/code\u003E\u003C\/pre\u003E\u003Cp\u003EОднако, если вам нужно исключить их из конструктора (например, в классе данных), можно либо указать значение по умолчанию, либо добавить к полю модификатор lateinit:\u003C\/p\u003E\u003Cpre\u003E\u003Ccode class=\u0022kotlin\u0022\u003E@Entity\ndata class Contact(\n   @NaturalId\n   @Column(name = \u0022email\u0022, nullable = false, updatable = false)\n   val email: String,\n) {\n   @Column(name = \u0022name\u0022, nullable = false)\n   var name: String = \u0022\u0022\n\n   @ManyToOne(fetch = FetchType.LAZY, optional = false)\n   @JoinColumn(name = \u0022client_id\u0022, nullable = false)\n   lateinit var client: Client\n\n   \/\/ id and other properties omitted\n}\u003C\/code\u003E\u003C\/pre\u003E\u003Cp\u003EТаким образом, если свойство точно не будет NULL в БД, мы также можем опустить все проверки на null в Kotlin-коде.\u003C\/p\u003E\u003Ch3\u003EЗаключение\u003C\/h3\u003E\u003Cp\u003EПодводя итог, определяя JPA-сущности в Котлине, необходимо придерживаться следующих правил:\u003C\/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003EУбедитесь, что все связанные с JPA классы и их атрибуты помечены \u003Ccode\u003Eopen\u003C\/code\u003E. Это поможет избежать серьезных проблем с производительностью и включит lazy загрузку для ассоциаций «\u003Cem\u003Eмногие\/один\u003C\/em\u003E к \u003Cem\u003Eодному».\u003C\/em\u003E Или используйте плагин для компилятора \u003Ca href=\u0022https:\/\/kotlinlang.org\/docs\/all-open-plugin.html\u0022\u003E\u003Cu\u003Eall-open\u003C\/u\u003E\u003C\/a\u003E и применяйте его ко всем классам, помеченным аннотациями \u003Ccode\u003E@Entity\u003C\/code\u003E, \u003Ccode\u003E@MappedSuperclass\u003C\/code\u003E и \u003Ccode\u003E@Embeddable\u003C\/code\u003E.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EОпределите конструкторы без параметров во всех классах, связанных с JPA, или используйте плагин для компилятора \u003Ca href=\u0022https:\/\/kotlinlang.org\/docs\/no-arg-plugin.html#jpa-support\u0022\u003E\u003Cu\u003Ekotlin-jpa\u003C\/u\u003E\u003C\/a\u003E. Иначе вы столкнетесь с InstantiationException.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EЧтобы использовать классы данных:\u003C\/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003EВключите плагин all-open, как описано выше, т.к. это единственный способ пометить классы данных ключевым словом \u003Ccode\u003Eopen\u003C\/code\u003E.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EПереопределите методы \u003Ccode\u003Eequals()\u003C\/code\u003E, \u003Ccode\u003EhashCode()\u003C\/code\u003E и \u003Ccode\u003EtoString()\u003C\/code\u003E в соответствии со статей \u003Ca href=\u0022https:\/\/vladmihalcea.com\/the-best-way-to-implement-equals-hashcode-and-tostring-with-jpa-and-hibernate\/\u0022\u003E\u003Cu\u003EVlad Mihalcea\u003C\/u\u003E\u003C\/a\u003E или \u003Ca href=\u0022https:\/\/thorben-janssen.com\/ultimate-guide-to-implementing-equals-and-hashcode-with-hibernate\/\u0022\u003E\u003Cu\u003EThorben Janssen.\u003C\/u\u003E\u003C\/a\u003E\u003C\/p\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003Cp\u003E\u003Ca href=\u0022https:\/\/plugins.jetbrains.com\/plugin\/15075-jpa-buddy\u0022\u003E\u003Cu\u003EJPA Buddy\u003C\/u\u003E\u003C\/a\u003E придерживается всех этих правил и всегда генерирует для вас рабочие сущности, а также\u0026nbsp; отлично справляется с генерацией методов \u003Ccode\u003Eequals()\u003C\/code\u003E, \u003Ccode\u003EhashCode()\u003C\/code\u003E и \u003Ccode\u003EtoString()\u003C\/code\u003E. Больше примеров с тестами можно найти в \u003Ca href=\u0022https:\/\/github.com\/jpa-buddy\/kotlin-entities\u0022\u003E\u003Cu\u003Eнашем GitHub репозитории.\u003C\/u\u003E\u003C\/a\u003E\u003C\/p\u003E",
      "is_comments_hide": 0,
      "editor_version": 2,
      "hubs": [
        {
          "id": 18694,
          "alias": "haulmont",
          "title": "Блог компании Haulmont",
          "is_membership": false,
          "is_profiled": false,
          "is_company": true,
          "icon": "",
          "path": "company\/haulmont\/"
        },
        {
          "id": 359,
          "alias": "programming",
          "title": "Программирование",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/programming\/"
        },
        {
          "id": 375,
          "alias": "java",
          "title": "Java",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/java\/"
        },
        {
          "id": 19441,
          "alias": "kotlin",
          "title": "Kotlin",
          "is_membership": true,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/kotlin\/"
        }
      ],
      "flows": [
        {
          "id": 1,
          "name": "Разработка",
          "alias": "develop",
          "url": "https:\/\/habr.com\/ru\/flows\/develop\/",
          "path": "\/flows\/develop\/"
        }
      ],
      "is_recovery_mode": false,
      "reading_count": 410,
      "metadata": {
        "meta_image": "https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/9d0\/53e\/81d\/9d053e81d6ef70bb7e87e997f0054121.png",
        "lead_image": "https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/9d0\/53e\/81d\/9d053e81d6ef70bb7e87e997f0054121.png",
        "lead_image_info": {
          "url": "https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/9d0\/53e\/81d\/9d053e81d6ef70bb7e87e997f0054121.png",
          "fit": "cover",
          "positionY": 0,
          "positionX": 0
        }
      },
      "path": "\/company\/haulmont\/blog\/572574\/",
      "full_url": "https:\/\/habr.com\/ru\/company\/haulmont\/blog\/572574\/",
      "author": {
        "id": 2598355,
        "login": "andreyoganesyan",
        "time_registered": "2021-02-08T16:01:15+03:00",
        "score": 14,
        "fullname": "Andrey Oganesyan",
        "specializm": "User",
        "sex": 1,
        "rating": 6,
        "vote": 0,
        "note": {
          "text": null
        },
        "contacts": [],
        "rating_position": 543,
        "path": "\/users\/andreyoganesyan\/",
        "geo": {
          "country": null,
          "region": null,
          "city": null
        },
        "counters": {
          "posts": 5,
          "comments": 7,
          "followed": 0,
          "followers": 0,
          "favorites": 0
        },
        "badges": [
          {
            "id": 1,
            "title": "Захабренный",
            "alias": "habred",
            "description": "Пользователь с кармой \u003E0",
            "url": null,
            "is_removable": false,
            "is_disabled": false
          }
        ],
        "avatar": "https:\/\/habrastorage.org\/getpro\/habr\/avatars\/8c6\/cd7\/0f3\/8c6cd70f3f351c17346a7ce4dc0e00ae.jpg",
        "is_readonly": false,
        "is_rc": false,
        "is_subscribed": false,
        "common_tags": [],
        "is_can_vote": true
      },
      "has_polls": false,
      "url": "https:\/\/habr.com\/ru\/company\/haulmont\/blog\/572574\/",
      "post_type": 1,
      "post_type_str": "simple",
      "vote": null,
      "is_can_vote": true,
      "voting": {
        "score": 5,
        "voteCount": {
          "total": 5,
          "positive": 5,
          "negative": 0
        },
        "vote": null,
        "reasonMap": null
      },
      "is_habred": true,
      "is_interesting": true,
      "is_favorite": false,
      "comments_new": 1
    },
    {
      "id": 572572,
      "is_corporative": 0,
      "is_tutorial": false,
      "time_published": "2021-08-12T14:05:30+03:00",
      "time_interesting": null,
      "comments_count": 1,
      "score": 2,
      "votes_count": 2,
      "favorites_count": 3,
      "lang": "ru",
      "tags_string": "самомотивация, саморазвитие, самосовершенствование",
      "title": "Мысли про книгу Джордана Питерсона «Beyond Order: 12 More Rules for Life",
      "preview_html": "\u003Cp\u003EВчера дослушала последнюю книгу Джордана Питерсона «Beyond Order: 12 More Rules for Life», и до сих пор перевариваю. Название можно перевести как: «Вне порядка: Ещё 12 правил жизни» (отсылка к предыдущей книге «12 правил жизни»). Видела ещё вариант с «За гранью порядка...», но не могу представить у порядка грань.\u003C\/p\u003E\u003Cp\u003EСлушала аудиоверсию, на английском. Перевода пока нет. Читает сам Джордан, и это отдельный кайф, хотя голос у него, конечно, своеобразный. Но мне очень нравится. На грани боли и удовольствия.\u003C\/p\u003E\u003Cp\u003EКак и вся эта книга, которая будто всё время балансирует на грани хаоса и порядка, боли и счастья, света и тьмы, страха и храбрости.\u003C\/p\u003E\u003Cp\u003EВ предисловии много боли. Там он описывает, через какой ужас пришлось пройти ему и его семье, параллельно с тем, как он писал эту книгу.\u003C\/p\u003E\u003Cp\u003EВ самой книге — много мудрости и попыток показать мир с разных точек зрения, чтобы картина получилась более полной и органичной. Показать мир в динамике, ибо статика есть только в смерти. А живая материя находится в постоянном движении и изменении: из хаоса в порядок, из любви в разочарование и обратно.\u003C\/p\u003E",
      "text_cut": "Читать далее",
      "text_html": "\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/d03\/abc\/80e\/d03abc80eb22dabfb38548512bcce04e.jpg\u0022 width=\u0022900\u0022 height=\u00221200\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cp\u003EВчера дослушала последнюю книгу Джордана Питерсона «Beyond Order: 12 More Rules for Life», и до сих пор перевариваю. Название можно перевести как: «Вне порядка: Ещё 12 правил жизни» (отсылка к предыдущей книге «12 правил жизни»). Видела ещё вариант с «За гранью порядка...», но не могу представить у порядка грань.\u003C\/p\u003E\u003Cp\u003EСлушала аудиоверсию, на английском. Перевода пока нет. Читает сам Джордан, и это отдельный кайф, хотя голос у него, конечно, своеобразный. Но мне очень нравится. На грани боли и удовольствия.\u003C\/p\u003E\u003Cp\u003EКак и вся эта книга, которая будто всё время балансирует на грани хаоса и порядка, боли и счастья, света и тьмы, страха и храбрости.\u003C\/p\u003E\u003Cp\u003EВ предисловии много боли. Там он описывает, через какой ужас пришлось пройти ему и его семье, параллельно с тем, как он писал эту книгу.\u003C\/p\u003E\u003Cp\u003EВ самой книге — много мудрости и попыток показать мир с разных точек зрения, чтобы картина получилась более полной и органичной. Показать мир в динамике, ибо статика есть только в смерти. А живая материя находится в постоянном движении и изменении: из хаоса в порядок, из любви в разочарование и обратно.\u003C\/p\u003E\u003Ch3\u003EЧто отзывается​\u003C\/h3\u003E\u003Cp\u003EМне глубоко отзывается многое, что там написано, стучит прям в самое сердечко, но я не слепой фанат, и есть моменты, с которыми я бы поспорила. Или которые просто мимо. Особенно анализ Гарри Поттера позабавил.\u003C\/p\u003E\u003Cp\u003EПонравилось, как он раз за разом сводит к тому, что не надо противопостаавлять противоположности (например, сложившиеся социальные институции и творческие порывы их снести и построить новое), а надо искать баланс между этими противоположностями.\u003C\/p\u003E\u003Cp\u003EСложившиеся правила задают структуру, порядок. Не всегда правильный и хороший, но его можно улучшать, достраивать. Эволюция, а не революция. Да, порой и до основания надо снести что-то. Но это что-то наверняка является частью чего-то большего, что не даст всему зданию упасть. Во всём есть структура и иерархия, даже в кажущемся хаосе, мы просто можем не видеть этого в тумане отрицания и неведения.\u003C\/p\u003E\u003Cp\u003EНо порой полезно быть Дураком (архетип). Потому что некоторые предопределенные знания блокируют познание нового или переосмысление существующего, задавая неверные рамки. И он призывает не бояться и не стесняться быть Дураком, ибо это может открыть неявные пути, новые решения старых проблем и интересные жизненные повороты (согласна на 100%).\u003C\/p\u003E\u003Ch3\u003EЗаметки\u003C\/h3\u003E\u003Cp\u003EДелала заметки, пока слушала, про особо цепляющие моменты, но не всё успела захватить, руки не всегда были доступны, чтобы ткнуть кнопочку «clip». Поэтому напишу про те, какие успела схватить.\u003C\/p\u003E\u003Cp\u003E«\u003Cstrong\u003ERULE III | Do not hide unwanted things in the fog\u003C\/strong\u003E» (Не скрывайте нежелательные вещи в тумане) — про то, как мы боимся неизвестного, и, вместо того, чтобы взглянуть на то, что там прячется в тумане (зачастую не такое страшное, как мы себе придумали), отворачиваемся. Машинка тревоги продолжает крутиться и сосет внимание и энергию, подпитывая нас животворящим кортизолом (это уже от меня), и отнимая ресурс у другого важного.\u003C\/p\u003E\u003Cp\u003EТуман это не всегда неизвестное. Это ещё и Тень. То есть, мы что-то про себя понимаем, но нам это не нравится, и мы вытесняем это в Тень. Работает так же, как в предыдущем абзаце: сосет ресурс, мешает нормально двигаться в нужном направлении.\u003C\/p\u003E\u003Cp\u003EЗацепила оттуда мысль:\u003C\/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cem\u003EДоверие — это не про наивность, а про смелость, отвагу (courage)\u003C\/em\u003E\u003C\/strong\u003E\u003Cem\u003E: I know you can betray me but i choose to trust you. Even if you betray me, I will continue to extend my hand but tell you about my feelings and leave a space for negotiation and cooperation. (Знаю, ты можешь предать меня, но выбираю доверять тебе. Даже если предашь, я продолжу протягивать тебе руку, но скажу о том, что чувствую и оставлю место для для переговоров и сотрудничества).\u003C\/em\u003E\u003C\/p\u003E\u003Cp\u003EОчень совпадает с моим отношением к вопросу. Да, со стороны может выглядеть наивно. Но мне плевать, это мой выбор и моя ответственность. Я знаю, что остановить зло можно только активным конструктивным противодействием, а не ответным злом или обидой. Об этом в книге много тоже, да.\u003C\/p\u003E\u003Cp\u003E\u003Cstrong\u003EThe Value of Heat and Pressure\u003C\/strong\u003E (ценность температуры и давления) из главы\u003C\/p\u003E\u003Cp\u003E«RULE VII | Work as hard as you possibly can on at least one thing and see what happens» (Работайте как можно усерднее хотя бы над чем-то одним и посмотрите, что произойдет)\u003C\/p\u003E\u003Cp\u003EО том, как уголь превращается в алмаз под воздействием давления и температуры. Просто красивая идея, она мне давно нравится. В главе мысль раскрывается подробно и с разных сторон: как принимать эту температуру и давление, и как не скатиться в жертву и избегание (путь на дно).\u003C\/p\u003E\u003Cp\u003EИ про то, что воспитание — это не про подавление, а про приучение к ответственности и рациональному выбору. Организует, а не разрушает. А если воспитание превращается в подавление, то это не воспитание, а насилие, абьюз. Не надо путать понятия.\u003C\/p\u003E\u003Cp\u003EПро то, что из-за чрезмерного огораживания детей они не взрослеют, а превращаются в сверхчувствительных инфантилов, которым потом всё равно придётся воевать с драконом, и никуда от этого не деться (excess sensibility is a developmental failure). От избегания и вытеснения в тень он только становится сильнее, оттягивая оттуда остатки сил.\u003C\/p\u003E\u003Cp\u003EТо есть вместо избегания зла и опасности необходимо научиться противостоять им. Разворачиваться лицом к страху и принимать бой. И мы на самом деле сильно крепче, чем сами про себя думаем. И каждая новая победа даёт больше уверенности в своих силах, и уверенность эта прорастает во все части личности и начинает светить из глаз или откуда она там светит.\u003C\/p\u003E\u003Cp\u003E\u003Cstrong\u003ECourage, love and truth\u003C\/strong\u003E (смелость, любовь и правда) — те три вещи, которые формируют адекватную структуру из хаоса всего происходящего. Но здесь я в подробности не хочу вдаваться, там много деталей.\u003C\/p\u003E\u003Cp\u003EЛучше ознакомиться в первоисточнике: главе «Deceit and Arrogance» (Обман и высокомерие) в правиле «RULE XI | Do not allow yourself to become resentful, deceitful, or arrogant» (Не позволяйте себе становиться обиженным, лживым или высокомерным).\u003C\/p\u003E\u003Cp\u003EНу и напоследок: «\u003Cstrong\u003ERULE XII | Be grateful in spite of your suffering\u003C\/strong\u003E» (Будьте благодарны, несмотря на свои страдания)\u003C\/p\u003E\u003Cp\u003EОпять же, звучит банально. Но здесь даже с точки зрения биохимии придраться не к чему. Есть даже такая психотерапевтическая практика, которая помогает вылезти из депрессии и перестроить мозги на конструктивный лад, что высвобождает кучу созидательной энергии: Практика благодарности. Работает, проверено.\u003C\/p\u003E\u003Ch3\u003EВыводы\u003C\/h3\u003E\u003Cp\u003EВ общем, мне понравилось. Хорошая книга по самопомощи. Про взращивание внутренних опор, ответственность себя за себя, любовь и бесстрашие.\u003C\/p\u003E\u003Cp\u003EПока готовится русский перевод, можно почитать другие книги Питерсона, они тоже во многом про это, и могут поддержать в трудный момент и подарить какие-то полезные инсайты.\u003C\/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cem\u003EПредупреждение:\u003C\/em\u003E\u003C\/strong\u003E\u003Cem\u003E тем, у кого бомбит от библейских отсылок, лучше воздержаться от чтения.\u003C\/em\u003E \u003C\/p\u003E\u003Cp\u003EПриходите обсуждать книгу и мысли в комментах к этой \u003Ca href=\u0022https:\/\/t.me\/humantechsupport\/77\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003Eзаписи на канале Человеческой техподдержки\u003C\/a\u003E, у нас там уютно.)\u003C\/p\u003E",
      "is_comments_hide": 0,
      "editor_version": 2,
      "hubs": [
        {
          "id": 20742,
          "alias": "read",
          "title": "Читальный зал",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/read\/"
        }
      ],
      "flows": [
        {
          "id": 3,
          "name": "Менеджмент",
          "alias": "management",
          "url": "https:\/\/habr.com\/ru\/flows\/management\/",
          "path": "\/flows\/management\/"
        }
      ],
      "is_recovery_mode": false,
      "reading_count": 498,
      "metadata": {
        "meta_image": "https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/d03\/abc\/80e\/d03abc80eb22dabfb38548512bcce04e.jpg",
        "lead_image": "https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/d03\/abc\/80e\/d03abc80eb22dabfb38548512bcce04e.jpg",
        "lead_image_info": {
          "url": "https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/d03\/abc\/80e\/d03abc80eb22dabfb38548512bcce04e.jpg",
          "fit": "cover",
          "positionY": 37.5,
          "positionX": 0
        }
      },
      "path": "\/post\/572572\/",
      "full_url": "https:\/\/habr.com\/ru\/post\/572572\/",
      "author": {
        "id": 2008621,
        "login": "maxa707",
        "time_registered": "2019-03-24T15:11:48+03:00",
        "score": 49,
        "fullname": null,
        "specializm": "Пользователь",
        "sex": 0,
        "rating": 9,
        "vote": 0,
        "note": {
          "text": null
        },
        "contacts": [],
        "rating_position": 417,
        "path": "\/users\/maxa707\/",
        "geo": {
          "country": "Россия",
          "region": "Санкт-Петербург и область",
          "city": "Санкт-Петербург"
        },
        "counters": {
          "posts": 6,
          "comments": 39,
          "followed": 0,
          "followers": 59,
          "favorites": 0
        },
        "badges": [
          {
            "id": 1,
            "title": "Захабренный",
            "alias": "habred",
            "description": "Пользователь с кармой \u003E0",
            "url": null,
            "is_removable": false,
            "is_disabled": false
          }
        ],
        "avatar": "https:\/\/habrastorage.org\/getpro\/habr\/avatars\/ba2\/318\/921\/ba2318921f2a576746eeaece9a8dfbe8.jpg",
        "is_readonly": false,
        "is_rc": false,
        "is_subscribed": false,
        "common_tags": [],
        "is_can_vote": true
      },
      "has_polls": false,
      "url": "https:\/\/habr.com\/ru\/post\/572572\/",
      "post_type": 1,
      "post_type_str": "simple",
      "vote": null,
      "is_can_vote": true,
      "voting": {
        "score": 2,
        "voteCount": {
          "total": 2,
          "positive": 2,
          "negative": 0
        },
        "vote": null,
        "reasonMap": null
      },
      "is_habred": true,
      "is_interesting": false,
      "is_favorite": false,
      "comments_new": 1
    },
    {
      "id": 572566,
      "is_corporative": 1,
      "is_tutorial": false,
      "time_published": "2021-08-12T14:01:34+03:00",
      "time_interesting": "2021-08-12T14:22:19+03:00",
      "comments_count": 1,
      "score": 18,
      "votes_count": 20,
      "favorites_count": 11,
      "lang": "ru",
      "tags_string": "Стоматология, зуб, удаление, периодонтит, кариес, пульпит",
      "title": "Про очень терпеливую девушку, которой хотели удалить 6 зубов",
      "preview_html": "Давайте разберём ещё один медицинский случай, в котором к нам пришла девушка 25 лет, её врач в региональной стоматологии хотел удалить 6 зубов после недолеченного пульпита. Поскольку у нас технический уровень всё же чуть выше, четыре из них удалось спасти. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/1z\/9u\/_q\/1z9u_qerob5oauhkfr1wmfbe9ii.png\u0022 alt=\u0022image\u0022\u003E\u003Cbr\u003E\r\n\u003Ci\u003EНа фотографии этой прекрасной девушки видны кисты, где кость уже распалась из-за давления гноя\u003C\/i\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nСлучай достаточно типовой, если брать каждый зуб отдельно, и это как раз та стадия, когда безграничное терпение — это не добродетель. Если ваш стоматолог вам говорил, что с верхушкой корня на снимке что-то не так и хорошо бы её в течение года открыть и полечить — то вот это как раз начало похожей ситуации. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nИтак, если пациент попадается особо упорный, а такое встречается чаще, чем хотелось бы, то он вполне может потерпеть боли в кариозном зубе. И нет, потом зуб не выздоровеет, просто через какое-то время анаэробы наконец догрызут твёрдые ткани зуба и примутся поедать пульпу. Дальше, если пациент окажется терпеливым, он может наконец дождаться, пока мягкие ткани зуба будут сожраны, и порадоваться от облегчения, так как мёртвым тканям уже не так больно. Инфекция продолжит свой путь, постепенно выходя за верхушку корня. И вот тут начинается самое интересное. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nПоговорим о том, как людям удаётся ходить с кучей гнойных очагов в голове и спокойно это терпеть. Коснёмся жизнерадостных подробностей про подтекающие свищи и о том, почему всё это обостряется вплоть до экстренной госпитализации. Ну и наконец расскажу про то, что такое резекция верхушки корня и почему не обязательно удалять половину зубов, которые можно спасти. Ну и вообще заодно разберёмся с периодонтитом.",
      "text_cut": "Читать дальше \u0026rarr;",
      "text_html": "Давайте разберём ещё один медицинский случай, в котором к нам пришла девушка 25 лет, её врач в региональной стоматологии хотел удалить 6 зубов после недолеченного пульпита. Поскольку у нас технический уровень всё же чуть выше, четыре из них удалось спасти. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/1z\/9u\/_q\/1z9u_qerob5oauhkfr1wmfbe9ii.png\u0022 alt=\u0022image\u0022\u003E\u003Cbr\u003E\r\n\u003Ci\u003EНа фотографии этой прекрасной девушки видны кисты, где кость уже распалась из-за давления гноя\u003C\/i\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nСлучай достаточно типовой, если брать каждый зуб отдельно, и это как раз та стадия, когда безграничное терпение — это не добродетель. Если ваш стоматолог вам говорил, что с верхушкой корня на снимке что-то не так и хорошо бы её в течение года открыть и полечить — то вот это как раз начало похожей ситуации. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nИтак, если пациент попадается особо упорный, а такое встречается чаще, чем хотелось бы, то он вполне может потерпеть боли в кариозном зубе. И нет, потом зуб не выздоровеет, просто через какое-то время анаэробы наконец догрызут твёрдые ткани зуба и примутся поедать пульпу. Дальше, если пациент окажется терпеливым, он может наконец дождаться, пока мягкие ткани зуба будут сожраны, и порадоваться от облегчения, так как мёртвым тканям уже не так больно. Инфекция продолжит свой путь, постепенно выходя за верхушку корня. И вот тут начинается самое интересное. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nПоговорим о том, как людям удаётся ходить с кучей гнойных очагов в голове и спокойно это терпеть. Коснёмся жизнерадостных подробностей про подтекающие свищи и о том, почему всё это обостряется вплоть до экстренной госпитализации. Ну и наконец расскажу про то, что такое резекция верхушки корня и почему не обязательно удалять половину зубов, которые можно спасти. Ну и вообще заодно разберёмся с периодонтитом. \u003Ca name=\u0022habracut\u0022\u003E\u003C\/a\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch2\u003EКак мы спасали зубы\u003C\/h2\u003E\u003Cbr\u003E\r\nПациентка занималась подготовкой к свадьбе и как раз решила провести санацию полости рта. И вот тут, мягко говоря, не самой радостной новостью ударило осознание того, что у неё, молодой девушки, надо удалить почти четверть всех зубов. При этом вроде бы её ничего особо не беспокоило, разве что иногда ныли отдельные зубы, когда она простывала. Пломбы на зубах вроде бы стоят, жуётся отлично.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nК сожалению, самая неприятная часть оказалась видна только на рентгеновских снимках: корни шестых зубов уже долгое время плавали в гнойном содержимом, а кость медленно деградировала под давлением растущей кисты.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/pa\/8p\/yp\/pa8pypilkc-sbqer0tgpphysut8.png\u0022 alt=\u0022image\u0022\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nНа снимке стрелка показывает на большой очаг разрежения в области верхнего правого седьмого зуба, где кости уже, по сути, нет. Это киста, заполненная грануляционной тканью (незрелый рубец), продуктами жизнедеятельности и мёртвыми бактериями. Она постепенно растёт, разрушая окружающие ткани. Объём гнойного содержимого уже настолько велик, что скоро может прорваться в полость гайморовой пазухи со всеми последствиями в виде одонтогенного гайморита и распространением инфекции. Как вы видите, шестой зуб пришлось убрать из-за значительного разрушения, но седьмой удалось спасти. Был весьма впечатляющий момент, когда после прохождения канала до его верхушки, из канала ручейком начало сливаться содержимое кисты. Девушка сделала круглые глаза и удивлённо сказала, что у неё будто исчезло ощущение постоянного давления, к которому она привыкла. В итоге после устранения очага инфекции кость тоже восстановилась в течение полугода. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/fp\/vf\/bk\/fpvfbkgtc3hvux4cpnohgrfegv4.png\u0022 alt=\u0022image\u0022\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nС резцом повезло меньше. Если честно, то мы уже планировали его на удаление: настолько велика была гнойная полость на верхушке корня. На левой фотографии видно, что даже кость разрушена, а содержимое кисты отграничивает только слизистая со стороны нёба. Зуб, по сути, держится только в районе своей шейки и на боковой поверхности, а остальное уже было съедено инфекцией. К сожалению, после лечения канала мы не добились полного заживления и киста осталась, хоть и немного уменьшилась. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/c6\/zf\/us\/c6zfus8ztqgzjqjki24cmtxbbau.png\u0022 alt=\u0022image\u0022\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nПоэтому мы решили попробовать спасти зуб более радикальными методами — просто взяли и удалили верхушку корня, попутно вычистив весь очаг вручную. Тут уже занимался не стоматолог-терапевт, а хирург. Чуть позже расскажу, как это выполняется.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/kr\/s6\/i1\/krs6i1ehinavbse3feo0f5liw0m.png\u0022 alt=\u0022image\u0022\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nВ результате удалось сохранить девушке её резец, а костные структуры полностью восстановились после операции.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nА сейчас давайте разберём, как вообще протекает этот процесс, почему внешне здоровый зуб может стать миной замедленного действия в голове и почему не всегда возможно идеально запломбировать каналы в зубе.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch2\u003EГде эта верхушка\u003C\/h2\u003E\u003Cbr\u003E\r\nВнизу на рисунке:\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/mn\/ib\/uw\/mnibuw3h7txilwg33famfxyabys.png\u0022 alt=\u0022image\u0022\u003E\u003Cbr\u003E\r\n\u003Ca href=\u0022https:\/\/ru.wikipedia.org\/wiki\/%D0%9A%D0%BE%D1%80%D0%BD%D0%B5%D0%B2%D0%BE%D0%B9_%D0%BA%D0%B0%D0%BD%D0%B0%D0%BB_%D0%B7%D1%83%D0%B1%D0%B0#\/media\/%D0%A4%D0%B0%D0%B9%D0%BB:Cross_sections_of_teeth_ru.svg\u0022\u003E\u003Ci\u003EСтроение зуба\u003C\/i\u003E\u003C\/a\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nЗуб снаружи состоит из сильно минерализованных компонентов, которые не способны к регенерации сами по себе, но очень прочны. Под ними пульпа, которая включает в себя большое количество нервных волокон, кровеносных сосудов и других клеток вроде тех же одонтобластов, которые обеспечивают химическую и термическую чувствительность зуба. А ещё те же одонтобласты способны недолгое время вести оборону перед наступающими силами противника в лице микрофлоры. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nРегенерация уже съеденной эмали и дентина невозможны. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nНо, если кариес течёт не очень быстро и есть время отреагировать, одонтобласты начинают строить баррикады и заколачивать окна изнутри. При этом формируется третичный заместительный дентин за счёт сужения объёма мягких тканей зуба. Чтобы вырастить такую стенку, да и в принципе для нормального функционирования, клеткам нужно сосудистое питание и иннервация.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nДля того чтобы подключить зуб к кровеносной и нервной системе, используются корневые каналы. От магистрального сосудисто-нервного пучка отходят небольшие ветки, проходят по корневым каналам и подключаются к пульпе. Отверстие на верхушке корня называют апикальным.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/xy\/7s\/w4\/xy7sw4bpx29xzdsif9fct45zj8g.png\u0022 alt=\u0022image\u0022\u003E\u003Cbr\u003E\r\n\u003Ci\u003E\u003Ca href=\u0022https:\/\/pdfs.semanticscholar.org\/788b\/d0f7e659cb16668f2a1f468553c4c51b48d7.pdf\u0022\u003EКорневые каналы\u003C\/a\u003E, которые красные, бывают совершенно кошмарной формы для прохождения инструментами. Если не стерилизовать каждое ответвление, мы не устраним воспаление на верхушке корня \u003C\/i\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/yq\/6s\/lt\/yq6sltb6bxsezrn9jseszivp-1i.png\u0022 alt=\u0022image\u0022\u003E\u003Cbr\u003E\r\n\u003Ci\u003E\u003Ca href=\u0022https:\/\/www.endoexperience.com\/documents\/High-resolutionComputedTomographicStudyofChangesinrootcanalisthmusarebyCSandrootfilling2011.pdf\u0022\u003EКТ-скан моляра нижней челюсти. \u003C\/a\u003EА — нетронутый зуб, красным отмечена форма канала в мезиальном корне. B — каналы расширены, сформированы округлые каналы. Зелёным отмечена обработанная зона. Красным — не затронутная при стандартной обработке щель между двумя каналами. С — зелёным цветом отмечены полости, серебристым — дебрис и опилки после обработки. D — коричневым цветом отмечен пломбировочный материал, голубым — пустоты и дебрис. E, F, G — поперечные срезы зуба до обработки, после обработки и после пломбирования соответственно\u003C\/i\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nКаналы при этом — неровные круглые трубочки. На иллюстрации виден довольно типичный случай тех сложностей, которые ожидают врача-стоматолога при прохождении, очистке и пломбировании корневых каналов. Изображение дальше получено с помощью особого микротомографа Skyscan 1172 с высоким разрешением. Такое разрешение недоступно для больших томографов, но в этот прибор человека не засунешь. Максимум отдельный зуб или другой объект. Штука для исследовательских задач. Как вы видите, часто каналы на самом деле имеют боковые ответвления, тончайшие щели и соединения одного канала с другим. То, что начиналось как два широких входа в каналы наверху, где-то на середине может принять гантелевидную форму или вовсе стать единой узкой щелью как на рисунке «Е».\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/53\/c8\/wi\/53c8wih05akc5ruv-ingxy1z-88.png\u0022 alt=\u0022image\u0022\u003E\u003Cbr\u003E\r\n\u003Ci\u003E\u003Ca href=\u0022http:\/\/www.aae.org\/specialty\/wp-content\/uploads\/sites\/2\/2017\/07\/rootcanalirrigantsdisinfectants.pdf\u0022\u003EВозможные варианты строения\u003C\/a\u003E корневых каналов, микро-КТ\u003C\/i\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nЭто нормально, пока всё функционирует, но становится головной болью стоматолога и пациента, когда туда забирается инфекция. Чуть позже вернёмся к проблеме извлечения микроорганизмов из таких труднодоступных уголков.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch2\u003EМикрофлора\u003C\/h2\u003E\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/ly\/kv\/1r\/lykv1rvazvqlm056mp3b6enr9hg.png\u0022 alt=\u0022image\u0022\u003E\u003Cbr\u003E\r\n\u003Ci\u003E\u003Ca href=\u0022http:\/\/www.aae.org\/specialty\/wp-content\/uploads\/sites\/2\/2017\/07\/rootcanalirrigantsdisinfectants.pdf\u0022\u003EДентинные канальцы,\u003C\/a\u003E колонизированные микроорганизмами. Электронная микроскопия\u003C\/i\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nЧто же происходит, когда инфекция выходит за пределы пульпарной камеры и начинает двигаться дальше? В первую очередь она устремляется в сторону богатой белковой пищи, которую представляют из себя мягкие ткани, заполняющие корневые каналы. Дентин тоже можно есть, но там много минеральных компонентов, и поэтому он не такой «вкусный».\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nВ итоге микроорганизмы активно распространяются по всем полостям и ответвлениям корневых каналов, проникая в толщу дентина, которая тоже пронизана тонкими дентинными трубочками. Микрофлора может быть различной. Довольно логично, что в первую очередь в каналах будут жить те, кто раньше обитал в полости рта, а потом проник в пульпарную камеру. Чаще всего это грибы из рода Candida и энтерококки. Гораздо менее приятно, если изначально в канале поселяется анаэробная микрофлора вроде фузобактерий, пигментообразующих бактероидов и в худшем случае клостридии. Если у пациента пульпит и последующий периодонтит вызван подобной анаэробной микрофлорой, то определить это можно очень быстро ещё во время приёма. Когда мы ещё были студентами и работали в общих кабинетах, где стояло несколько кресел, нам приходилось деликатно эвакуировать всех остальных пациентов для проветривания кабинета. Анаэробная микрофлора даже в объёме одного зуба генерирует совершенно незабываемые ароматы газовой гангрены с нотками тиолов. К счастью, всё это тоже лечится, пусть и довольно неприятно пахнет.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nВ результате своего пути микроорганизмы выходят за пределы апикального отверстия в ткани лунки зуба и продолжают свой путь там, создавая очаг периапикального воспаления — \u003Cb\u003Eпериодонтит.\u003C\/b\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch2\u003EПочему при периодонтите почти не больно\u003C\/h2\u003E\u003Cbr\u003E\r\nЯ уже говорил, что пациенты могут долгие годы ходить с миной замедленного действия в своём черепе, когда из обломков зубов буквально капает гной, но никакого значимого беспокойства человеку это не доставляет. Причина в хрупком вооружённом нейтралитете, который устанавливается между иммунной системой организма и патогенной микрофлорой.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nИнфицированный зуб становится чем-то вроде заражённой занозы или застрявшего осколка. Иммунокомпетентные клетки не в состоянии проникнуть в поражённый зуб, так как там уже нет живых сосудов, из которых они обычно десантируются. Поэтому свежий приток макрофагов и других защитников нам обеспечивает живая зона тканей, окружающих верхушку корня зуба. Из корневого канала постоянно «подтекают» продукты распада органики вперемешку с бактериями, а уже на выходе их встречает отряд макрофагов, который старается не пустить их дальше.\u003Cbr\u003E\r\nТакой процесс может длиться неограниченно долго, пока сохраняется равновесие между количеством, патогенностью бактерий и эффективностью иммунной защиты. Параллельно организм ещё и строит баррикады, отграничивая очаг, который он не может устранить, оборонительным валом из соединительной и эпителиальной ткани. Формируется барьер — киста. Болеть не будет до тех пор, пока существует отток экссудативной жидкости, которая возникает в результате воспаления.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nОбычно отток гнойного отделяемого идёт через кариозную полость. У пациента действительно понемногу постепенно течёт гной из поражённых зубов, но ему совершенно не больно, так как давление не нарастает из-за наличия оттока. Надо отметить, что периодонтит бывает разный. Ключевые формы — гранулирующий и гранулематозный.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nПервый — это классическая киста с оборонительным валом, которая постепенно растёт и вызывает резорбцию костной структуры вокруг себя. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/ys\/ee\/x-\/yseex-vwt427v4jmlwlzgzqzfuy.png\u0022 alt=\u0022image\u0022\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nНа снимке это выглядит как пустое округлое пространство. Вот, например, снимки той девушки, про которую я говорил в самом начале. Возле корней нижних и верхних зубов мы видим очаги разрежения, будто пустые. Это как раз кисты, заполненные жидкостью. Кость в этом участке из-за постоянного давления распалась.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nВторой вариант — гранулирующий периодонтит обычно встречается у молодых пациентов. При этом не формируется чёткой кисты, а инфекция начинает расползаться узкими каналами в разные стороны, пока не найдёт выход на поверхность. Обычно это происходит где-то возле десны больного зуба. На поверхности слизистой открывается свищ — отверстие, которое длинным ходом соединяет полость рта и гнойный очаг возле корней. Пока гной оттекает через свищ и кариозную полость, всё условно «в порядке».\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nПока есть отток — больно не будет, есть куда стравливать давление. Если это гранулематозный, то отток через коронку. Если это гранулирующий, то и через коронку, и через свищ где-то в десне. Закрывается отток — растёт давление и начинается феерия. Внезапно нарастает пульсирующая боль, возникает ощущение, будто зуб выдвинулся из лунки. Характерные симптомы — боль возникает при вертикальной нагрузке, когда мы накусываем на этот зуб. Плюс зуб начинает реагировать на горячие жидкости и пищу, в отличие от того же кариеса, который, наоборот, даёт реакцию на холод.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch2\u003EКак лечим\u003C\/h2\u003E\u003Cbr\u003E\r\nКачественно вылечить периодонтит сложно и не всегда возможно, если инфекция значительно повредила зуб и окружающие ткани. На иллюстрациях выше я уже показывал, как на самом деле могут выглядеть корневые каналы со всеми своими извивами, ответвлениями под 90 градусов и прочими неожиданностями. При этом бактерии живут во всех возможных полостях, включая сам дентин и его микроканальцы.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nПоэтому задача врача-стоматолога состоит в создании максимально возможной стерильности внутри полостей зуба, а уже в области верхушки корня организм сам справится — там много сосудов и макрофаги смогут подплыть поближе.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nТрадиционно схема выглядит примерно так:\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Col\u003E\r\n\u003Cli\u003EПроходим корневые каналы специальным инструментом и расширяем их до круглого сечения. При этом применяется ЭДТА для частичной деминерализации и облегчения прохождения.\u003C\/li\u003E\r\n\u003Cli\u003EПромываем каналы горячим раствором гипохлорита натрия. Это который «Белизна», только чистый, каталитического происхождения и другой концентрации. Стоматолог в каждый канал специальным ирригатором вводит тёплый раствор, который убивает любую органику, затекает в микрощели и ответвления. В определённых техниках это может сочетаться с ультразвуком как в УЗ-ваннах для отмывки плат и ювелирных изделий.\u003C\/li\u003E\r\n\u003Cli\u003EОстатки гипохлорита вымываем стерильным физраствором и хлоргексидином высокой концентрации. В идеале на этом этапе мы должны убрать весь детрит, опилки и остатки погибших в хлорке бактерий на всём протяжении канала.\u003C\/li\u003E\r\n\u003Cli\u003EЗакладываем лечебную пасту на базе гидроксида кальция. Это щёлочь, которая очень быстро убьёт всех оставшихся бактерий, пропитает дентин и частично выйдет за пределы верхушки корня. За счёт щелочной среды и избытка ионов кальция произойдёт стимуляция остеобластов, которые начнут выращивать кость на месте дефекта, созданного кистой. Лечебная паста обычно остаётся на 14 дней.\u003C\/li\u003E\r\n\u003Cli\u003EЧерез 14 дней ещё раз промываем всё гипохлоритом и хлоргексидином, после чего пломбируем канал, стараясь заполнить все боковые ответвления.\u003C\/li\u003E\r\n\u003C\/ol\u003E\u003Cbr\u003E\r\nИногда этап с закладкой лечебной пасты на 14 дней приходится повторять, но обычно хватает двух посещений. При наличии хорошего томографа и микроскопов можно с высокой долей уверенности запечатывать каналы и не беспокоиться о том, что мы оставили инфицированные участки. В случае сложной топографии каналов какие-то крошечные боковые ответвления могут остаться пустыми, но за счёт гипохлорита натрия и кальциевой щёлочи ничего живого там не останется.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nПодробнее про эндодонтию, сверхгибкий инструментарий из нитинола и прочие радости эндодонтии я расскажу как-нибудь в другой раз.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch2\u003EРезекция верхушки корня\u003C\/h2\u003E\u003Cbr\u003E\r\nЯ уже говорил, что нам пришлось выполнить небольшую операцию для спасения резца. Несмотря на то, что мы вылечили и запломбировали боковой резец, спустя шесть месяцев киста не исчезла. Так получилось из-за огромных размеров очага и невозможности его ликвидировать, просто вычистив корневой канал.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nДля того чтобы решить проблему, мы пошли на резекцию верхушки корня. При этом стоматолог-хирург получает доступ к корню с обратной стороны, через кость. Под анестезией осторожно откидывается слизисто-надкостничный лоскут, перфорируется кость, и хирург получает возможность непосредственно удалить проблемную верхушку корня и специальным инструментом вычистить всю полость. Затем доступ в корневой канал закрывается пробкой из специального материала (белое пятнышко у верхушки корня). Всё промывается антисептиком, после чего ушивается. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nОчаг инфекции был устранён, есть признаки восстановления костной ткани. Зуб, который изначально предполагался под удаление, удалось спасти, хотя шансы на это были не самые лучшие.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch2\u003EЧто будет, если не лечить\u003C\/h2\u003E\u003Cbr\u003E\r\nСобственно, ещё раз хотел акцентировать внимание на то, что периодонтит часто не болит. Только на снимках виден масштаб бедствия со значительным разрушением костных структур и распространения инфекции.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nК сожалению, в итоге действительно нередко приходится удалять вроде как нормальные на первый взгляд зубы, когда коронка над десной целая, а корень плавает в мутном гное с бактериями. Если пациент с такими хроническими очагами заболеет, переохладится, нарушится отток либо что-то ещё изменит хрупкое равновесие, то всё может закончиться печально. В течение считанных суток или даже часов инфекция из «невинного» периодонтита может резко распространиться, вызвав периостит или, что ещё более опасно, полноценную флегмону с гнойным расплавлением жировой клетчатки. Таких пациентов уже привозят в полубессознательном состоянии в челюстно-лицевую хирургию, где за их жизнь борются хирурги.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nИногда, при наличии гнойных очагов в верхней челюсти, могут возникать осложнения в виде проникновения инфекции в полость черепа и тромбоза кавернозного синуса.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nПоэтому выводы примерно такие:\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Col\u003E\r\n\u003Cli\u003EНе дотягивайте до перехода кариеса в пульпит и периодонтит. Лечите заранее.\u003C\/li\u003E\r\n\u003Cli\u003EНе надо расслабляться, если перестало болеть. Это не зуб выздоровел, это нервная ткань погибла.\u003C\/li\u003E\r\n\u003Cli\u003EСам по себе периодонтит не вылечится, он будет как заноза, пока зуб не приведут в стерильное состояние.\u003C\/li\u003E\r\n\u003Cli\u003EЧасто можно попытаться спасти даже безнадёжные зубы, но гарантий вам никто не даст, так как многое зависит от организма пациента. Резекция верхушки корня может помочь в сложных ситуациях, когда мы хотели бы сохранить зуб.\u003C\/li\u003E\r\n\u003Cli\u003EХодить с периодонтитом нельзя — это мина замедленного действия, которая может стать причиной смертельно опасных осложнений.\u003C\/li\u003E\r\n\u003C\/ol\u003E\u003Cbr\u003E\r\nА с девушкой всё хорошо. Вышла замуж почти сразу после окончания лечения и родила детей. Время от времени появляется на регулярных осмотрах.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nP.S. Если вы дойдёте до наших клиник, то говорите, что вы с Хабра, будет скидка 5 %.",
      "is_comments_hide": 0,
      "editor_version": 1,
      "hubs": [
        {
          "id": 22616,
          "alias": "belayaraduga",
          "title": "Блог компании Белая Радуга",
          "is_membership": false,
          "is_profiled": false,
          "is_company": true,
          "icon": "",
          "path": "company\/belayaraduga\/"
        },
        {
          "id": 21910,
          "alias": "popular_science",
          "title": "Научно-популярное",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/popular_science\/"
        },
        {
          "id": 21996,
          "alias": "health",
          "title": "Здоровье",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/health\/"
        }
      ],
      "flows": [
        {
          "id": 7,
          "name": "Научпоп",
          "alias": "popsci",
          "url": "https:\/\/habr.com\/ru\/flows\/popsci\/",
          "path": "\/flows\/popsci\/"
        }
      ],
      "is_recovery_mode": false,
      "reading_count": 2439,
      "metadata": {
        "meta_image": "https:\/\/habrastorage.org\/webt\/1z\/9u\/_q\/1z9u_qerob5oauhkfr1wmfbe9ii.png",
        "lead_image": null
      },
      "path": "\/company\/belayaraduga\/blog\/572566\/",
      "full_url": "https:\/\/habr.com\/ru\/company\/belayaraduga\/blog\/572566\/",
      "author": {
        "id": 2736061,
        "login": "anton-artemenko",
        "time_registered": "2021-06-24T10:45:59+03:00",
        "score": 9,
        "fullname": "Антон Артеменко",
        "specializm": "Главный врач",
        "sex": 1,
        "rating": 25.5,
        "vote": 0,
        "note": {
          "text": null
        },
        "contacts": [],
        "rating_position": 172,
        "path": "\/users\/anton-artemenko\/",
        "geo": {
          "country": null,
          "region": null,
          "city": null
        },
        "counters": {
          "posts": 3,
          "comments": 8,
          "followed": 0,
          "followers": 2,
          "favorites": 0
        },
        "badges": [
          {
            "id": 1,
            "title": "Захабренный",
            "alias": "habred",
            "description": "Пользователь с кармой \u003E0",
            "url": null,
            "is_removable": false,
            "is_disabled": false
          }
        ],
        "avatar": "https:\/\/habrastorage.org\/getpro\/habr\/avatars\/11c\/720\/d56\/11c720d562c21007d35e4c2a056bfc13.jpg",
        "is_readonly": false,
        "is_rc": false,
        "is_subscribed": false,
        "common_tags": [],
        "is_can_vote": true
      },
      "has_polls": false,
      "url": "https:\/\/habr.com\/ru\/company\/belayaraduga\/blog\/572566\/",
      "post_type": 1,
      "post_type_str": "simple",
      "vote": null,
      "is_can_vote": true,
      "voting": {
        "score": 18,
        "voteCount": {
          "total": 20,
          "positive": 19,
          "negative": 1
        },
        "vote": null,
        "reasonMap": null
      },
      "is_habred": true,
      "is_interesting": true,
      "is_favorite": false,
      "comments_new": 1
    },
    {
      "id": 572570,
      "is_corporative": 1,
      "is_tutorial": false,
      "time_published": "2021-08-12T14:01:05+03:00",
      "time_interesting": "2021-08-12T14:07:23+03:00",
      "comments_count": 6,
      "score": 11,
      "votes_count": 13,
      "favorites_count": 13,
      "lang": "ru",
      "tags_string": "g-mate, великобритания, лондон, израиль, тель-авив, нидерланды, амстердам, релокейт, релокация, переезд, IT-эмиграция",
      "title": "[Личный опыт] Один разработчик и три страны: сравниваем Израиль, Нидерланды и Англию",
      "preview_html": "Обычно рассказываем про переезд в какую-то одну страну и сравниваем ее с Россией. А теперь сравним между собой сразу три! У нашей героини разнообразный опыт. Она родилась в России, 11 лет прожила в Тель-Авиве, переехала в Амстердам и недавно перебралась в Лондон. Разберем Израиль, Нидерланды и Великобританию по пунктам: IT, условия для жизни, менталитет и традиции, язык.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/qd\/q-\/jz\/qdq-jzmrrxqwplpyv1g3uoxy08o.png\u0022\u003E\u003Cbr\u003E",
      "text_cut": "Читать дальше \u0026rarr;",
      "text_html": "Обычно рассказываем про переезд в какую-то одну страну и сравниваем ее с Россией. А теперь сравним между собой сразу три! У нашей героини разнообразный опыт. Она родилась в России, 11 лет прожила в Тель-Авиве, переехала в Амстердам и недавно перебралась в Лондон. Разберем Израиль, Нидерланды и Великобританию по пунктам: IT, условия для жизни, менталитет и традиции, язык.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/qd\/q-\/jz\/qdq-jzmrrxqwplpyv1g3uoxy08o.png\u0022\u003E\u003Cbr\u003E\r\n\u003Ca name=\u0022habracut\u0022\u003E\u003C\/a\u003E\u003Cbr\u003E\r\n\u003Ch2\u003EНемного обо мне\u003C\/h2\u003E\u003Cbr\u003E\r\n\u003Cp\u003EПривет, меня зовут Лула. В\u0026nbsp;Израиль я\u0026nbsp;уехала еще в\u0026nbsp;молодости, по\u0026nbsp;семейной визе. Там отучилась на\u0026nbsp;дизайнера, но\u0026nbsp;поняла, что быть им\u0026nbsp;не\u0026nbsp;хочу. Решила стать разработчиком, потому что в\u0026nbsp;Израиле очень хороший рынок IT. Выучилась сама и\u0026nbsp;с\u0026nbsp;2013 года работала в\u0026nbsp;Израиле в\u0026nbsp;IT.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EСо\u0026nbsp;временем поняла, что перспектив для жизни здесь нет: напрягает ежегодное обострение военного конфликта с\u0026nbsp;Палестиной и\u0026nbsp;совсем нет развлечений вроде выставок, музеев и\u0026nbsp;ресторанов. Поэтому прожить в\u0026nbsp;Израиле всю жизнь я\u0026nbsp;не\u0026nbsp;хочу. Мне удалось найти работу в\u0026nbsp;Нидерландах в\u0026nbsp;Booking.com\u0026nbsp;— эта компания как раз известна тем, что собирает программистов по\u0026nbsp;всему миру и\u0026nbsp;привозит их\u0026nbsp;в\u0026nbsp;свой офис в\u0026nbsp;Амстердам. \u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EМы\u0026nbsp;переехали вместе с\u0026nbsp;мужем-программистом. Полтора года проработала в\u0026nbsp;Амстердаме\u0026nbsp;— сначала \u003Ca href=\u0022https:\/\/habr.com\/ru\/company\/gms\/blog\/517758\/\u0022\u003Eв\u0026nbsp;Booking.com\u003C\/a\u003E, потом в\u0026nbsp;маленьком стартапе. Но\u0026nbsp;поняла, что Амстердам хоть и\u0026nbsp;красивый город, но\u0026nbsp;жить здесь надоедает. Особенно удручали бесконечные налоги. В\u0026nbsp;первые пять лет, конечно, есть\u0026nbsp;\u003Ca href=\u0022https:\/\/habr.com\/ru\/company\/gms\/blog\/518792\/\u0022\u003E30% налоговая скидка\u003C\/a\u003E, но\u0026nbsp;потом она исчезнет, и\u0026nbsp;денег ты\u0026nbsp;будешь получать значительно меньше. Плюс устала от\u0026nbsp;голландского: здесь без него не\u0026nbsp;очень удобно, а\u0026nbsp;учить не\u0026nbsp;хотелось. \u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EМы\u0026nbsp;решили перебраться в\u0026nbsp;страну, которая говорит на\u0026nbsp;английском, чтобы не\u0026nbsp;пришлось ничего учить. В\u0026nbsp;США уехать сложно, для Канады в\u0026nbsp;свои 32\u0026nbsp;я была старовата для express entry визы. Проще всего оказалось переехать в\u0026nbsp;Великобританию. Нашла там компанию, они сделали визу, и\u0026nbsp;в\u0026nbsp;2019 уехала в\u0026nbsp;\u003Ca href=\u0022https:\/\/habr.com\/ru\/company\/gms\/blog\/570652\/\u0022\u003EЛондон\u003C\/a\u003E, работать в\u0026nbsp;Condé Nast.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EС\u0026nbsp;британской рабочей визой, кстати, интересная история. Компания оплатила услуги конторы-помощника, которая оформила визу tier-2 general (с\u0026nbsp;конца 2020 эта виза называется \u003Ca href=\u0022https:\/\/www.gov.uk\/skilled-worker-visa\u0022\u003Eskilled worker\u003C\/a\u003E). С\u0026nbsp;такой визой можно менять работу, не\u0026nbsp;выезжая из\u0026nbsp;страны. И\u0026nbsp;в\u0026nbsp;2021\u0026nbsp;я так и\u0026nbsp;сделала, перейдя на\u0026nbsp;работу в\u0026nbsp;Monzo. Но\u0026nbsp;это все равно муторно\u0026nbsp;— нужно повторять как в\u0026nbsp;первый раз весь процесс подачи заявления. Только языковой экзамен пересдавать не\u0026nbsp;нужно.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EС\u0026nbsp;лирикой и\u0026nbsp;предысторией закончили\u0026nbsp;— теперь поговорим про жизнь в\u0026nbsp;трех разных странах.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/nw\/4j\/cc\/nw4jcc27qf3liecqe3mnl1ek56m.png\u0022\u003E\u003Cbr\u003E\r\n\u003Csub\u003EПервый Новый год в\u0026nbsp;Лондоне\u003C\/sub\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch2\u003EIT-инфраструктура и\u0026nbsp;работа в\u0026nbsp;IT-сфере\u003C\/h2\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cstrong\u003EИзраиль. \u003C\/strong\u003EIT-инфраструктура здесь довольно развитая, IT\u0026nbsp;— одна из\u0026nbsp;главных отраслей государства. Вот только иностранцев почти не\u0026nbsp;нанимают, такой практики просто нет. Всех кадров ищут среди местных, поэтому компаний много, но\u0026nbsp;из-за рубежа практически не\u0026nbsp;попасть.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EМодель работы здесь не\u0026nbsp;совсем европейская. По\u0026nbsp;моему ощущению, в\u0026nbsp;Израиле я\u0026nbsp;работала больше часов, а\u0026nbsp;выходных было меньше. И\u0026nbsp;все старались делать все быстрее, куда-то спешили.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EПлюс в\u0026nbsp;Израиле распространена схема top-down, то\u0026nbsp;есть ключевые инициативы и\u0026nbsp;решения исходят от\u0026nbsp;начальства, а\u0026nbsp;работники\u0026nbsp;— просто исполнители.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cstrong\u003EНидерланды. \u003C\/strong\u003EВ\u0026nbsp;плане инфраструктуры в\u0026nbsp;Амстердаме все неплохо\u0026nbsp;— много компаний и\u0026nbsp;интересных проектов, плюс даже небольшие стартапы охотно дают визы иностранцам. \u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EВ\u0026nbsp;плане работы после Израиля для меня здесь был настоящий курорт\u0026nbsp;— наконец поняла, что такое work\/life balance, смогла нормально отдыхать и\u0026nbsp;никуда не\u0026nbsp;спешить на\u0026nbsp;работе.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EНу\u0026nbsp;и\u0026nbsp;схема работы здесь больше bottom-up\u0026nbsp;— команды сами что-то предлагают, отстаивают свои инициативы перед руководством.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/_h\/0t\/w0\/_h0tw0jtyfsyuwhioau4lc8r0aq.png\u0022\u003E\u003Cbr\u003E\r\n\u003Csub\u003EСовременные офисные здания Амстердама\u003C\/sub\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cstrong\u003EВеликобритания.\u003C\/strong\u003E В\u0026nbsp;Лондоне IT-компаний даже больше, чем в\u0026nbsp;Амстердаме, так что тут поиск работы\u0026nbsp;— вообще не\u0026nbsp;проблема. Раньше, по\u0026nbsp;моим ощущениям, местные компании, особенно небольшие, хуже выдавали визы иностранцам. Но\u0026nbsp;сейчас ситуация улучшилась\u0026nbsp;— Великобритания вышла из\u0026nbsp;Евросоюза, так что визы нужны даже европейцам. И\u0026nbsp;выдача рабочей визы иностранцу перестала быть редким явлением.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EВ\u0026nbsp;плане work\/life balance и\u0026nbsp;рабочих процессов тут все как в\u0026nbsp;Нидерландах. Может быть, работа идет чуть быстрее, немного напряженнее, но\u0026nbsp;это все равно лучше, чем в\u0026nbsp;Израиле.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EА\u0026nbsp;вот разницы в\u0026nbsp;языках программирования, проектах или технологиях я\u0026nbsp;не\u0026nbsp;заметила. И\u0026nbsp;в\u0026nbsp;Израиле, и\u0026nbsp;в\u0026nbsp;Нидерландах, и\u0026nbsp;в\u0026nbsp;Лондоне все примерно одинаково. Те\u0026nbsp;же Agile development processes. Jira, Slack apps и\u0026nbsp;прочее.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/hn\/uv\/eq\/hnuveqtnpb5uqsj3hm9suedwx3g.png\u0022\u003E\u003Cbr\u003E\r\n\u003Csub\u003EЛондон, вид на\u0026nbsp;город с\u0026nbsp;интересные сочетанием St. Paul’s Cathedral (Собор Святого Павла) и\u0026nbsp;небоскребов района Лондон Сити\u003C\/sub\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch2\u003EЗарплаты и\u0026nbsp;стоимость жизни\u003C\/h2\u003E\u003Cbr\u003E\r\n\u003Cp\u003EСразу скажу, что по\u0026nbsp;моим ощущениям стоимость жизни во\u0026nbsp;всех трех странах примерно одинаковая. В\u0026nbsp;Лондоне, может быть, чуть дороже, но\u0026nbsp;не\u0026nbsp;слишком сильно. А\u0026nbsp;вот зарплаты и\u0026nbsp;налоги отличаются.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cstrong\u003EИзраиль. \u003C\/strong\u003EЕсли сравнивать со\u0026nbsp;всеми другими странами, в\u0026nbsp;Израиле я\u0026nbsp;зарабатывала больше всего. И\u0026nbsp;сейчас, если прикинуть, могла\u0026nbsp;бы получать на\u0026nbsp;четверть или даже треть больше, чем получают в\u0026nbsp;Лондоне. Уровень зарплат существенно выше, чем в\u0026nbsp;Европе.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EНалоги тоже немаленькие, но\u0026nbsp;даже после уплаты их\u0026nbsp;всех на\u0026nbsp;руки вышло\u0026nbsp;бы больше.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/l2\/jb\/8q\/l2jb8qimq2eplaxqily84cqtrfa.png\u0022\u003E\u003Cbr\u003E\r\n\u003Csub\u003EКонтрасты архитектуры во\u0026nbsp;внутренних районах Тель-Авива\u003C\/sub\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cstrong\u003EНидерланды. \u003C\/strong\u003EЗдесь ничего особенного не\u0026nbsp;скажу\u0026nbsp;— зарплата чуть ниже, чем в\u0026nbsp;Лондоне, и\u0026nbsp;с\u0026nbsp;налоговым бонусом было неплохо. Но\u0026nbsp;через пять лет он\u0026nbsp;бы закончился, и\u0026nbsp;доходы серьезно упали.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cstrong\u003EВеликобритания. \u003C\/strong\u003EВ\u0026nbsp;Лондоне медианная зарплата около £44,000\u0026nbsp;в год. Я\u0026nbsp;получаю между 60,000 и\u0026nbsp;80,000. Налоги меньше, чем в\u0026nbsp;Израиле и\u0026nbsp;Нидерландах.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EПоскольку мы\u0026nbsp;с\u0026nbsp;мужем оба работаем на\u0026nbsp;хороших работах, мы\u0026nbsp;во\u0026nbsp;всех странах могли позволить себе комфортную жизнь\u0026nbsp;— не\u0026nbsp;считать, сколько тратим на\u0026nbsp;продукты, путешествовать, откладывать. В\u0026nbsp;Лондоне все осталось так\u0026nbsp;же.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/ad\/d6\/qm\/add6qmbkl3p7tro7bmbfj1wkch8.png\u0022\u003E\u003Cbr\u003E\r\n\u003Csub\u003EЛондон, жилые дома в\u0026nbsp;районе Канэри-Уорф (Canary Wharf)\u003C\/sub\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch2\u003EМедицина\u003C\/h2\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cstrong\u003EИзраиль. \u003C\/strong\u003EВ\u0026nbsp;Израиле медицина была «бесплатная», платила за\u0026nbsp;нее из\u0026nbsp;налогов. Примерно 10\u0026nbsp;евро в\u0026nbsp;месяц отдавала за\u0026nbsp;добавочные услуги вроде субсидированного зубного врача. Для бесплатной медицины она тут отличная\u0026nbsp;— быстрая и\u0026nbsp;качественная. Пожалуй, лучшая из\u0026nbsp;трех стран\u0026nbsp;— я\u0026nbsp;могла, например, раз в\u0026nbsp;год почистить зубной камень по\u0026nbsp;цене большой чашки кофе. Или получить скидку в\u0026nbsp;50% на\u0026nbsp;брекеты.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cstrong\u003EНидерланды.\u003C\/strong\u003E В\u0026nbsp;Нидерландах тоже платила за\u0026nbsp;медицину из\u0026nbsp;налогов, плюс около 100 евро в\u0026nbsp;месяц на\u0026nbsp;услуги. Тут я\u0026nbsp;провела мало времени и\u0026nbsp;почти не\u0026nbsp;болела, так что сложно что-то сказать.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cstrong\u003EВеликобритания. \u003C\/strong\u003EВ\u0026nbsp;Англии тоже есть государственная страховка, которая удерживается из\u0026nbsp;налогов. Мой работодатель платит 50\u0026nbsp;фунтов в\u0026nbsp;месяц за\u0026nbsp;частную страховку, плюс я\u0026nbsp;доплачиваю 30\u0026nbsp;фунтов в\u0026nbsp;месяц за\u0026nbsp;абонемент к\u0026nbsp;частному врачу-терапевту.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EВ\u0026nbsp;Англии медицина очень медленная, особенно во\u0026nbsp;время пандемии. Приема по\u0026nbsp;государственной страховке можно ждать полгода, так что лучше иметь частную. Особенно ужасная ситуация с\u0026nbsp;государственными стоматологами\u0026nbsp;— там бесконечные очереди, а\u0026nbsp;пациенты потом часто жалуются.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EЯ\u0026nbsp;считаю тем, у\u0026nbsp;кого есть какие-то хронические заболевания, при переезде в\u0026nbsp;Лондон стоит заложить в\u0026nbsp;бюджет большие расходы на\u0026nbsp;медицину.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/kf\/3x\/kk\/kf3xkkr3acgmraeuxikwnmvwtpg.png\u0022\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch2\u003EМенталитет и\u0026nbsp;традиции\u003C\/h2\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cstrong\u003EИзраиль. \u003C\/strong\u003EЗдесь довольно тяжело\u0026nbsp;— общество гомогенное, иностранцев мало. От\u0026nbsp;вас ждут, что вы\u0026nbsp;быстро станете таким\u0026nbsp;же, как местные. При этом есть культурные нюансы. Например, местные очень напористые. Очередь в\u0026nbsp;Израиле\u0026nbsp;— это толпа, где каждый лезет вперед, все жалуются, несколько человек скандалят. Покричать вообще любят\u0026nbsp;— сотрудники могут друг на\u0026nbsp;друга орать, и\u0026nbsp;это ничего не\u0026nbsp;значит\u0026nbsp;— никто не\u0026nbsp;поругается, все потом спокойно пойдут вместе на\u0026nbsp;обед.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/t1\/8q\/mr\/t18qmro7ejdss34vjxldq7nkje4.png\u0022\u003E\u003Cbr\u003E\r\n\u003Csub\u003EВид на\u0026nbsp;Тель-Авив\u003C\/sub\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cstrong\u003EНидерланды и\u0026nbsp;Великобритания. \u003C\/strong\u003EЗдесь иностранцев больше, и\u0026nbsp;люди не\u0026nbsp;ждут от\u0026nbsp;тебя поведения «как у\u0026nbsp;всех». В\u0026nbsp;этом плане в\u0026nbsp;Европе гораздо комфортнее. В\u0026nbsp;Израиле я\u0026nbsp;за\u0026nbsp;11\u0026nbsp;лет полностью не\u0026nbsp;стала «своей», а\u0026nbsp;здесь я\u0026nbsp;тоже пока не\u0026nbsp;«своя», но\u0026nbsp;это никому не\u0026nbsp;мешает.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EВ\u0026nbsp;Англии есть интересный момент\u0026nbsp;— здесь все предельно вежливые. Тебе не\u0026nbsp;скажут просто «нет»\u0026nbsp;— обязательно обернут это в\u0026nbsp;«Would you mind» или «madame would you be\u0026nbsp;so\u0026nbsp;kind». Иногда бывает трудно развернуть все эти конструкции и\u0026nbsp;докопаться до\u0026nbsp;истинного смысла, особенно на\u0026nbsp;лету во\u0026nbsp;время разговора.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EЗа\u0026nbsp;рубежом вообще непросто из-за того, что у\u0026nbsp;тебя нет ни\u0026nbsp;с\u0026nbsp;кем общих воспоминаний из\u0026nbsp;детства. Вроде диафильма «Лоскутик и\u0026nbsp;облачко», шоколадки Аленка, селедки под шубой или оливье. У\u0026nbsp;них у\u0026nbsp;всех свои воспоминания о\u0026nbsp;книгах, мультиках, еде.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EПоэтому мне комфортнее работать в\u0026nbsp;международных компаниях. Там все из\u0026nbsp;разных стран, и\u0026nbsp;все друг друга не\u0026nbsp;понимают :)\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch2\u003EЯзык\u003C\/h2\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cstrong\u003EИзраиль. \u003C\/strong\u003EВ\u0026nbsp;Израиле для нормальной жизни почти обязательно нужно знать иврит. На\u0026nbsp;английском местные говорят плохо, и\u0026nbsp;полноценно влиться в\u0026nbsp;общество не\u0026nbsp;получится.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cstrong\u003EНидерланды. \u003C\/strong\u003EЗдесь на\u0026nbsp;английском говорят заметно лучше, и\u0026nbsp;в\u0026nbsp;целом с\u0026nbsp;ним можно нормально жить. Но\u0026nbsp;чтобы взаимодействовать с\u0026nbsp;государством, нужен голландский. А\u0026nbsp;это большая часть жизни: постоянно нужно получать документы, смотреть какую-то информацию на\u0026nbsp;сайтах, что-то оформлять.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EВ\u0026nbsp;жизни тоже не\u0026nbsp;всегда удобно\u0026nbsp;— сайты и\u0026nbsp;сервисы часто на\u0026nbsp;голландском, приходится пользоваться автопереводчиком. А\u0026nbsp;он\u0026nbsp;не\u0026nbsp;всегда адекватен.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/i5\/lj\/cr\/i5ljcr3kzmj5jjr5ciyir-eeuo4.png\u0022\u003E\u003Cbr\u003E\r\n\u003Csub\u003EЦентральная часть Амстердама летом\u003C\/sub\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cstrong\u003EВеликобритания. \u003C\/strong\u003EОдна из\u0026nbsp;причин, по\u0026nbsp;которой я\u0026nbsp;поехала в\u0026nbsp;Лондон, был именно английский язык. Я\u0026nbsp;кайфовала, что все вокруг меня понимают, а\u0026nbsp;я\u0026nbsp;всегда понимаю\u0026nbsp;их. Было состояние языковой эйфории. Потом привыкла, но\u0026nbsp;так жить все равно намного удобнее.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch2\u003EПроцесс получения гражданства\u003C\/h2\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cstrong\u003EИзраиль. \u003C\/strong\u003EИметь больше одного гражданства можно, так что получая гражданство Израиля, другое вы\u0026nbsp;не\u0026nbsp;теряете. В\u0026nbsp;целом, процесс довольно простой, но\u0026nbsp;для большинства он\u0026nbsp;неактуален\u0026nbsp;— на\u0026nbsp;работу сюда почти никого не\u0026nbsp;берут. Так что расскажу про другие страны.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cstrong\u003EНидерланды. \u003C\/strong\u003EБольше одного гражданства иметь нельзя. То\u0026nbsp;есть получить гражданство Нидерландов\u0026nbsp;— значит отказаться от\u0026nbsp;любых других. Это нужно учитывать, если планируете оставаться в\u0026nbsp;стране переезда надолго. Для получения, разумеется, нужно учить голландский.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cstrong\u003EВеликобритания. \u003C\/strong\u003EМожно иметь больше одного гражданства, процесс натурализации не\u0026nbsp;слишком сложный. Если приехали по\u0026nbsp;рабочей визе skilled worker, нужно прожить в\u0026nbsp;стране 5\u0026nbsp;лет\u0026nbsp;— дадут ПМЖ, leave to\u0026nbsp;remain. Оно позволяет жить в\u0026nbsp;стране без привязки к\u0026nbsp;работодателю. После года с\u0026nbsp;ПМЖ можно подавать на\u0026nbsp;гражданство. В\u0026nbsp;итоге весь процесс занимает \u003Cnobr\u003E6,5–7 лет.\u003C\/nobr\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EДля меня британское гражданство не\u0026nbsp;самоцель, но\u0026nbsp;если понравится жить в\u0026nbsp;Лондоне, попробую его получить.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/m_\/te\/td\/m_tetdvzsjzlqsx7yzk5ia_adfk.png\u0022\u003E\u003Cbr\u003E\r\n\u003Csub\u003EЛондон, вид с\u0026nbsp;последнего этажа здания The Walkie Talkie\u003C\/sub\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch2\u003EПрочие мелочи\u003C\/h2\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cstrong\u003EКлимат.\u003C\/strong\u003E Я\u0026nbsp;родилась в\u0026nbsp;Сибири: холодная зима, маловато солнца, не\u0026nbsp;очень высокая влажность. В\u0026nbsp;Израиле было совсем не\u0026nbsp;так. Зимой тут хорошо, а\u0026nbsp;вот летом пять месяцев постоянно +30\u0026nbsp;°С\u0026nbsp;и\u0026nbsp;выше. Утром и\u0026nbsp;к\u0026nbsp;вечеру чуть лучше, а\u0026nbsp;вот днем уходить от\u0026nbsp;кондиционера не\u0026nbsp;хочется. Зато очень солнечно.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EВ\u0026nbsp;Амстердаме и\u0026nbsp;Лондоне гораздо комфортнее\u0026nbsp;— всегда прохладно, но\u0026nbsp;не\u0026nbsp;холодно и\u0026nbsp;не\u0026nbsp;жарко. Когда я\u0026nbsp;только уезжала из\u0026nbsp;Израиля, меня пугали, что солнца в\u0026nbsp;Европе нет вообще и\u0026nbsp;к\u0026nbsp;середине зимы я\u0026nbsp;умру от\u0026nbsp;его недостатка. По\u0026nbsp;факту все оказалось не\u0026nbsp;так плохо\u0026nbsp;— да, не\u0026nbsp;так солнечно, но\u0026nbsp;нет бесконечной серой зимы.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/2d\/yg\/p0\/2dygp0uv1cphzlrcmfm4vilufxm.png\u0022\u003E\u003Cbr\u003E\r\n\u003Csub\u003EЗима в\u0026nbsp;Амстердаме\u003C\/sub\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cstrong\u003EСервисы. \u003C\/strong\u003EВ\u0026nbsp;Израиле очень грустно с\u0026nbsp;разными мобильными сервисами. Я\u0026nbsp;на\u0026nbsp;свой банковский счет заходила с\u0026nbsp;веб-страниц, потому что мобильное приложение почти не\u0026nbsp;работало. Траты по\u0026nbsp;кредитке мне бывало приходили через месяц. \u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EВ\u0026nbsp;Европе по\u0026nbsp;сравнению с\u0026nbsp;этим было сильное улучшение. Особенно в\u0026nbsp;Лондоне развита финансовая отрасль\u0026nbsp;— с\u0026nbsp;приложений можно управлять пенсией, накоплениями, инвестициями. Говорят, в\u0026nbsp;России еще лучше, но\u0026nbsp;когда я\u0026nbsp;уезжала это еще не\u0026nbsp;было так распространено. Меня после Израиля устраивает и\u0026nbsp;европейский уровень.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EС\u0026nbsp;сервисами доставки в\u0026nbsp;Израиле тоже не\u0026nbsp;очень\u0026nbsp;— местные посылки идут неделю, из\u0026nbsp;Европы\u0026nbsp;— от\u0026nbsp;трех недель до\u0026nbsp;бесконечности. В\u0026nbsp;Европе с\u0026nbsp;этим гораздо лучше\u0026nbsp;— я\u0026nbsp;редко жду что-то дольше недели.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cstrong\u003EСвязь и\u0026nbsp;интернет. \u003C\/strong\u003EВ\u0026nbsp;Израиле интернет был неплохой, ничего особенного про него сказать не\u0026nbsp;могу. В\u0026nbsp;Амстердаме тоже. А\u0026nbsp;вот в\u0026nbsp;Лондоне зависит от\u0026nbsp;района. У\u0026nbsp;меня пока все плохо\u0026nbsp;— по\u0026nbsp;кабелю всего 10\u0026nbsp;Мбит\/с. Я\u0026nbsp;шарю с\u0026nbsp;телефона\u0026nbsp;— там выдает\u0026nbsp;60, иногда 100. Планирую переехать в\u0026nbsp;район Canary Wharf, там будет оптоволокно и\u0026nbsp;нормальная скорость.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cstrong\u003EСпорт. \u003C\/strong\u003EВ\u0026nbsp;Израиле все в\u0026nbsp;основном связано с\u0026nbsp;морем\u0026nbsp;— серфинг, кайтинг, пробежки по\u0026nbsp;побережью, сидение на\u0026nbsp;пляже.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/de\/tw\/c-\/detwc-drec-7ocftvzh0poljono.png\u0022\u003E\u003Cbr\u003E\r\n\u003Csub\u003EПляж Тель-Авива\u003C\/sub\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cp\u003EВ\u0026nbsp;Нидерландах все на\u0026nbsp;велосипедах. «Прогуляться на\u0026nbsp;природе» = «Покататься на\u0026nbsp;велосипеде за\u0026nbsp;городом».\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EВ\u0026nbsp;Англии такой досуг\u0026nbsp;— в\u0026nbsp;основном пешие прогулки по\u0026nbsp;сельской местности. Много живописных маршрутов по\u0026nbsp;всяким деревням: красивые виды, поля, овцы.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/3v\/sg\/mv\/3vsgmvpqiwq2567_wer_hcwayhs.png\u0022\u003E\u003Cbr\u003E\r\n\u003Csub\u003EWeekend hike out of\u0026nbsp;London\/Прогулка за\u0026nbsp;городом\u003C\/sub\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch2\u003EБонус: выходные в\u0026nbsp;каждой из\u0026nbsp;стран\u003C\/h2\u003E\u003Cbr\u003E\r\n\u003Cp\u003EРасскажу, как проходил мой типичный выходной в\u0026nbsp;пригороде Тель-Авива, Амстердаме и\u0026nbsp;Лондоне.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cstrong\u003EИзраиль, пятница (тут это как суббота):\u003C\/strong\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Col\u003E\r\n\u003Cli\u003EЗавтракаю дома.\u003Cbr\u003E\r\n \u003C\/li\u003E\r\n\u003Cli\u003EДо\u0026nbsp;10\u0026nbsp;утра иду за\u0026nbsp;покупками\u0026nbsp;— пока улицы не\u0026nbsp;прогрелись до\u0026nbsp;дневного максимума. Половина магазинов после полудня закроются до\u0026nbsp;вечера субботы или даже до\u0026nbsp;воскресенья\u0026nbsp;— Шаббат. Особенно важно купить овощей и\u0026nbsp;фруктов.\u003Cbr\u003E\r\n \u003C\/li\u003E\r\n\u003Cli\u003EПринимаю душ, потому что даже утром на\u0026nbsp;улице успеваешь вспотеть.\u003Cbr\u003E\r\n \u003C\/li\u003E\r\n\u003Cli\u003EНа\u0026nbsp;улице днем +32\u0026nbsp;°С, даже прогноз нет смысла смотреть. Так что сижу дома: читаю книги, учу что-то по\u0026nbsp;программированию. Слышно, как за\u0026nbsp;окнами жужжат и\u0026nbsp;гудят кондиционеры. Некоторые старые и\u0026nbsp;издают странные звуки вроде тарахтения и\u0026nbsp;хрюканья.\u003Cbr\u003E\r\n \u003C\/li\u003E\r\n\u003Cli\u003EВ\u0026nbsp;8\u0026nbsp;вечера жара спадает. У\u0026nbsp;нас на\u0026nbsp;это время заказан столик в\u0026nbsp;ресторане\u0026nbsp;— в\u0026nbsp;Тель-Авиве много приятных изысканных мест, и\u0026nbsp;мы\u0026nbsp;ходим куда-нибудь ужинать раз в\u0026nbsp;неделю.\u003Cbr\u003E\r\n \u003C\/li\u003E\r\n\u003C\/ol\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cstrong\u003EАмстердам, суббота:\u003C\/strong\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/oy\/sd\/ef\/oysdefsiegavtc-tcqi3wlfeh1s.png\u0022\u003E\u003Cbr\u003E\r\n\u003Csub\u003EАмстердам, Rijksmuseum (Рейксмузей). Самый большой и\u0026nbsp;важный музей в\u0026nbsp;городе\u003C\/sub\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Col\u003E\r\n\u003Cli\u003EМы\u0026nbsp;решили, что пойдем на\u0026nbsp;выставку портретов High Society в\u0026nbsp;Rijksmuseum.\u003Cbr\u003E\r\n \u003C\/li\u003E\r\n\u003Cli\u003EОбычно по\u0026nbsp;выходным мы\u0026nbsp;ездим на\u0026nbsp;велосипедах, но\u0026nbsp;именно до\u0026nbsp;Rijksmuseum удобнее добираться на\u0026nbsp;трамвае. Так что едем так.\u003Cbr\u003E\r\n \u003C\/li\u003E\r\n\u003Cli\u003EПосле музея идем пить кофе с\u0026nbsp;Dutch Apple Pie в\u0026nbsp;кафе Back to\u0026nbsp;black. Оно очень известно в\u0026nbsp;городе, я\u0026nbsp;о\u0026nbsp;нем узнала от\u0026nbsp;коллеги на\u0026nbsp;работе.\u003Cbr\u003E\r\n \u003C\/li\u003E\r\n\u003Cli\u003EВозвращаемся домой и\u0026nbsp;больше ничего интересного за\u0026nbsp;день не\u0026nbsp;происходит. Уборка квартиры и\u0026nbsp;попытки учить голландский, читая статью в\u0026nbsp;местной газете. Там рассказывается о\u0026nbsp;паре аистов, которая ежегодно гнездится в\u0026nbsp;парке около нашего дома.\u003Cbr\u003E\r\n \u003C\/li\u003E\r\n\u003C\/ol\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cstrong\u003EЛондон, суббота:\u003C\/strong\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/oq\/jj\/n-\/oqjjn-k3ybpjbavbvwrunolnmcq.png\u0022\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Col\u003E\r\n\u003Cli\u003EВ\u0026nbsp;пятницу я\u0026nbsp;проверила прогноз погоды и\u0026nbsp;убедилась, что дождя не\u0026nbsp;будет.\u003Cbr\u003E\r\n \u003C\/li\u003E\r\n\u003Cli\u003EЧерез AllTrails app выбрала нам с\u0026nbsp;мужем прогулку, купила билеты через Trainline app и\u0026nbsp;жду возможности на\u0026nbsp;несколько часов выбраться из\u0026nbsp;«бетонных джунглей».\u003Cbr\u003E\r\n \u003C\/li\u003E\r\n\u003Cli\u003EЯ\u0026nbsp;выбрала маршрут point to\u0026nbsp;point от\u0026nbsp;Shoreham до\u0026nbsp;Otford\u0026nbsp;— двух деревушек в\u0026nbsp;Кенте. Еду на\u0026nbsp;поезде 50\u0026nbsp;минут, маршрут займет 1,5\u0026nbsp;часа.\u003Cbr\u003E\r\n \u003C\/li\u003E\r\n\u003Cli\u003EВ\u0026nbsp;основном это прогулка по\u0026nbsp;полям и\u0026nbsp;лугам, можно увидеть овец и\u0026nbsp;коров.Коров стараюсь обходить стороной\u0026nbsp;— как городской житель немного их\u0026nbsp;побаиваюсь. Из\u0026nbsp;диких животных пару раз видела олененка, фазанов, один раз видела змею.\u003Cbr\u003E\r\n \u003C\/li\u003E\r\n\u003Cli\u003EПосле прогулки в\u0026nbsp;отличном настроении возвращаемся в\u0026nbsp;Лондон.\u003Cbr\u003E\r\n \u003C\/li\u003E\r\n\u003Cli\u003E Ужин решаем не\u0026nbsp;готовить и\u0026nbsp;заказываем через приложение из\u0026nbsp;моего любимого индийского ресторана «Silka\u0026nbsp;— Urban Indian». Обычно использую UberEats или Deliveroo, они оба в\u0026nbsp;Лондоне отлично работают и\u0026nbsp;соревнуются за\u0026nbsp;рынок. Есть еще Takeaway.com.\u003Cbr\u003E\r\n \u003C\/li\u003E\r\n\u003C\/ol\u003E\u003Cbr\u003E\r\n\u003Cb\u003EP.S.\u003C\/b\u003E У Лулы есть \u003Ca href=\u0022https:\/\/twitter.com\/LulaLeus\u0022\u003EТвиттер\u003C\/a\u003E и \u003Ca href=\u0022https:\/\/www.instagram.com\/lulaleus\/\u0022\u003EИнстаграм\u003C\/a\u003E с красивыми фото!\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch2\u003EЕще статьи про эти страны\u003C\/h2\u003E\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003E\u003Ca href=\u0022https:\/\/habr.com\/ru\/company\/gms\/blog\/565638\/\u0022\u003EЖизнь IT-специалиста в Израиле. Война, дорогие квартиры, Маса и неожиданный профит от переезда\u003C\/a\u003E\u003C\/li\u003E\r\n\u003Cli\u003E\u003Ca href=\u0022https:\/\/habr.com\/ru\/company\/gms\/blog\/517758\/\u0022\u003EПрофессиональная эмиграция: чем отличается Амстердам от Риги и Booking.com от молодого стартапа\u003C\/a\u003E\u003C\/li\u003E\r\n\u003Cli\u003E\u003Ca href=\u0022https:\/\/habr.com\/ru\/company\/gms\/blog\/570652\/\u0022\u003EЛондон: не всегда мечта для программиста. Как живется в столице Британии во время коронавируса\u003C\/a\u003E\u003C\/li\u003E\r\n\u003Cli\u003E\u003Ca href=\u0022https:\/\/habr.com\/ru\/company\/gms\/blog\/519626\/\u0022\u003EКак специалисту по Data Science с тремя годами опыта устроиться в Google и переехать в Лондон\u003C\/a\u003E\u003C\/li\u003E\r\n\u003C\/ul\u003E",
      "is_comments_hide": 0,
      "editor_version": 1,
      "hubs": [
        {
          "id": 22506,
          "alias": "gms",
          "title": "Блог компании gms \u0026 g-mate",
          "is_membership": false,
          "is_profiled": false,
          "is_company": true,
          "icon": "",
          "path": "company\/gms\/"
        },
        {
          "id": 20734,
          "alias": "it_immigration",
          "title": "IT-эмиграция",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/it_immigration\/"
        },
        {
          "id": 20740,
          "alias": "career",
          "title": "Карьера в IT-индустрии",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/career\/"
        },
        {
          "id": 20742,
          "alias": "read",
          "title": "Читальный зал",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/read\/"
        },
        {
          "id": 22024,
          "alias": "urban",
          "title": "Урбанизм",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/urban\/"
        }
      ],
      "flows": [
        {
          "id": 3,
          "name": "Менеджмент",
          "alias": "management",
          "url": "https:\/\/habr.com\/ru\/flows\/management\/",
          "path": "\/flows\/management\/"
        },
        {
          "id": 7,
          "name": "Научпоп",
          "alias": "popsci",
          "url": "https:\/\/habr.com\/ru\/flows\/popsci\/",
          "path": "\/flows\/popsci\/"
        }
      ],
      "is_recovery_mode": false,
      "reading_count": 1065,
      "metadata": {
        "meta_image": "https:\/\/habrastorage.org\/webt\/qd\/q-\/jz\/qdq-jzmrrxqwplpyv1g3uoxy08o.png",
        "lead_image": null
      },
      "path": "\/company\/gms\/blog\/572570\/",
      "full_url": "https:\/\/habr.com\/ru\/company\/gms\/blog\/572570\/",
      "author": {
        "id": 537914,
        "login": "AlexIsaev",
        "time_registered": "2014-02-07T14:14:53+04:00",
        "score": 37,
        "fullname": "Алексей Исаев",
        "specializm": "Talent Director, Partner @ gms \u0026 g-mate",
        "sex": 1,
        "rating": 6.5,
        "vote": 0,
        "note": {
          "text": null
        },
        "contacts": [],
        "rating_position": 525,
        "path": "\/users\/alexisaev\/",
        "geo": {
          "country": "Россия",
          "region": null,
          "city": null
        },
        "counters": {
          "posts": 31,
          "comments": 19,
          "followed": 0,
          "followers": 29,
          "favorites": 76
        },
        "badges": [
          {
            "id": 1,
            "title": "Захабренный",
            "alias": "habred",
            "description": "Пользователь с кармой \u003E0",
            "url": null,
            "is_removable": false,
            "is_disabled": false
          }
        ],
        "avatar": "https:\/\/habrastorage.org\/getpro\/habr\/avatars\/6ba\/911\/e05\/6ba911e05d6e6a857c9d7a2769813558.jpg",
        "is_readonly": false,
        "is_rc": false,
        "is_subscribed": false,
        "common_tags": [],
        "is_can_vote": true
      },
      "has_polls": false,
      "url": "https:\/\/habr.com\/ru\/company\/gms\/blog\/572570\/",
      "post_type": 1,
      "post_type_str": "simple",
      "vote": null,
      "is_can_vote": true,
      "voting": {
        "score": 11,
        "voteCount": {
          "total": 13,
          "positive": 12,
          "negative": 1
        },
        "vote": null,
        "reasonMap": null
      },
      "is_habred": true,
      "is_interesting": true,
      "is_favorite": false,
      "comments_new": 6
    },
    {
      "id": 572562,
      "is_corporative": 1,
      "is_tutorial": false,
      "time_published": "2021-08-12T13:39:48+03:00",
      "time_interesting": null,
      "comments_count": 0,
      "score": 1,
      "votes_count": 9,
      "favorites_count": 4,
      "lang": "ru",
      "tags_string": "devops, карьера ит-специалиста",
      "title": "4 способа разочаровать работодателя своими познаниями в DevOps-е",
      "preview_html": "\u003Cp\u003EРазработчик, админ ты или тестировщик… Кажется, стоит только написать в резюме слово «DevOps», как твоя ценность как специалиста взлетает до небес. В статье мы под новым углом посмотрим на этот термин и разберем, как сделать так, чтобы строчка в резюме приобрела магическую силу и открывала вам двери в любые проекты. Поможет нам в этом эксперт Владимир Дроздецкий, преподаватель-практик курса \u003Ca href=\u0022https:\/\/otus.pw\/BcHa\/\u0022\u003E«DevOps инструменты и практики»\u003C\/a\u003E.\u003C\/p\u003E\u003Cp\u003EХотя уже несколько лет как DevOps является обыденным явлением в IT-индустрии, споры вокруг термина до сих пор не утихли и индустрия однозначно не может определиться, что это за мифический специалист.\u0026nbsp;\u003C\/p\u003E\u003Cp\u003EЧто может пойти не так? Разбираем 4 типичных для рынка ситуаций.\u003C\/p\u003E",
      "text_cut": "Итак, начнём",
      "text_html": "\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/554\/cc4\/925\/554cc49256ef9a32d5d747765a84d9dd.png\u0022 width=\u0022780\u0022 height=\u0022439\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Chr\u003E\u003Cfigure class=\u0022float full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/57e\/88f\/ccb\/57e88fccb2baea53ac54e77a416133f9.jpg\u0022 alt=\u0022Владимир Дроздецкий\u0022 title=\u0022Владимир Дроздецкий\u0022 width=\u00222408\u0022 height=\u00222552\u0022\u003E\u003Cfigcaption\u003EВладимир Дроздецкий\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cp\u003EРазработчик, админ ты или тестировщик… Кажется, стоит только написать в резюме слово «DevOps», как твоя ценность как специалиста взлетает до небес. В статье мы под новым углом посмотрим на этот термин и разберем, как сделать так, чтобы строчка в резюме приобрела магическую силу и открывала вам двери в любые проекты. Поможет нам в этом эксперт Владимир Дроздецкий, преподаватель-практик курса \u003Ca href=\u0022https:\/\/otus.pw\/BcHa\/\u0022\u003E«DevOps инструменты и практики»\u003C\/a\u003E.\u003C\/p\u003E\u003Cp\u003EХотя уже несколько лет как DevOps является обыденным явлением в IT-индустрии, споры вокруг термина до сих пор не утихли и индустрия однозначно не может определиться, что это за мифический специалист.\u0026nbsp;\u003C\/p\u003E\u003Cp\u003EЧто может пойти не так? Разбираем 4 типичных для рынка ситуаций.\u003C\/p\u003E\u003Chr\u003E\u003Ch3\u003E1. Гит и докер — вот и весь девопс, который вам нужен\u003C\/h3\u003E\u003Cp\u003EВ DevOps-подходе используется множество инструментов: системы контроля версий Git, различные CI\/CD системы (Gitlab, Jenkins, etc.), системы управления конфигурацией Ansible, Terraform, контейнеризация Docker, оркестрация Kubernetеs, инструменты мониторинга и логирования, Prometheus, Grafana, ELK, Loki.\u003C\/p\u003E\u003Cp\u003EРекрутера своим резюме с таким арсеналом провести вы сможете, а вот инженера уже нет. На собеседованиях кандидаты, бывает, в красках расписывают: «Да вот у нас Кубер запущен! Да я код собственноручно по Docker-контейнерам раскладывал!».\u003C\/p\u003E\u003Cp\u003EНа самом деле, можно овладеть хоть всем списком, но при этом в организации или проекте никакого DevOps-а не будет. Потому что на первом месте в нем не технологии, а философия и способ взаимодействия в команде. И если вы на собеседовании, лучше говорить не о факте «у нас был мониторинг», а о значении мониторинга и пользе которую он принес, задачах которые были решены с его помощью.\u0026nbsp;\u003C\/p\u003E\u003Ch3\u003E2. Хочу больше зарплату — стану DevOps-ом\u0026nbsp;\u003C\/h3\u003E\u003Cp\u003EС одной стороны мысль верная: специалисты, которые владеют стеком технологий и пониманием подхода, стоят дороже.\u003C\/p\u003E\u003Cp\u003EОшибка же кроется в том, что DevOps — это не должность. В этом вопросе индустрия уже достаточно единодушна. Да, вакансии DevOps Engineer есть, но если посмотрите требования и задачи — увидите насколько они отличаются друг от друга. Говорит это о том, что компания ищет человека, который возьмет на себя незакрытые задачи по автоматизации процессов, сочетая это с классической ролью админа или разработчика.\u003C\/p\u003E\u003Cp\u003EИз этого можно сделать вывод, что 200+ тыс. рублей работодатели готовы платить не за абстрактный «девопс», а сильному инженеру, владеющему данным подходом. Тут стоит отметить, что девопс для некоторых организаций — это что-то мифическое, что сходу решит все их проблемы.\u003C\/p\u003E\u003Ch3\u003E3. А я решил войти в IT и сразу в DevOps-ы!\u003C\/h3\u003E\u003Cp\u003EСитуация вытекает из предыдущей и встречается довольно часто среди начинающих айтишников.\u003C\/p\u003E\u003Cp\u003EЦенность специалиста, владеющего DevOps-подходом, в понимании процессов и личном участии в них — как разработчик, как сисадмин, инженер или тестировщик.\u003C\/p\u003E\u003Cp\u003EТакже странно выглядели бы попытки стать тимлидом сразу после изучения основ программирования. Опыт в разработке — неотъемлемая часть для того, чтобы инженер мог выполнять свои задачи.\u003C\/p\u003E\u003Ch3\u003E4. Давайте все тут автоматизируем\u003C\/h3\u003E\u003Cp\u003EНу и последний способ разочаровать работодателя — стать фанатичным адептом автоматизации.\u0026nbsp;\u003C\/p\u003E\u003Cp\u003EНе всегда результат автоматизации оправдывает затраченные на нее силы. Компетентный инженер — тот, кто умеет оценивать эффективность процессов в своем проекте, а не просто настраивает все по методичке, не понимая, нужно это проекту или нет.\u003C\/p\u003E\u003Cp\u003EНа онлайн-курсе «DevOps практики и инструменты» мы закладываем грамотность в вопросах, связанных с этим подходом. Студенты понимают, что от них ждут в проекте, в чем заключается их роль, определяются с вектором профессионального развития. На занятиях они учатся использовать современные инструменты именно в рамках DevOps-подхода.\u003C\/p\u003E\u003Cp\u003EУзнать о программе больше и задать вопросы Владимиру Дроздецкому вы сможете в закрытом сообществе курса в Slack. Успешно \u003Ca href=\u0022https:\/\/otus.pw\/BcHa\/\u0022\u003Eпройдите вступительный тест\u003C\/a\u003E и получите ссылку доступа к сообществу.\u003C\/p\u003E",
      "is_comments_hide": 0,
      "editor_version": 2,
      "hubs": [
        {
          "id": 21052,
          "alias": "otus",
          "title": "Блог компании OTUS",
          "is_membership": false,
          "is_profiled": false,
          "is_company": true,
          "icon": "",
          "path": "company\/otus\/"
        },
        {
          "id": 20740,
          "alias": "career",
          "title": "Карьера в IT-индустрии",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/career\/"
        },
        {
          "id": 20788,
          "alias": "devops",
          "title": "DevOps",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/devops\/"
        }
      ],
      "flows": [
        {
          "id": 3,
          "name": "Менеджмент",
          "alias": "management",
          "url": "https:\/\/habr.com\/ru\/flows\/management\/",
          "path": "\/flows\/management\/"
        },
        {
          "id": 6,
          "name": "Администрирование",
          "alias": "admin",
          "url": "https:\/\/habr.com\/ru\/flows\/admin\/",
          "path": "\/flows\/admin\/"
        }
      ],
      "is_recovery_mode": false,
      "reading_count": 1725,
      "metadata": {
        "meta_image": "https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/08c\/96d\/578\/08c96d578964e23cd76b45ca59f6663d.png",
        "lead_image": "https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/08c\/96d\/578\/08c96d578964e23cd76b45ca59f6663d.png",
        "lead_image_info": {
          "url": "https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/08c\/96d\/578\/08c96d578964e23cd76b45ca59f6663d.png",
          "fit": "cover",
          "positionY": 0,
          "positionX": 0
        }
      },
      "path": "\/company\/otus\/blog\/572562\/",
      "full_url": "https:\/\/habr.com\/ru\/company\/otus\/blog\/572562\/",
      "author": {
        "id": 2571061,
        "login": "GolovinDS",
        "time_registered": "2021-01-12T15:28:19+03:00",
        "score": 2.5,
        "fullname": "Дмитрий Головин",
        "specializm": "Контент-маркетолог",
        "sex": 1,
        "rating": 14,
        "vote": 0,
        "note": {
          "text": null
        },
        "contacts": [],
        "rating_position": 315,
        "path": "\/users\/golovinds\/",
        "geo": {
          "country": "Россия",
          "region": "Москва и Московская обл.",
          "city": "Москва"
        },
        "counters": {
          "posts": 27,
          "comments": 3,
          "followed": 0,
          "followers": 9,
          "favorites": 0
        },
        "badges": [
          {
            "id": 1,
            "title": "Захабренный",
            "alias": "habred",
            "description": "Пользователь с кармой \u003E0",
            "url": null,
            "is_removable": false,
            "is_disabled": false
          },
          {
            "id": 102,
            "title": "Бета-тестер",
            "alias": "tester",
            "description": "Участвует в тестировании новой функциональности",
            "url": "https:\/\/habr.com\/beta\/welcome\/",
            "is_removable": false,
            "is_disabled": false
          }
        ],
        "avatar": "https:\/\/habrastorage.org\/getpro\/habr\/avatars\/d27\/ccd\/743\/d27ccd743d8bccbf1a885e5dadaa7ffe.jpg",
        "is_readonly": false,
        "is_rc": false,
        "is_subscribed": false,
        "common_tags": [],
        "is_can_vote": true
      },
      "has_polls": false,
      "url": "https:\/\/habr.com\/ru\/company\/otus\/blog\/572562\/",
      "post_type": 1,
      "post_type_str": "simple",
      "vote": null,
      "is_can_vote": true,
      "voting": {
        "score": 1,
        "voteCount": {
          "total": 9,
          "positive": 5,
          "negative": 4
        },
        "vote": null,
        "reasonMap": null
      },
      "is_habred": true,
      "is_interesting": false,
      "is_favorite": false,
      "comments_new": null
    },
    {
      "id": 572564,
      "is_corporative": 0,
      "is_tutorial": false,
      "time_published": "2021-08-12T13:37:11+03:00",
      "time_interesting": null,
      "comments_count": 0,
      "score": 0,
      "votes_count": 0,
      "favorites_count": 1,
      "lang": "ru",
      "tags_string": "innovations, инновации, corporation, корпорация, transformation, digitalization",
      "title": "ИННОВАЦИИ VS\/В КОРПОРАЦИИ",
      "preview_html": "\u003Cp\u003EПрогресс во всем - естественное развитие на пути человека, но как и в исторических прецедентах - к изменениям, даже очень необходимым, готовы не все и это факт.\u0026nbsp;\u003C\/p\u003E\u003Cp\u003EКак запустить инновации в корпорации чтобы не произошло токсичное отторжение.\u003C\/p\u003E",
      "text_cut": "Читать далее",
      "text_html": "\u003Cp\u003EПредcтавим ситуацию: в крупной компании на 500 человек решили ввести пропуск по FaceId - современное и инновационное решения для 21 года, правда?\u0026nbsp;\u003C\/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003E“Отлично” - подумал Олег, сис-админ с третьего этажа!\u0026nbsp;\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E“З****сь” - сказала Светлана Петровна, бухгалтер со стажем, с книгой бухучета подмышкой\u0026nbsp;\u003C\/p\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003Cp\u003EКонечно, прогресс во всем - естественное развитие на пути человека, но как и в исторических прецедентах - к изменениям, даже очень необходимым, готовы не все и это факт.\u0026nbsp;\u003C\/p\u003E\u003Cp\u003EКак запустить инновации в корпорации чтобы не произошло токсичное отторжение\u003C\/p\u003E\u003Cp\u003E1  ОБОЗНАЧИТЬ ЦЕЛИ И ЗАДАЧИ - ЧТО КОНКРЕТНО ДОЛЖНЫ РЕШИТЬ ИННОВАЦИИ\u0026nbsp;\u003C\/p\u003E\u003Cp\u003EОпределение глобальных целей поможет сформировать направление построения инновационной структуры:\u003C\/p\u003E\u003Col\u003E\u003Cli\u003E\u003Cp\u003EЗадачи существующих процессов\u0026nbsp;\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EФормирование новых направлений\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EПростое следование тренду \u003C\/p\u003E\u003C\/li\u003E\u003C\/ol\u003E\u003Cblockquote\u003E\u003Cp\u003EВыявите проблемы и возможные варианты их решения с использованием инновационных технологий: изучите уже имеющиеся кейсы на рынке, закажите внешнее исследование, привлеките специалистов на краткосрочный аналитический проект.\u0026nbsp;\u003C\/p\u003E\u003Cp\u003EСледование модному тренду без понимания и определения общих целей и подходов - заведомо провальный путь.\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cp\u003E2 ОПРЕДЕЛИТЬСЯ С ПОДХОДАМИ\u003C\/p\u003E\u003Cp\u003E    Понимание подходов, пусть и первично, уже позволяет оценить имеющиеся ресурсы и дальнейшую стратегию организации команды для этого направления:\u003C\/p\u003E\u003Col\u003E\u003Cli\u003E\u003Cp\u003EВнутренняя разработка продуктов\/технологий\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EРесерч и адаптация внешних решений\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EРабота со стартапами и акселерация идей\u003C\/p\u003E\u003C\/li\u003E\u003C\/ol\u003E\u003Cp\u003E3  НЕ ОТДЕЛЯТЬ ИННОВАЦИИ ОТ ОСНОВНОГО БИЗНЕСА\u003C\/p\u003E\u003Cp\u003EКлючевым успехом развития инноваций является их полная интеграция с основным бизнесом, как на уровне задач, так и управления.\u0026nbsp;\u003C\/p\u003E\u003Cp\u003EПоиск внутреннего заказчика, определение его проблем и возможностей решения, зачастую не известных ему самому - это стартовая точка применения и основа для развития инноваций в дальнейшем.\u003C\/p\u003E\u003Cblockquote\u003E\u003Cp\u003E\u003Cstrong\u003EХорошим путем поиска и определения задач внутреннего заказчика может быть нативный подход - решение небольших задач, показывающих быстрый прогресс и результат.\u003C\/strong\u003E\u003C\/p\u003E\u003Cp\u003E\u003Cstrong\u003EДля себя я определил это как “прививку инноваций”, когда быстрый и точечный результат формирует ВАУ-эффект и тем самым провоцирует реакцию и запрос в дальнейшем развитии инноваций в масштабах всего бизнеса.\u003C\/strong\u003E\u003C\/p\u003E\u003Cp\u003E\u003Cstrong\u003EОтличным кейсом стал опыт в \u003C\/strong\u003E\u003Ca href=\u0022https:\/\/habr.com\/ru\/post\/522274\/\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003E\u003Cstrong\u003EVodafone\u003C\/strong\u003E\u003C\/a\u003E\u003Cstrong\u003E \u003C\/strong\u003E\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cp\u003E4  ОПРЕДЕЛИТЬ ОТВЕТСТВЕННОГО ЗА ИННОВАЦИИ\u003C\/p\u003E\u003Cp\u003E1. Инновации - это изменения, которые несовместимы с планомерностью уже сложившихся процессов, а иногда даже полностью противоречат всему, что есть сейчас.\u0026nbsp;\u003C\/p\u003E\u003Cp\u003EПоэтому рискованно возлагать задачи развития инноваций на существующих ТОП менеджеров.\u0026nbsp;\u003C\/p\u003E\u003Cblockquote\u003E\u003Cp\u003E\u003Cstrong\u003EОбъединение роли того, кто отвечает за стабильность, и того, кто отвечает за изменения, провоцируют внутренний конфликт и, как следствие, ведет к потерям в отдельном или каждом направлении у такого менеджера.\u003C\/strong\u003E\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cp\u003E2. Назначьте отдельного ответственного за инновации и обеспечьте ему достаточные полномочия.\u003C\/p\u003E\u003Cp\u003EЕсли проанализировать успешный опыт инновационных трансформаций, то всегда присутствует отдельная роль на уровне c-level (CDTO, CDO, CPO).\u003C\/p\u003E\u003Cblockquote\u003E\u003Cp\u003E\u003Cstrong\u003EВы можете назначить лучшего специалиста, который настроит все процессы, соберет сильную команду, сможет “подружить” инноваторов с корпоративной реальностью. Но без достаточной самостоятельности, полномочий и возможности влиять на стратегию и, собственно, на вектор развития инноваций - вы не получите результатов, а в итоге потеряете, как инноваторов, так и имеющихся менеджеров, которые уже стали другими.\u0026nbsp;\u003C\/strong\u003E\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cp\u003E3. Привлеките экспертов с рынка - незашоренный взгляд новых специалистов позволит подойти с точки зрения принципиально иных подходов, привнося свой опыт из других доменов и бизнесов.\u003C\/p\u003E\u003Cblockquote\u003E\u003Cp\u003E\u003Cstrong\u003EДля изменения ДНК компании требуется внешняя прививка.\u003C\/strong\u003E\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cp\u003E5  СФОРМИРОВАТЬ КОМАНДУ И ИННОВАЦИОННУЮ КУЛЬТУРУ\u003C\/p\u003E\u003Cp\u003EПо поиску и привлечению, помимо классического поиска на рынке можно применить такие подходы:\u003C\/p\u003E\u003Cp\u003E1. Запускайте программы стажировки\u003C\/p\u003E\u003Cp\u003EЖалуетесь на перегретый рынок и невозможность найти хороших специалистов?\u0026nbsp;\u003C\/p\u003E\u003Cp\u003EПрограммы стажировок и дальнейшего наставничества решат вопрос не только первичного привлечения специалистов, но и качественного развития всех команд в дальнейшем.\u003C\/p\u003E\u003Cp\u003E\u003Ca href=\u0022https:\/\/habr.com\/ru\/post\/554710\/\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003EМой опыт в Vodafone\u003C\/a\u003E, как мы смогли оперативно пополнить ряды инноваций крайне специалистами, используя стажерскую программу и наставничество.\u0026nbsp;\u003C\/p\u003E\u003Cp\u003E2. Развивайте инновационную культуру и открытость.\u0026nbsp;\u003C\/p\u003E\u003Cp\u003EИнновационная культура - это не про лозунги и опенспейс с креслами-мешками, это про людей, подходы, цели и, главное, результат.\u003C\/p\u003E\u003Cp\u003EБудьте открытыми и инновационно амбициозными о чем говорите и заявляйте рынку.\u0026nbsp;\u003C\/p\u003E\u003Cp\u003EСегодня для специалиста требуется что-то больше, чем только зарплата и “громкое” имя компании.\u0026nbsp;\u003C\/p\u003E\u003Cblockquote\u003E\u003Cp\u003E\u003Cstrong\u003EИнновационная культура - это магнит для продвинутых специалистов.\u003C\/strong\u003E\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cp\u003E3. Дайте свободу и возможность инновациям представить стратегию и дать объективный взгляд на процессы. Нельзя инновационных менеджеров\u0026nbsp; попытаться поставить в рамки корпоративных.\u003C\/p\u003E\u003Cblockquote\u003E\u003Cp\u003E\u003Cstrong\u003EИнноватор из корпменеджера - может быть, корпменеджер из инноватора - крах.\u003C\/strong\u003E\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cp\u003E6  ОБЕСПЕЧИТЬ РЕСУРСЫ\u003C\/p\u003E\u003Cp\u003EНаличие ресурсов и команды для быстрой разработки и готовность других подразделений помогать в решении задач.\u0026nbsp;\u003C\/p\u003E\u003Cp\u003EИнновации - это быстрые решения, постоянные идеи и гипотезы, реализация которых должна происходить максимально оперативно и гибко.\u0026nbsp;\u003C\/p\u003E\u003Cp\u003EЛюбое ожидание или замедление губительно и деструктивно.\u0026nbsp;\u003C\/p\u003E\u003Cblockquote\u003E\u003Cp\u003E\u003Cstrong\u003EМой опыт - это быстрые проекты для актуальных задач (автоматизация базовых процессов, ситуативные продукты в момент локдауна Covid, защита стратегии продуктов не на основе презентации, а с готовым Proof of Concept).\u003C\/strong\u003E\u003C\/p\u003E\u003Cp\u003E\u003Cstrong\u003EВажно обеспечить поддержку сопутствующих подразделений в простой командной работе, а не по принципу, что инновации должны искать ресурсы и ждать “помощи”.\u0026nbsp;\u003C\/strong\u003E\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cp\u003E7  БЫТЬ ОТКРЫТЫМИ И ПУБЛИЧНЫМИ\u003C\/p\u003E\u003Col\u003E\u003Cli\u003E\u003Cp\u003EВыступления на различных ивентах (конференции, кэмпы, митапы)\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EОрганизация своих собственных ивентов\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EПубликации в профильных медиа\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EСвои медиа каналы\u0026nbsp;\u003C\/p\u003E\u003C\/li\u003E\u003C\/ol\u003E\u003Cp\u003EИнновации - это всегда много нового и интересного. Новые подходы, неожиданные инсайты, достижения и результаты - делитесь ими публично.\u0026nbsp;\u003C\/p\u003E\u003Cp\u003EЭто хороший способ, как обмениваться знаниями, постоянно черпая что-то новое, привлекать крутые проекты и специалистов, так и качественно развивать профессиональную сферу в целом.\u003C\/p\u003E\u003Cblockquote\u003E\u003Cp\u003E\u003Cstrong\u003EАктивность и публичность для инноваторов - это как деловой костюм в прошлом для корпоративного менеджера.\u003C\/strong\u003E\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cp\u003E8  НЕ ЗАБЫВАТЬ ПРО ИННОВАЦИИ\u003C\/p\u003E\u003Cp\u003E1. Регулярные статусы с CEO\u003C\/p\u003E\u003Cp\u003EБез активного вовлечения и прямого внимания первых лиц в компании развитие инноваций может стать простым следованием тренду и формальным процессом, интерес к которому будет проявляться периодически, что никак не обеспечит значимых результатов.\u0026nbsp;\u003C\/p\u003E\u003Cp\u003E2. Инновации = Стратегические продукты, никак иначе\u003C\/p\u003E\u003Cblockquote\u003E\u003Cp\u003E\u003Cstrong\u003EИнновации не могут отделяться от основного бизнеса и, тем более, иметь второй или третий приоритет. \u003C\/strong\u003E\u003C\/p\u003E\u003Cp\u003E\u003Cstrong\u003EСегодняшние инновации - это системные продукты и основа бизнеса завтра ↓\u003C\/strong\u003E\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cp\u003E3. Инновации не дотации, а инвестиция\u003C\/p\u003E",
      "is_comments_hide": 0,
      "editor_version": 2,
      "hubs": [
        {
          "id": 20682,
          "alias": "pm",
          "title": "Управление проектами",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/pm\/"
        },
        {
          "id": 20700,
          "alias": "growthhacking",
          "title": "Growth Hacking",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/growthhacking\/"
        },
        {
          "id": 20726,
          "alias": "productpm",
          "title": "Управление продуктом",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/productpm\/"
        },
        {
          "id": 20736,
          "alias": "hr_management",
          "title": "Управление персоналом",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/hr_management\/"
        },
        {
          "id": 22026,
          "alias": "itcompanies",
          "title": "IT-компании",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/itcompanies\/"
        }
      ],
      "flows": [
        {
          "id": 3,
          "name": "Менеджмент",
          "alias": "management",
          "url": "https:\/\/habr.com\/ru\/flows\/management\/",
          "path": "\/flows\/management\/"
        },
        {
          "id": 4,
          "name": "Маркетинг",
          "alias": "marketing",
          "url": "https:\/\/habr.com\/ru\/flows\/marketing\/",
          "path": "\/flows\/marketing\/"
        }
      ],
      "is_recovery_mode": false,
      "reading_count": 174,
      "metadata": {
        "meta_image": "https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/8a9\/d3a\/875\/8a9d3a875631e2f6ba9d8b0e6acf44a8.png",
        "lead_image": "https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/8a9\/d3a\/875\/8a9d3a875631e2f6ba9d8b0e6acf44a8.png",
        "lead_image_info": {
          "url": "https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/8a9\/d3a\/875\/8a9d3a875631e2f6ba9d8b0e6acf44a8.png",
          "fit": "cover",
          "positionY": 0,
          "positionX": 0
        }
      },
      "path": "\/post\/572564\/",
      "full_url": "https:\/\/habr.com\/ru\/post\/572564\/",
      "author": {
        "id": 1810991,
        "login": "AntonBets",
        "time_registered": "2018-08-21T17:10:54+03:00",
        "score": 2,
        "fullname": "Антон Бец",
        "specializm": "innovation products",
        "sex": 1,
        "rating": 0,
        "vote": 0,
        "note": {
          "text": null
        },
        "contacts": [],
        "rating_position": 0,
        "path": "\/users\/antonbets\/",
        "geo": {
          "country": "Украина",
          "region": "Киевская обл.",
          "city": "Киев"
        },
        "counters": {
          "posts": 4,
          "comments": 7,
          "followed": 0,
          "followers": 0,
          "favorites": 5
        },
        "badges": [
          {
            "id": 1,
            "title": "Захабренный",
            "alias": "habred",
            "description": "Пользователь с кармой \u003E0",
            "url": null,
            "is_removable": false,
            "is_disabled": false
          }
        ],
        "avatar": "https:\/\/habrastorage.org\/getpro\/habr\/avatars\/e85\/c65\/99b\/e85c6599b326c7393574b4ad58750199.jpg",
        "is_readonly": false,
        "is_rc": false,
        "is_subscribed": false,
        "common_tags": [],
        "is_can_vote": true
      },
      "has_polls": false,
      "url": "https:\/\/habr.com\/ru\/post\/572564\/",
      "post_type": 1,
      "post_type_str": "simple",
      "vote": null,
      "is_can_vote": true,
      "voting": {
        "score": 0,
        "voteCount": {
          "total": 0,
          "positive": 0,
          "negative": 0
        },
        "vote": null,
        "reasonMap": null
      },
      "is_habred": true,
      "is_interesting": false,
      "is_favorite": false,
      "comments_new": null
    },
    {
      "id": 572550,
      "is_corporative": 1,
      "is_tutorial": false,
      "time_published": "2021-08-12T13:31:30+03:00",
      "time_interesting": "2021-08-12T13:53:42+03:00",
      "comments_count": 3,
      "score": 16,
      "votes_count": 16,
      "favorites_count": 1,
      "lang": "ru",
      "tags_string": "crm-системы, crm, crm-технологии",
      "title": "Хватит тратить моё время! Почему простой клиент хочет CRM",
      "preview_html": "\u003Cp\u003EМы всё больше привыкаем к быстрому обслуживанию и сервису: быстрая доставка, быстрая покупка, электронные терминалы, электронные билеты, удобный и быстрый выбор в быстром интернете. От этого гораздо заметнее становится любое медленное действие — как будто жизнь резко переключилась на Dial-up и всё происходящее заскрипело с характерным звуком модемного соединения. Хуже только когда ты за это платишь свои деньги. Эта статья взяла своё начало в момент, когда я покупала новую кровать в мебельном салоне — не знала, что сама стану героем наших публикаций.\u003C\/p\u003E",
      "text_cut": "Читать далее",
      "text_html": "\u003Cp\u003EМы всё больше привыкаем к быстрому обслуживанию и сервису: быстрая доставка, быстрая покупка, электронные терминалы, электронные билеты, удобный и быстрый выбор в быстром интернете. От этого гораздо заметнее становится любое медленное действие — как будто жизнь резко переключилась на Dial-up и всё происходящее заскрипело с характерным звуком модемного соединения. Хуже только когда ты за это платишь свои деньги. Эта статья взяла своё начало в момент, когда я покупала новую кровать в мебельном салоне — не знала, что сама стану героем наших публикаций.\u003C\/p\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/211\/f2b\/a6d\/211f2ba6de63d87aaa77d3bd4c09e69b.png\u0022 width=\u0022935\u0022 height=\u0022684\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cem\u003EDisclaimer:\u003C\/em\u003E\u003C\/strong\u003E\u003Cem\u003E статья написана сотрудником в рамках рубрики «Свободный микрофон», не рецензировалась и не проверялась перед публикацией. Но это тот случай, когда мнение компании и автора совпадают.\u003C\/em\u003E\u003C\/p\u003E\u003Cp\u003EИногда нас просят в комментариях описать реальные истории клиентов. Одну мы всё-таки \u003Ca href=\u0022https:\/\/habr.com\/ru\/company\/regionsoft\/blog\/438884\/\u0022\u003E\u003Cu\u003Eвыбили\u003C\/u\u003E\u003C\/a\u003E, в остальном всё упирается в чью-то лень, NDA и несовпадение по времени, чтобы подготовить нормальный материал. Ну вот она — самая что ни на есть реальная история.\u003C\/p\u003E\u003Ch3\u003EЧас в мебельном салоне как повод задуматься\u003C\/h3\u003E\u003Cp\u003EИтак, в салоне на оформлении мебели я провела 50 минут. И, наверное, я бы в жизни не обратила внимание на этот интервал времени — дело есть дело, — если бы не одно «но». Я работаю с \u003Ca href=\u0022https:\/\/www.regionsoft.ru\/\u0022\u003E\u003Cu\u003ERegionSoft CRM\u003C\/u\u003E\u003C\/a\u003E вот уже 8 лет и мне очевидно, что для мебельных салонов она как раз подходит: в ней можно вести клиентов физических лиц, быстро заполнять счета, ордера, заказы, договоры, наряды и даже считать стоимость производства нестандартной мебели на специальном встроенном калькуляторе, который можно сконфигурировать для задач конкретной компании. И вот я сидела рядом с менеджером салона, она совершала действия по оформлению заявки на мою мебель, а у меня в голове вертелся интерфейс нашей CRM и то, насколько быстро и точно можно было бы всё это, простите, зафигачить.\u003C\/p\u003E\u003Cp\u003EНе пожалею ни своего времени, ни места на Хабре и запилю таблицу о том, что происходило и как это могло бы быть — просто потому что это ярчайший пример из реальной жизни. Я бы при всём желании такой простой, наглядный и вопиющий случай не придумала :-)\u0026nbsp;\u003C\/p\u003E\u003Cdiv\u003E\u003Cdiv class=\u0022table\u0022\u003E\u003Ctable\u003E\u003Ctbody\u003E\u003Ctr\u003E\u003Ctd data-colwidth=\u0022396\u0022 width=\u0022396\u0022\u003E\u003Cp align=\u0022center\u0022\u003E\u003Cstrong\u003EЧто происходило в мебельном салоне\u003C\/strong\u003E\u003C\/p\u003E\u003C\/td\u003E\u003Ctd\u003E\u003Cp\u003E\u003Cstrong\u003EЧто могло бы произойти в \u003C\/strong\u003E\u003Ca href=\u0022https:\/\/www.regionsoft.ru\/?page=home\u0022\u003E\u003Cstrong\u003ERegionSoft CRM\u0026nbsp;\u0026nbsp;\u003C\/strong\u003E\u003C\/a\u003E\u003C\/p\u003E\u003Cp\u003E\u003Cem\u003E(т.е. крутилось у меня в голове)\u003C\/em\u003E\u003C\/p\u003E\u003C\/td\u003E\u003C\/tr\u003E\u003Ctr\u003E\u003Ctd data-colwidth=\u0022396\u0022 width=\u0022396\u0022\u003E\u003Cp\u003EУ меня в планах на покупку было 3 наименования товара с параметрами из стандартного каталога (кровать, матрас, наматрасник). Менеджер открыла сайт и стала их просматривать со мной, попутно путаясь в поиске и фильтрах.\u003C\/p\u003E\u003C\/td\u003E\u003Ctd\u003E\u003Cp\u003EМенеджер открывает карточку товара в CRM, там содержатся абсолютно все параметры и даже фото. Сразу видно наличие, сроки изготовления, сроки доставки.\u003C\/p\u003E\u003C\/td\u003E\u003C\/tr\u003E\u003Ctr\u003E\u003Ctd data-colwidth=\u0022396\u0022 width=\u0022396\u0022\u003E\u003Cp\u003EМенеджер выписала ручкой на лист бумаги все наименования товаров, написала цену, посчитала на калькуляторе стоимость каждого наименования, сложила.\u003C\/p\u003E\u003C\/td\u003E\u003Ctd\u003E\u003Cp\u003EМенеджер кликает по нужным наименованиям — все данные подгружаются в нужный документ: счёт, заказ, наряд и т.д.\u003C\/p\u003E\u003C\/td\u003E\u003C\/tr\u003E\u003Ctr\u003E\u003Ctd data-colwidth=\u0022396\u0022 width=\u0022396\u0022\u003E\u003Cp\u003EВспомнила про скидку 10%, пересчитала на всякий случай ещё раз, добавила скидку.\u003C\/p\u003E\u003C\/td\u003E\u003Ctd\u003E\u003Cp\u003EВсе скидки и наценки прописаны в CRM и применяются автоматически.\u003C\/p\u003E\u003C\/td\u003E\u003C\/tr\u003E\u003Ctr\u003E\u003Ctd data-colwidth=\u0022396\u0022 width=\u0022396\u0022\u003E\u003Cp\u003EСтала на листочке с другой стороны записывать доставку: этаж, лифт, тип лифта, стоимость доставки. Посмотрела распечатку с ценами доставки.\u003C\/p\u003E\u003C\/td\u003E\u003Ctd\u003E\u003Cp\u003EДоставка учитывается как услуга, считается на встроенном калькуляторе и попадает в счёт в 1 клик.\u003C\/p\u003E\u003C\/td\u003E\u003C\/tr\u003E\u003Ctr\u003E\u003Ctd data-colwidth=\u0022396\u0022 width=\u0022396\u0022\u003E\u003Cp\u003EПосчитала сборку. Посмотрела в распечатке стоимость сборки.\u003C\/p\u003E\u003C\/td\u003E\u003Ctd\u003E\u003Cp\u003EСборка также выбирается из списка услуг.\u003C\/p\u003E\u003C\/td\u003E\u003C\/tr\u003E\u003Ctr\u003E\u003Ctd data-colwidth=\u0022396\u0022 width=\u0022396\u0022\u003E\u003Cp\u003E\u003Cstrong\u003EДалее слабонервным лучше отойти от экрана:\u003C\/strong\u003E\u003C\/p\u003E\u003C\/td\u003E\u003Ctd\u003E\u003Cp\u003E\u003C\/p\u003E\u003C\/td\u003E\u003C\/tr\u003E\u003Ctr\u003E\u003Ctd data-colwidth=\u0022396\u0022 width=\u0022396\u0022\u003E\u003Cp\u003EОна открыла MS Word (!), скопировав файл предыдущего заказчика (!), и начала вбивать вручную (!) наименования, параметры и суммы. Конечно же, суммы автоматически в документе не складывались и она ещё разочек перепроверила на калькуляторе.\u003C\/p\u003E\u003Cp\u003EОтдельно ввела мои ФИО, номер телефона, адрес.\u003C\/p\u003E\u003C\/td\u003E\u003Ctd rowspan=\u00222\u0022\u003E\u003Cp\u003EВ шаблонах документов уже есть счёт и договор, данные в который попадают из карточки клиента. Все суммы уже посчитаны.\u003C\/p\u003E\u003Cp\u003EА данные клиента вводятся в карточку в любой момент и сохраняются в CRM, формируя клиентскую базу.\u003C\/p\u003E\u003C\/td\u003E\u003C\/tr\u003E\u003Ctr\u003E\u003Ctd data-colwidth=\u0022396\u0022 width=\u0022396\u0022\u003E\u003Cp\u003EПосле этого она скопировала файл договора с предыдущим клиентом, открыла и снова начала заполнять: сумма и сумма прописью ФИО, номер телефона, адрес...\u003C\/p\u003E\u003C\/td\u003E\u003C\/tr\u003E\u003Ctr\u003E\u003Ctd data-colwidth=\u0022396\u0022 width=\u0022396\u0022\u003E\u003Cp\u003EРаспечатала, проверили, подписали.\u003C\/p\u003E\u003C\/td\u003E\u003Ctd\u003E\u003Cp\u003EРаспечатала из аккуратных печатных форм в CRM, проверили, подписали.\u003C\/p\u003E\u003C\/td\u003E\u003C\/tr\u003E\u003Ctr\u003E\u003Ctd data-colwidth=\u0022396\u0022 width=\u0022396\u0022\u003E\u003Cp\u003EМенеджер начала оформлять приходный ордер — отрывной, за наличные. Тут всё просто.\u0026nbsp;\u003C\/p\u003E\u003C\/td\u003E\u003Ctd\u003E\u003Cp\u003EЗдесь всё зависит от наличия или отсутствия кассы.\u003C\/p\u003E\u003C\/td\u003E\u003C\/tr\u003E\u003Ctr\u003E\u003Ctd data-colwidth=\u0022396\u0022 width=\u0022396\u0022\u003E\u003Cp\u003EЯ получила свой комплект документов и написанный ручкой на флаере номер телефона салона на «если что».\u0026nbsp;\u003C\/p\u003E\u003C\/td\u003E\u003Ctd\u003E\u003Cp\u003EКлиенту не нужно давать какие-либо контакты, компания\u0026nbsp; уведомляет его о факте передачи заказа, поступления заказа, доставки и т.д.\u0026nbsp;\u003C\/p\u003E\u003C\/td\u003E\u003C\/tr\u003E\u003Ctr\u003E\u003Ctd data-colwidth=\u0022396\u0022 width=\u0022396\u0022\u003E\u003Cp\u003EИ тут пришла беда откуда и не ждали: всё это время папа, с которым я была в салоне, сидел в стороне на стуле-кресле и ему этот стул жутко понравился. Говорит, давай купим 6 таких (по 7000+ каждый). Мне было лень снова двигаться к этой процедуре и хотелось поскорее продолжить субботние дела, а ещё сперва выбрать стол к этим довольно массивным стульям. «Давай потом, когда стол купим», — сказала я. Менеджер тут же рассказала о возможностях обивки и реализации 2 стульев без подлокотников (нам надо так, я озвучила). То есть услышала. Ну и мы попрощались до доставки основного заказа.\u003C\/p\u003E\u003C\/td\u003E\u003Ctd\u003E\u003Cp\u003EВ CRM ставится напоминание созвониться с клиентом и отмечается интерес к стульям в количестве 6 штук. И опционально — к столу.\u003C\/p\u003E\u003Cp\u003EМенеджер не забудет о такой допродаже, а клиент будет приятно удивлён вниманием и не уйдёт в другой салон.\u003C\/p\u003E\u003C\/td\u003E\u003C\/tr\u003E\u003Ctr\u003E\u003Ctd data-colwidth=\u0022396\u0022 width=\u0022396\u0022\u003E\u003Cp\u003E\u003Cstrong\u003EИтого:\u003C\/strong\u003E 50 минут\u003C\/p\u003E\u003C\/td\u003E\u003Ctd\u003E\u003Cp\u003E\u003Cstrong\u003EИтого:\u003C\/strong\u003E 15 минут при неуверенном владении системой\u0026nbsp;\u003C\/p\u003E\u003C\/td\u003E\u003C\/tr\u003E\u003C\/tbody\u003E\u003C\/table\u003E\u003C\/div\u003E\u003C\/div\u003E\u003Cp\u003EИ вот какая ситуация: мебель хорошего качества, менеджер больше чем старательная и вежливая, на вопросы отлично ответила, но если человек уже сталкивался с автоматизацией при покупках, впечатление будет смазано потерей времени. А сталкивались с крутым и быстрым сервисом примерно все, особенно на фоне пандемии.\u003C\/p\u003E\u003Cp\u003E\u003Cstrong\u003EЧто в итоге?\u003C\/strong\u003E\u003C\/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003EСчитайте, потерянная быстрая допродажа — не факт, что в другом салоне не подберут сразу и стол, и стулья. А если и вернусь, то когда приспичит, а не под впечатлением от догоняющих маркетинговых триггеров.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EНикаких данных о клиенте не сохранится в централизованной базе — а значит, уже не допродать тумбочку и комод, не продать через пару лет новый матрас или наматрасник, не рассказать о новинках, не предложить какой-нибудь стеллаж того же цвета и фактуры.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EНикто не взял электронную почту — а значит, не отправить рассылку с новинками. Мне-то, конечно, хорошо — меньше спама, но я сейчас смотрю на ситуацию не как клиент, а как компания.\u003C\/p\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003Cp\u003EПри этом салон открылся 10 июля, я в нём была 7 августа, и за 28 дней, судя по номеру договора, компания получила 14 заказов — мой на 45 000, предыдущий на 60 000. CRM на 1 менеджера обошлась бы им в 26 950, но мы возьмём трёх сотрудников на головном предприятии и по менеджеру в 5 регионах, итого 8 лицензий — 137 900. Даже с внедрением это выгодная инвестиция в автоматизацию компании, хотя думается мне, что бизнес-процессы мебельного салона не предполагают особенных доработок (а вот если своё производство, можно выбрать \u003Ca href=\u0022https:\/\/www.regionsoft.ru\/?page=crm_red\u0022\u003E\u003Cu\u003ERegionSoft CRM Enterprise\u003C\/u\u003E\u003C\/a\u003E и организовать сквозную автоматизацию, включающую все этапы работы — от менеджера в салоне и кассы до отправки заявки на поставку материалов, производства и логистики).\u003C\/p\u003E\u003Cp\u003EВот такая получилась история, — проверено на своей шкуре. После этого часа размышлений о роли CRM в экономии моего личного времени я задумалась о том, насколько вообще компании задумываются об удобстве клиента и насколько клиенты умеют уважать своё время и ценить его экономию.\u003C\/p\u003E\u003Ch3\u003EНа чём можно сэкономить в работе с клиентами?\u003C\/h3\u003E\u003Cp\u003EТолько на одном — на времени. Чем больше времени клиента вы сэкономите, тем он будет довольнее. CRM-система сегодня стала объективной необходимостью любой компании, потому что она закрывает все базовые задачи коммерческой компании: накопление информации, обработка информации, быстрое ведение сделок, допродажи, торговая и товарная аналитика. Все эти задачи приводят к единой цели — увеличению дохода.\u0026nbsp;\u003C\/p\u003E\u003Cp\u003EКомпании же предпочитают экономить на всём — причём это касается не только сферы B2С, но и нашего ненаглядного ИТ. Компании знают всё о репутационных рисках, о проблемах найма, о работе с поставщиками и клиентами, но думают, что проскочат на красный и…\u003C\/p\u003E\u003Cp\u003E\u003Cstrong\u003E… экономят на информировании.\u003C\/strong\u003E Есть спам и навязчивая реклама, а есть информирование о продукте — рынок никаким образом не узнает о вашем продукте или вашей услуге, если не приложить к этому усилия. CRM-система помогает сделать ситуацию максимально приятной и выигрышной: удобно рассылать предложения по сегментам клиентов с максимальной персонификацией. Таким образом, вы вовремя и качественно информируете тех, кто вам доверяет, а клиенты не ненавидят вас за спам.\u003C\/p\u003E\u003Cp\u003E\u003Cstrong\u003E… экономят на автоматизации и тонут в рутине.\u003C\/strong\u003E Мне пришлось слышать речь одного бизнес-тренера — он был против CRM-систем в компании и аргументировал это так: «Чтобы ввести данные в CRM, вы тратите время —\u0026nbsp; ну прикиньте, ФИО, контакты, куча информации, а ещё заполнять всякие там справочники. Это только отнимает время». Каково звучит, а? Но он не договаривал тезис: введя данные один раз, их можно бесконечно переиспользовать и больше уже никуда не вводить и тем более ни в какие файлики не лезть. Минимизация рутины — первая задача, которую решает автоматизация, и это уже рост эффективности и выгода от внедрения системы.\u003C\/p\u003E\u003Cp\u003E\u003Cstrong\u003E… очень сильно экономят на персонале.\u003C\/strong\u003E Этот пункт даже комментировать не хочется: штат компании раздувается за счёт найма продажников, кодеров, тестировщиков подешевле — вместо того чтобы взять нескольких эффективных профессионалов с высокой оплатой труда. Внутри коллектива, сформированного из «недорогих» кадров, царит разруха и демотивация: им особо не за что рваться, между собой они вполне равноценны, ни тебе конкуренции, ни огня в глазах, ни стремления расти над собой. Зато со стороны команда выглядит большой и укомплектованной.\u0026nbsp;\u003C\/p\u003E\u003Cp\u003E\u003Cstrong\u003E… плевать хотели на факторы производства.\u003C\/strong\u003E Труд, капитал, интеллектуальный капитал — всё это оптимизируется, экономится, урезается, лишь бы увеличить прибыль. Персонал не оценивается, затраты сокращаются без разбору, дельные предложения летят в трубу вместе с их авторами. Между тем, CRM и здесь отлично помогает: в частности, в нашей CRM можно настроить гибкие объективные KPI, а также оценивать менеджеров, работающих с клиентами, на основании воронки продаж и ряда аналитических показателей (индивидуальны для каждой компании).\u003C\/p\u003E\u003Cp\u003E\u003Cstrong\u003E… живут одним днём.\u003C\/strong\u003E Можно обмануть инвестора, можно уволить половину штата, можно отменить поставку, не выполнить обязательства по договору, поставить непротестированный софт — лишь бы получить оплату здесь и сейчас. Судя по поведению некоторых руководителей компаний, проснуться они планируют на другой планете, но с той же монетарной системой и с хождением земных валют. Иначе нечем объяснить странную тягу к рискам и нерациональным управленческим решениям.\u003C\/p\u003E\u003Cp\u003EВ моей истории перед менеджером оказался сотрудник компании-разработчика CRM-систем, который понимал, что происходит и почему заказать кровать стало вдруг сложнее и гораздо дольше, чем, например, сантехнику. Простой покупатель получил бы лишь непонятное ощущение траты времени и вполне возможно больше бы не захотел взаимодействовать именно с этим салоном — субъективно, на эмоциях. И это потеря для бизнеса.\u003C\/p\u003E\u003Cp\u003EКонечно, CRM не решит проблемы там, где хромает абсолютно каждый бизнес-процесс. Более того, она не спасёт от разгильдяев на местах, от неоправданных рисков, дурного характера руководителя и прочих бизнес-напастей. Но если ваши менеджеры уже способны пообщаться с клиентом, скопировать договор, выписать счёт и ордер, закрыть сделку, то почему бы не помочь сделать работу лучше, клиента довольнее, бизнес прибыльнее?\u003C\/p\u003E",
      "is_comments_hide": 0,
      "editor_version": 2,
      "hubs": [
        {
          "id": 20758,
          "alias": "regionsoft",
          "title": "Блог компании RegionSoft",
          "is_membership": false,
          "is_profiled": false,
          "is_company": true,
          "icon": "",
          "path": "company\/regionsoft\/"
        },
        {
          "id": 6398,
          "alias": "it-infrastructure",
          "title": "IT-инфраструктура",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/it-infrastructure\/"
        },
        {
          "id": 17739,
          "alias": "crm",
          "title": "CRM-системы",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/crm\/"
        },
        {
          "id": 20728,
          "alias": "sales",
          "title": "Управление продажами",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/sales\/"
        },
        {
          "id": 21918,
          "alias": "soft",
          "title": "Софт",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/soft\/"
        }
      ],
      "flows": [
        {
          "id": 3,
          "name": "Менеджмент",
          "alias": "management",
          "url": "https:\/\/habr.com\/ru\/flows\/management\/",
          "path": "\/flows\/management\/"
        },
        {
          "id": 6,
          "name": "Администрирование",
          "alias": "admin",
          "url": "https:\/\/habr.com\/ru\/flows\/admin\/",
          "path": "\/flows\/admin\/"
        },
        {
          "id": 7,
          "name": "Научпоп",
          "alias": "popsci",
          "url": "https:\/\/habr.com\/ru\/flows\/popsci\/",
          "path": "\/flows\/popsci\/"
        }
      ],
      "is_recovery_mode": false,
      "reading_count": 648,
      "metadata": {
        "meta_image": "https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/211\/f2b\/a6d\/211f2ba6de63d87aaa77d3bd4c09e69b.png",
        "lead_image": "https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/211\/f2b\/a6d\/211f2ba6de63d87aaa77d3bd4c09e69b.png",
        "lead_image_info": {
          "url": "https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/211\/f2b\/a6d\/211f2ba6de63d87aaa77d3bd4c09e69b.png",
          "fit": "cover",
          "positionY": 43.181818181818,
          "positionX": 0.64102564102564
        }
      },
      "path": "\/company\/regionsoft\/blog\/572550\/",
      "full_url": "https:\/\/habr.com\/ru\/company\/regionsoft\/blog\/572550\/",
      "author": {
        "id": 1507427,
        "login": "Free_Mic_RS",
        "time_registered": "2017-07-03T19:06:11+03:00",
        "score": 47.5,
        "fullname": null,
        "specializm": "Пользователь",
        "sex": 0,
        "rating": 36,
        "vote": 0,
        "note": {
          "text": null
        },
        "contacts": [],
        "rating_position": 127,
        "path": "\/users\/free_mic_rs\/",
        "geo": {
          "country": null,
          "region": null,
          "city": null
        },
        "counters": {
          "posts": 37,
          "comments": 303,
          "followed": 0,
          "followers": 35,
          "favorites": 15
        },
        "badges": [
          {
            "id": 1,
            "title": "Захабренный",
            "alias": "habred",
            "description": "Пользователь с кармой \u003E0",
            "url": null,
            "is_removable": false,
            "is_disabled": false
          }
        ],
        "avatar": "https:\/\/habrastorage.org\/getpro\/habr\/avatars\/ffe\/24a\/698\/ffe24a698060983ae7d3875dad17c365.jpg",
        "is_readonly": false,
        "is_rc": false,
        "is_subscribed": false,
        "common_tags": [],
        "is_can_vote": true
      },
      "has_polls": false,
      "url": "https:\/\/habr.com\/ru\/company\/regionsoft\/blog\/572550\/",
      "post_type": 1,
      "post_type_str": "simple",
      "vote": null,
      "is_can_vote": true,
      "voting": {
        "score": 16,
        "voteCount": {
          "total": 16,
          "positive": 16,
          "negative": 0
        },
        "vote": null,
        "reasonMap": null
      },
      "is_habred": true,
      "is_interesting": true,
      "is_favorite": false,
      "comments_new": 3
    },
    {
      "id": 572234,
      "is_corporative": 0,
      "is_tutorial": true,
      "time_published": "2021-08-12T13:30:01+03:00",
      "time_interesting": null,
      "comments_count": 0,
      "score": 0,
      "votes_count": 0,
      "favorites_count": 10,
      "lang": "ru",
      "tags_string": "UML, диаграмма классов, проектирование, документирование проектов",
      "title": "Использование диаграммы классов при проектировании и документировании программного обеспечения",
      "preview_html": "\u003Cp\u003EВ этой статье я постарался подробно рассказать о том, как использовать диаграмму классов UML на практике. В качестве основного примера был взять мой проект \u0022Построитель графиков функций\u0022. Помимо этого статья наполнена множеством маленьких примеров, поясняющих отдельные элементы диаграммы.\u003C\/p\u003E",
      "text_cut": "Читать далее",
      "text_html": "\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/58b\/2a1\/98f\/58b2a198f6c3331594a79c97dd4ff9a7.png\u0022 width=\u0022756\u0022 height=\u0022646\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Ch2\u003EПредисловие\u003C\/h2\u003E\u003Cp\u003EПарадигма объектно-ориентированного программирования (далее просто ООП) повсеместно используется при создании современного программного обеспечения. Модель объектов, заложенная в данную парадигму, способна достаточно точно описывать свойства и возможности сущностей реального мира. Разумеется, эти объекты не существуют обособленно друг от друга, они взаимодействуют друг с другом для достижения какой-то глобальной цели разрабатываемой системы.\u003C\/p\u003E\u003Cp\u003EСтандартная библиотека некоторого языка программирования – замечательный сборник полезных утилит. Однако разнообразие решаемых программистами задач так велико, что одной только стандартной библиотекой ограничиться не получится. Программисту часто приходится самому создавать необходимый ему набор функциональности. Это можно сделать, создав пакет функций или набор классов.\u003C\/p\u003E\u003Cp\u003EСоздание собственных классов при разработке программы добавляет в проект новый уровень абстракции, который позволяет определить некоторый функционал системы и работать в дальнейшем только с ним. \u003C\/p\u003E\u003Cfigure class=\u0022\u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/9d5\/f5a\/c18\/9d5f5ac18f9932d5b2404bcca162349e.png\u0022 alt=\u0022Чем выше уровень абстракции, которым пользуется программист, тем выше уровень его продуктивности при разработке приложения.\u0022 title=\u0022Чем выше уровень абстракции, которым пользуется программист, тем выше уровень его продуктивности при разработке приложения.\u0022 width=\u0022498\u0022 height=\u0022429\u0022\u003E\u003Cfigcaption\u003EЧем выше уровень абстракции, которым пользуется программист, тем выше уровень его продуктивности при разработке приложения.\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cblockquote\u003E\u003Cp\u003E«Хорошая абстракция превращает практически неподъемную задачу в две, решить которые вполне по силам. Первая из этих задач состоит в определении и реализации абстракции, а вторая - в использовании этих абстракций для решения текущей проблемы.»\u003C\/p\u003E\u003Cp\u003EЭ.С. Таненбаум\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cp\u003EИспользование ООП может существенно упросить жизнь программисту. Это достигается за счёт сокрытия особенностей внутренней реализации классов. Программисту остаётся лишь пользоваться её удобствами. Кажется, что ООП – панацея от всех проблем. Однако на практике, если не иметь чёткого представления о том, какие классы нужно реализовать и как ими потом пользоваться, в результате может получиться очень запутанная система, которая начнёт порождать спагетти-коду (от англ. “spaghetti code”), который будет лишь мешаться, когда вы захотите добавить что-то новое в систему.\u003C\/p\u003E\u003Cp\u003EЧтобы избежать большинства проблем, возникающих при использовании ООП, нужно:\u003C\/p\u003E\u003Col\u003E\u003Cli\u003E\u003Cp\u003EИметь некоторый опыт создания программ и использования классов.    \u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EСтроить структурные диаграммы классов.\u003C\/p\u003E\u003C\/li\u003E\u003C\/ol\u003E\u003Cp\u003EПервое придёт со временем, а со вторым я могу вас познакомить прямо сейчас. Сегодня мы разберём диаграмму классов UML.\u003C\/p\u003E\u003Chr\u003E\u003Ch2\u003EСодержание\u003C\/h2\u003E\u003Col\u003E\u003Cli\u003E\u003Cp\u003E\u003Ca href=\u0022#ClassDiagramPurpose\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003EНазначение диаграммы классов\u003C\/a\u003E\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Ca href=\u0022#ProblemFormulation\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003EПостановка задачи и её анализ\u003C\/a\u003E\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Ca href=\u0022#Class\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003EКласс\u003C\/a\u003E\u003C\/p\u003E\u003Col\u003E\u003Cli\u003E\u003Cp\u003E\u003Ca href=\u0022#StaticClass\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003EСтатический класс\u003C\/a\u003E\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Ca href=\u0022#AbstractClass\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003EАбстрактный класс\u003C\/a\u003E\u003C\/p\u003E\u003C\/li\u003E\u003C\/ol\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Ca href=\u0022#Field\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003EПоля класса\u003C\/a\u003E\u003C\/p\u003E\u003Col\u003E\u003Cli\u003E\u003Cp\u003E\u003Ca href=\u0022#Visibility\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003EУровень видимости\u003C\/a\u003E\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Ca href=\u0022#Identificator\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003EИдентификатор\u003C\/a\u003E\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Ca href=\u0022#Type\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003EТип поля\u003C\/a\u003E\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Ca href=\u0022#Multiplicity\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003EКратность\u003C\/a\u003E\u003C\/p\u003E\u003C\/li\u003E\u003C\/ol\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Ca href=\u0022#Method\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003EМетоды класса\u003C\/a\u003E\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Ca href=\u0022#GraphicClasses\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003EКлассы, отвечающие за графику\u003C\/a\u003E\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Ca href=\u0022#Relationships\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003EВиды отношений\u003C\/a\u003E\u003C\/p\u003E\u003Col\u003E\u003Cli\u003E\u003Cp\u003E\u003Ca href=\u0022#AssociationRelationship\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003EОтношение ассоциации\u003C\/a\u003E\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Ca href=\u0022#DependencyRelationship\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003EОтношение зависимости\u003C\/a\u003E\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Ca href=\u0022#InheritanceRelationship\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003EОтношение наследования\u003C\/a\u003E\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Ca href=\u0022#AggregationRelationship\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003EОтношение агрегации\u003C\/a\u003E\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Ca href=\u0022#CompositionRelationship\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003EОтношение композиции\u003C\/a\u003E\u003C\/p\u003E\u003C\/li\u003E\u003C\/ol\u003E\u003C\/li\u003E\u003C\/ol\u003E\u003Ca class=\u0022anchor\u0022 name=\u0022ClassDiagramPurpose\u0022 id=\u0022ClassDiagramPurpose\u0022\u003E\u003C\/a\u003E\u003Ch2\u003EНазначение диаграммы классов\u003C\/h2\u003E\u003Cp\u003E\u003Cem\u003EДиаграмма классов\u003C\/em\u003E (от англ. \u0022class diagram\u0022) предназначена для представления внутренней структуры программы в виде классов и связей между ними.\u0026nbsp; \u003C\/p\u003E\u003Cp\u003EВсе сущности реального мира, с которыми собирается работать программист, должны быть представлены объектами классов в программе. При этом у каждого класса должно быть только одно назначение и уникально осмысленное имя, которое будет связано с этой целью.\u003C\/p\u003E\u003Cdetails class=\u0022spoiler\u0022\u003E\u003Csummary\u003EВзаимосвязь диаграммы классов с другими диаграммами\u003C\/summary\u003E\u003Cdiv class=\u0022spoiler__content\u0022\u003E\u003Cp\u003EДиаграмма классов UML тесно связана с другими диаграммами, поскольку в них используются экземпляры классов (объекты), описанные на диаграмме классов. Например, на диаграмме кооперации (англ. \u0022cooperation diagram\u0022) показывается структурные связи при взаимодействии объектов, а на диаграмме последовательности (англ. \u0022sequence diagram\u0022) изображается \u003Cu\u003Eпоследовательность\u003C\/u\u003E обмена сообщений между объектами.\u003C\/p\u003E\u003C\/div\u003E\u003C\/details\u003E\u003Ca class=\u0022anchor\u0022 name=\u0022ProblemFormulation\u0022 id=\u0022ProblemFormulation\u0022\u003E\u003C\/a\u003E\u003Ch2\u003EПостановка задачи и её анализ\u003C\/h2\u003E\u003Cp\u003EПредставьте, что мы хотим разработать программу для построения графиков функций.\u0026nbsp; Давайте кратко изобразим основной функционал такой программы на \u003Ca href=\u0022https:\/\/habr.com\/ru\/post\/566218\/\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003Eдиаграмме вариантов использования UML\u003C\/a\u003E: \u003C\/p\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/5f4\/3c4\/c9c\/5f43c4c9c7d862ed26e488de4f7ee018.png\u0022 width=\u00221016\u0022 height=\u0022374\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cdetails class=\u0022spoiler\u0022\u003E\u003Csummary\u003EЗачем нужен вариант использования \u0022построить график функции\u0022\u003C\/summary\u003E\u003Cdiv class=\u0022spoiler__content\u0022\u003E\u003Cp\u003EВ своей программе я сделал ставку на то, что пользователь захочет сначала задать все функции, с которыми он захочет работать, а только после этого строить те, которые ему нужны в данный момент.\u003C\/p\u003E\u003C\/div\u003E\u003C\/details\u003E\u003Cp\u003EРазумеется, мы хотим, чтобы наше приложение обладало графическим интерфейсом. На данном этапе разумно будет разбить задачу построения диаграммы на две части:\u003C\/p\u003E\u003Col\u003E\u003Cli\u003E\u003Cp\u003EПостроить диаграмму для классов, ответственных за работу с пользовательскими математическими функциями.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EПостроить диаграмму для классов, ответственных за корректное отображение графических элементов в программе.\u003C\/p\u003E\u003C\/li\u003E\u003C\/ol\u003E\u003Cdetails class=\u0022spoiler\u0022\u003E\u003Csummary\u003EЗачем плодить множество диаграмм, когда можно сделать одну большую?\u003C\/summary\u003E\u003Cdiv class=\u0022spoiler__content\u0022\u003E\u003Cp\u003EДиаграмма классов строится прежде всего для внесения ясности в будущий процесс разработки системы. На первый взгляд, удобно всё классы построить на одной диаграмме, однако это может вызвать путаницу у читателей диаграммы, так как деталей будет слишком много.\u003C\/p\u003E\u003Cp\u003EБолее правильным подходом станет выделение групп классов под различные задачи. Для каждой такой группы можно будет строить свою диаграмму. Чем меньше программисту нужно знать деталей для работы с какой-то частью программы, тем быстрее он сможет решить задачу.\u003C\/p\u003E\u003Cp\u003EВпоследствии можно построить упрощённую диаграмму для отображения взаимосвязей между классами из разных диаграмм.\u003C\/p\u003E\u003C\/div\u003E\u003C\/details\u003E\u003Cp\u003EКлассы, ответственные за работу с математическими функциями будут предоставлять возможность создавать объекты математических функций и подсчитывать таблицу значений.\u003C\/p\u003E\u003Cp\u003EДавайте определимся с тем, как мы собираемся работать с функциями. Во-первых, договоримся, что мы будем работать не напрямую с функциями, а только с их телами.\u003C\/p\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/fb5\/c91\/5c0\/fb5c915c03e0dfbaae9743e1f7747ce4.png\u0022 width=\u0022795\u0022 height=\u0022244\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cp\u003EИменно поэтому в этой статье мы будем оперировать термином \u003Cem\u003Eматематическое выражение\u003C\/em\u003E, а не термином \u003Cem\u003Eфункция\u003C\/em\u003E. \u003C\/p\u003E\u003Cp\u003EКомпьютер не может оперировать напрямую математическими выражениями, записанными в строке так же просто, как и обычными числами, записанными в коде программы.\u003C\/p\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/4c6\/1ea\/6e7\/4c61ea6e7acac0649f3e19ebf44078e3.png\u0022 width=\u00221138\u0022 height=\u0022210\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cp\u003EПоэтому мы создадим набор классов, которые будут «знать», как работать с такими данными. Упрощённая схема создания математических выражений представлена на рисунке ниже.\u003C\/p\u003E\u003Cfigure class=\u0022\u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/60d\/76f\/a40\/60d76fa4099e84d930ae617526c24bab.png\u0022 width=\u0022324\u0022 height=\u0022706\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cp\u003EДля того чтобы мы могли работать с телом функции, записанным в виде строки, необходимо разбить эту строку на элементарные части. Их чаще всего называют \u003Cem\u003Eлексемами\u003C\/em\u003E (от англ. \u0022lexeme\u0022) или \u003Cem\u003Eтокенами\u003C\/em\u003E (от англ. \u0022token\u0022). В данной статье мы будем использовать термин \u003Cem\u003Eтокен\u003C\/em\u003E. Получить список токенов математического выражения можно, используя \u003Ca href=\u0022https:\/\/ru.wikipedia.org\/wiki\/%D0%90%D0%BB%D0%B3%D0%BE%D1%80%D0%B8%D1%82%D0%BC_%D1%81%D0%BE%D1%80%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%BE%D1%87%D0%BD%D0%BE%D0%B9_%D1%81%D1%82%D0%B0%D0%BD%D1%86%D0%B8%D0%B8\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003E\u003Cem\u003Eалгоритм сортировочной станции\u003C\/em\u003E\u003C\/a\u003E.\u003C\/p\u003E\u003Cp\u003EЗатем из полученного списка токенов мы будем строить \u003Ca href=\u0022https:\/\/ru.wikipedia.org\/wiki\/%D0%9E%D0%B1%D1%80%D0%B0%D1%82%D0%BD%D0%B0%D1%8F_%D0%BF%D0%BE%D0%BB%D1%8C%D1%81%D0%BA%D0%B0%D1%8F_%D0%B7%D0%B0%D0%BF%D0%B8%D1%81%D1%8C\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003Eпостфиксную запись\u003C\/a\u003E выражения.\u003C\/p\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/4e4\/e84\/e90\/4e4e84e90ed64d271aaeaba2e83cb8c3.png\u0022 width=\u00221295\u0022 height=\u0022349\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cp\u003EНа этом этапе математическое выражение мы будем считать обработанным и готовым к работе. Чтобы вычислить значение этого выражения, мы будем подставлять вместе переменной какое-либо действительное значение.\u003C\/p\u003E\u003Cp\u003EДля удобства работы с нашим приложением нужно добавить возможность определения и использования именованных констант. Например, использование распространённых математических констант, таких как π = 3,141592.. или e = 2,71828.. будет очень удобным для пользователей.\u003C\/p\u003E\u003Cp\u003EВ заключение, хочется отметить, что каждое серьёзной программе необходим механизм обработки ошибок. Наша программа не будет исключением. Пользовательские выражения будут проверяться на корректность математической записи.\u003C\/p\u003E\u003Cdetails class=\u0022spoiler\u0022\u003E\u003Csummary\u003EСоглашение об именовании объектов и классов\u003C\/summary\u003E\u003Cdiv class=\u0022spoiler__content\u0022\u003E\u003Cp\u003EНесмотря на то, что данную статью я пишу на русском языке, на диаграммах мы всё будем описывать на английском языке. Для этого есть две причины:\u003C\/p\u003E\u003Col\u003E\u003Cli\u003E\u003Cp\u003EКогда вы начнёте реализовывать классы, описанные на диаграмме, в коде, вы будете давать им название на английском языке. Разные программисты по-разному могут перевести одно и то же слово. Например, класс \u0022МатематическоеВыражение\u0022 некоторые могут перевести как \u0022MathExpression\u0022, другие, исходя из специфика задачи, как \u0022Function\u0022 или просто как \u0022Expression\u0022. Таким образом, когда вы начнёте сопоставлять написанные классы с элементами на диаграмме, вы можете запутаться.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EТехнический английский язык обычно более ёмок, чем русский. Это позволит сократить объём текста на диаграмме.    \u003C\/p\u003E\u003C\/li\u003E\u003C\/ol\u003E\u003C\/div\u003E\u003C\/details\u003E\u003Cp\u003EДавайте подведём итог и выясним, какие классы нам будут нужны для решения поставленной задачи:\u003C\/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003EКласс для хранения математического выражения. Назовём его \u003Cem\u003EMathExpression\u003C\/em\u003E.   \u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E Класс для разбиения строкового представления выражения на список токенов - \u003Cem\u003EMathParser\u003C\/em\u003E.   \u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EКласс для построения постфиксной формы выражения из списка токенов - \u003Cem\u003EMathFormConverter\u003C\/em\u003E.     \u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EКласс для работы с именованными константами - \u003Cem\u003EMathConstantManager\u003C\/em\u003E.     \u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EКласс для проверки корректности пользовательского математического выражения - \u003Cem\u003EMathChecker\u003C\/em\u003E.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EКласс для подсчёта таблицы значений математического выражения - \u003Cem\u003EMathCalculator\u003C\/em\u003E.        \u003C\/p\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003Cdetails class=\u0022spoiler\u0022\u003E\u003Csummary\u003EПочему все имена классов имеют префикс Math?*\u003C\/summary\u003E\u003Cdiv class=\u0022spoiler__content\u0022\u003E\u003Cp\u003EКогда я разрабатывал это приложения, я решил, что некоторый функционал системы можно повторно использовать в других проектах. Следовательно, было бы полезно выделить эти функции в отдельную библиотеку. Чтобы подчеркнуть, что этот набор функций взаимосвязан, я и добавил в их имена префикс \u003Cem\u003EMath.\u003C\/em\u003E\u003C\/p\u003E\u003Cp\u003EБолее правильным решением было бы вынести все эти классы в пространство имён \u003Cem\u003EMath\u003C\/em\u003E и убрать префикс из имён. Однако продолжим работать с нашим Legacy-кодом.\u003C\/p\u003E\u003C\/div\u003E\u003C\/details\u003E\u003Ca class=\u0022anchor\u0022 name=\u0022Class\u0022 id=\u0022Class\u0022\u003E\u003C\/a\u003E\u003Ch2\u003EКласс\u003C\/h2\u003E\u003Cp\u003E\u003Cem\u003EКласс\u003C\/em\u003E - элемент диаграммы, обозначающий множество объектов, обладающих одинаковой внутренней структурой, поведением и отношениями с объектами других классов. Изображается класс на диаграмме в виде прямоугольника, разделённого на три секции:\u003C\/p\u003E\u003Col\u003E\u003Cli\u003E\u003Cp\u003EИмя класса\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EСписок полей класса\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EСписок методов класса\u003C\/p\u003E\u003C\/li\u003E\u003C\/ol\u003E\u003Cdetails class=\u0022spoiler\u0022\u003E\u003Csummary\u003EВыбор терминологии\u003C\/summary\u003E\u003Cdiv class=\u0022spoiler__content\u0022\u003E\u003Cp\u003EВ различной технической литературе вы можете встретить альтернативные названия для этих терминов:\u003C\/p\u003E\u003Col\u003E\u003Cli\u003E\u003Cp\u003EПоля (от англ. “field”) \u0026lt;=\u0026gt; свойства (от англ. “properties”), атрибуты (от англ. “attributes”)\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EМетоды (от англ. “method”) \u0026lt;=\u0026gt; функции (от англ. “functions”), операции (от англ. “operations”)\u003C\/p\u003E\u003C\/li\u003E\u003C\/ol\u003E\u003Cp\u003EВ данной статье мы будем использовать термины \u003Cem\u003Eполе\u003C\/em\u003E для внутренних переменных класса и \u003Cem\u003Eметод\u003C\/em\u003E для функций, которые являются частью класса. Тем не менее, имейте в виду, что в разных источниках могут встречаться другие термины, обозначающие то же самое.\u003C\/p\u003E\u003C\/div\u003E\u003C\/details\u003E\u003Cfigure class=\u0022\u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/49c\/63d\/97c\/49c63d97c8ea1a31aede1a06e8d04deb.png\u0022 alt=\u0022Обязательным элементом класса является только его название.\u0022 title=\u0022Обязательным элементом класса является только его название.\u0022 width=\u0022497\u0022 height=\u0022273\u0022\u003E\u003Cfigcaption\u003EОбязательным элементом класса является только его название.\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cblockquote\u003E\u003Cp\u003EОранжевым цветом мы будем выделять обязательные части элементов.\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/2c2\/d5a\/8dc\/2c2d5a8dc03e3249c0b2f51ee57a8fb5.png\u0022 alt=\u0022Пример класса \u0026quot;Покупатель\u0026quot;. У покупателя есть баланс (balance) денег и список желаемого (wishList). Пользователь может пополнять баланс на некоторую сумму денег (topUpBalance()), может совершать покупки (makePurchase()) и может добавлять товары в список желаемого (appendToWishList()). Также мы можем проверить, подтверждена ли электронная почта пользователя.\u0022 title=\u0022Пример класса \u0026quot;Покупатель\u0026quot;. У покупателя есть баланс (balance) денег и список желаемого (wishList). Пользователь может пополнять баланс на некоторую сумму денег (topUpBalance()), может совершать покупки (makePurchase()) и может добавлять товары в список желаемого (appendToWishList()). Также мы можем проверить, подтверждена ли электронная почта пользователя.\u0022 width=\u0022931\u0022 height=\u0022307\u0022\u003E\u003Cfigcaption\u003EПример класса \u0022Покупатель\u0022. У покупателя есть баланс (balance) денег и список желаемого (wishList). Пользователь может пополнять баланс на некоторую сумму денег (topUpBalance()), может совершать покупки (makePurchase()) и может добавлять товары в список желаемого (appendToWishList()). Также мы можем проверить, подтверждена ли электронная почта пользователя.\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cp\u003EОбычно в качестве имени класса выбирается существительное в единственном числе. Разумеется, это имя должно быть уникальным в пределах диаграммы. Если имя класса состоит из нескольких слов, мы ,по практическим соображениям, будем записывать их слитно в верблюжьем стиле (от англ. \u0022CamelCase\u0022).\u003C\/p\u003E\u003Cdetails class=\u0022spoiler\u0022\u003E\u003Csummary\u003EРекомендация по именованию классов\u003C\/summary\u003E\u003Cdiv class=\u0022spoiler__content\u0022\u003E\u003Cp\u003EОпределение класса схоже с определением актёра в том смысле, что оба эти элемента обозначают \u003Cstrong\u003Eгруппу\u003C\/strong\u003E объектов и пользователей соответственно. В связи с этим оба эти элемента должны именоваться существительным в единственном числе.\u003C\/p\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/629\/62c\/3ca\/62962c3ca5847f1053a5fc53b588d945.png\u0022 width=\u0022753\u0022 height=\u0022110\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003C\/div\u003E\u003C\/details\u003E\u003Cp\u003EНастало время изобразить наши классы на диаграмме. Пока что давайте изобразим только имена этих классов. \u003C\/p\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/736\/2e4\/c0b\/7362e4c0ba26d75e1f4c92e622944ac9.png\u0022 alt=\u0022Первая версия диаграмма классов, которые отвечают за работу\nс математическими выражениями.\u0022 title=\u0022Первая версия диаграмма классов, которые отвечают за работу\nс математическими выражениями.\u0022 width=\u0022935\u0022 height=\u0022539\u0022\u003E\u003Cfigcaption\u003EПервая версия диаграмма классов, которые отвечают за работу\nс математическими выражениями.\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cp\u003EПока что эта диаграмма не даёт никакого понимания того, как будет устроена наша система, однако к концу статьи диаграмма значительно преобразится.\u003C\/p\u003E\u003Ca class=\u0022anchor\u0022 name=\u0022StaticClass\u0022 id=\u0022StaticClass\u0022\u003E\u003C\/a\u003E\u003Ch3\u003EСтатический класс\u003C\/h3\u003E\u003Cp\u003EКласс, в котором есть только статические поля и методы и на основе которого не создаются объекты,\u0026nbsp; называется статическим классом. Чтобы показать на диаграмме, что наш класс статический, нужно добавить к имени модификатор «utility».\u003C\/p\u003E\u003Cblockquote\u003E\u003Cp\u003EФормально, такие модификаторы называется \u003Cem\u003Eстереотипами\u003C\/em\u003E. Стереотип – именованный набор свойств. В данном случае, стереотип «utility» означает, что объекты указанного класса не создаются.\u003C\/p\u003E\u003Cp\u003EПо сути, название модификатора «utility» связано с тем, статический класс предоставляет набор утилит, которые могут быть использованы любыми классами, которые в них нуждаются.\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cp\u003EВ нашей системе классы \u003Cem\u003EMathParser\u003C\/em\u003E, \u003Cem\u003EMathFormConverter\u003C\/em\u003E, \u003Cem\u003EMathConstantManager\u003C\/em\u003E являются статическими, потому что они представляют собой «сборник» полезных функций, которые мы объединили в класс. Давайте изобразим это на нашей диаграмме.\u003C\/p\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/21a\/f57\/919\/21af57919aef599cd6efe93332843068.png\u0022 alt=\u00222 версия диаграммы\u0022 title=\u00222 версия диаграммы\u0022 width=\u00221117\u0022 height=\u0022517\u0022\u003E\u003Cfigcaption\u003E2 версия диаграммы\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Ca class=\u0022anchor\u0022 name=\u0022AbstractClass\u0022 id=\u0022AbstractClass\u0022\u003E\u003C\/a\u003E\u003Ch3\u003EАбстрактный класс\u003C\/h3\u003E\u003Cp\u003EКласс, который является базовым для других классов и объекты которого мы не собираемся создавать, называют \u003Cem\u003Eабстрактным.\u003C\/em\u003E Абстрактный класс на диаграмме изображается так же, как и обычной класс, однако имя такого класса должно быть записано курсивом.\u003C\/p\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/aab\/980\/b10\/aab980b105608bb58da4ace05cc90728.png\u0022 width=\u0022764\u0022 height=\u0022490\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cblockquote\u003E\u003Cp\u003EВ UML принято соглашение, согласно которому все элементы, относящиеся к абстрактному классу, должны быть помечены курсивом (жирный шрифт при этом сохраняется).\u003C\/p\u003E\u003C\/blockquote\u003E\u003Ca class=\u0022anchor\u0022 name=\u0022Field\u0022 id=\u0022Field\u0022\u003E\u003C\/a\u003E\u003Ch2\u003EПоля класса\u003C\/h2\u003E\u003Cp\u003EВернёмся к нашему примеру с классом Customer. Обратите внимание на центральную секцию.\u003C\/p\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/3b3\/2f7\/f2f\/3b32f7f2f2312a306274c3b2b289aee2.png\u0022 width=\u00221077\u0022 height=\u0022345\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cp\u003EДавайте рассмотрим первую строчку. Что вообще означает запись \u0022- balance: Integer\u0022? Сейчас будем разбираться. \u003C\/p\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/0b8\/8ec\/246\/0b88ec246e1c34dd84005124d2b01e3d.png\u0022 width=\u00221173\u0022 height=\u0022452\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cp\u003EВ общем случае, каждое поле класса должно описываться следующим образом: \u003C\/p\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/785\/603\/86a\/78560386aea4db4607239094fef1b143.png\u0022 alt=\u0022Общий вид поля класса\u0022 title=\u0022Общий вид поля класса\u0022 width=\u00221341\u0022 height=\u0022103\u0022\u003E\u003Cfigcaption\u003EОбщий вид поля класса\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cblockquote\u003E\u003Cp\u003EНами в данной статье не будет рассмотрено использование свойств в полях класса, поскольку это достаточно специфичная тема.\u003C\/p\u003E\u003C\/blockquote\u003E\u003Ca class=\u0022anchor\u0022 name=\u0022Visibility\u0022 id=\u0022Visibility\u0022\u003E\u003C\/a\u003E\u003Ch3\u003EУровень видимости\u003C\/h3\u003E\u003Cp\u003E\u003Cem\u003EУровень видимости\u003C\/em\u003E (от англ. \u0022visibility\u0022) - свойство поля, которое показывает, из какой части программы можно обратиться к данному полю.\u003C\/p\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/999\/714\/25e\/99971425e22e94e9f6a970dc26dedf61.png\u0022 alt=\u0022В нашем случае, поле balance - закрытое\u0022 title=\u0022В нашем случае, поле balance - закрытое\u0022 width=\u0022699\u0022 height=\u0022347\u0022\u003E\u003Cfigcaption\u003EВ нашем случае, поле balance - закрытое\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cp\u003EОбычно может принимать следующие значения:\u003C\/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003E\u0022+\u0022 - открытое поле. Аналог \u003Cem\u003Epublic\u003C\/em\u003E в языках программирования. Означает, что к полю можно обратиться из любой части программы.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E\u0022-\u0022 - закрытое поле. Аналог \u003Cem\u003Eprivate\u003C\/em\u003E в языках программирования. Означает, что получить доступ к полю можно только внутри класса. \u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E\u0022#\u0022 - защищённое поле. Аналог \u003Cem\u003Eprotected\u003C\/em\u003E в языках программирования. Означает, что получить доступ к полю можно внутри класса и внутри производных классов.    \u003C\/p\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003Cp\u003EМожет показаться, что как-то неудобно для каждого поля указывать его уровень видимости. Почему бы не группировать поля по уровню видимости? Например, именно такой подход используется в языке программирования C++. Давайте попробуем напрямую использовать ключевые слова \u003Cem\u003Epublic\u003C\/em\u003E, \u003Cem\u003Eprivate\u003C\/em\u003E и \u003Cem\u003Eprotected\u003C\/em\u003E.\u003C\/p\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/843\/158\/5e7\/8431585e73172397838f481cfef10da9.png\u0022 width=\u0022886\u0022 height=\u0022466\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cp\u003EНесмотря на удобство такого подхода, мы будем указывать уровень видимости для каждого элемента. \u003C\/p\u003E\u003Cdetails class=\u0022spoiler\u0022\u003E\u003Csummary\u003EА что будет, если не указывать уровень видимости вовсе?*\u003C\/summary\u003E\u003Cdiv class=\u0022spoiler__content\u0022\u003E\u003Cp\u003EВ некоторых языках программирования, к примеру, в C++ или C# отсутствие уровня видимости поля или метода по умолчанию означает, что такой элемент считается закрытым. Тем не менее, обычно уровень видимости указывается для каждого поля, чтобы код становился более читабельным.\u003C\/p\u003E\u003Cp\u003EВ UML, если уровень видимости не указан, то никакого значения по умолчанию не подразумевается. Таким образом, в данной статье мы всегда будем указывать уровень видимости для наших элементов.\u003C\/p\u003E\u003C\/div\u003E\u003C\/details\u003E\u003Ca class=\u0022anchor\u0022 name=\u0022Identificator\u0022 id=\u0022Identificator\u0022\u003E\u003C\/a\u003E\u003Ch3\u003EИдентификатор\u003C\/h3\u003E\u003Cp\u003E\u003Cem\u003EИдентификатор\u003C\/em\u003E (от англ. \u0022identificator\u0022)\u003Cem\u003E \u003C\/em\u003E- название поля. Является обязательным элементом для описания переменной на диаграмме классов, поскольку однозначно её определяет (все идентификаторы на диаграммах уникальны).\u003C\/p\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/730\/2c3\/069\/7302c30699c7a738d26f75884f1f6613.png\u0022 width=\u00221181\u0022 height=\u0022712\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Ca class=\u0022anchor\u0022 name=\u0022Type\u0022 id=\u0022Type\u0022\u003E\u003C\/a\u003E\u003Ch3\u003EТип поля\u003C\/h3\u003E\u003Cp\u003E\u003Cem\u003EТип поля\u003C\/em\u003E (англ. \u0022type of field\u0022) показывает, какой тип имеет данное поле в нашей программе. На ранней стадии проектирования можно и не уточнять, какой тип имеет то или иное поле.\u003C\/p\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/ce5\/986\/65d\/ce598665da5fa0bfeff81ae43197b89a.png\u0022 width=\u00221113\u0022 height=\u0022461\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cp\u003EТипы полей обычно привязаны к какому-то конкретному языку программирования, например. Кроме того, в качестве типа поля может быть использован пользовательский тип данных.\u003C\/p\u003E\u003Ca class=\u0022anchor\u0022 name=\u0022Multiplicity\u0022 id=\u0022Multiplicity\u0022\u003E\u003C\/a\u003E\u003Ch3\u003EКратность\u003C\/h3\u003E\u003Cp\u003E\u003Cem\u003EКратность\u003C\/em\u003E (от англ. \u0022multiplicity\u0022) – интервал, определяющий диапазон количества элементов в массиве. Если для поля указана кратность, то его следует считать массивом. Количество элементов в таком массиве и будет определяться указанным интервалом.\u003C\/p\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/7da\/672\/c56\/7da672c56979fbdb0361f890e3de70cc.png\u0022 alt=\u0022Список желаемого - это массив, который может либо быть пустым, либо может хранить неограниченное число товаров.\u0022 title=\u0022Список желаемого - это массив, который может либо быть пустым, либо может хранить неограниченное число товаров.\u0022 width=\u0022972\u0022 height=\u0022375\u0022\u003E\u003Cfigcaption\u003EСписок желаемого - это массив, который может либо быть пустым, либо может хранить неограниченное число товаров.\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cdetails class=\u0022spoiler\u0022\u003E\u003Csummary\u003EПояснение к использованию кратности\u003C\/summary\u003E\u003Cdiv class=\u0022spoiler__content\u0022\u003E\u003Cblockquote\u003E\u003Cp\u003E\u003Cem\u003EMultiplicity\u003C\/em\u003E\u0026nbsp;is a definition of an inclusive interval of non-negative integers to specify the allowable number of instances of described element.\u003C\/p\u003E\u003Cp\u003EКратность определяет отрезок с неотрицательными целочисленными границами, который показывает допустимое количество объектов определённого типа.    \u003C\/p\u003E\u003C\/blockquote\u003E\u003Cblockquote\u003E\u003Cp\u003E“Кратность, если она присутствует, определяет данный атрибут как массив (определенной или неопределенной длины).” \u003C\/p\u003E\u003Cp\u003EУчебно-методическое пособие по дисциплине «Анализ и проектирование на UML». ИТМО.\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cp\u003EТем не менее, использование кратность уходит на второй план, поскольку в современных системах используют более сложные коллекции - списки, очереди, деревья.\u003C\/p\u003E\u003C\/div\u003E\u003C\/details\u003E\u003Cp\u003EДля кратности указывают одно или два значения:\u003C\/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003E[m..n] - интервал от m до n включительно (m \u0026lt;= n). Такая запись будет означать, что в коллекции может храниться от m до n значений включительно.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E[n] – интервал, который можно рассматривать, как сокращённую запись [0..n]. \u003C\/p\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003Cp\u003EМожет случиться так, что мы захотим показать, что в массиве может храниться неограниченное количество элементов. В таком случае верхняя граница \u003Cem\u003En\u003C\/em\u003E заменяется символом *.\u003C\/p\u003E\u003Cp\u003EПримеры интервалов: \u003C\/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003E[1] - ровно один объект. То же самое, что и интервал [1..1]\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E[0..1] - ноль или один объект.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E[0..*] - ноль или неограниченное количество объектов. Часто такой интервал обозначают просто как [*].\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E[1..*] - один или неограниченное количество объектов. \u003C\/p\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003Cblockquote\u003E\u003Cp\u003EНаиболее часто используют кратность [0..*] или [1..*]. Можно заметить, что динамические структуры данных вообще очень удобны в использовании. В нашей статье мы откажемся от использования кратности, а будем использовать такие коллекции: связный список (List) и ассоциативный массив (Map).\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cp\u003EС использованием кратности мы ещё столкнёмся, когда будем знакомиться с различными типами отношений. Теперь, когда мы немного познакомились с правилами описания полей классов, давайте опишем некоторые поля для классов нашего проекта.\u003C\/p\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/0fa\/49c\/180\/0fa49c18007f4d533e894278a3791722.png\u0022 alt=\u00223 версия диаграммы\u0022 title=\u00223 версия диаграммы\u0022 width=\u0022938\u0022 height=\u0022573\u0022\u003E\u003Cfigcaption\u003E3 версия диаграммы\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cblockquote\u003E\u003Cp\u003EЧтобы отличать статические элементы класса от обычных, статические поля и методы будут подчёркиваться.\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cdetails class=\u0022spoiler\u0022\u003E\u003Csummary\u003EНазначение каждого поля построенных классов\u003C\/summary\u003E\u003Cdiv class=\u0022spoiler__content\u0022\u003E\u003Cp\u003EДиаграмма классов UML хорошо показывает отношения между классами, однако она не может многого сказать о назначении полей и методов в классах. Если вы хотите лучше понять, для чего нужно каждое поле на диаграмме, прочтите об этом ниже. \u003C\/p\u003E\u003Cp\u003EКласс  \u003Cem\u003EMathExpression\u003C\/em\u003E:\u003C\/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003Einitial – строковое математическое выражение, записанное в \u003Ca href=\u0022https:\/\/ru.wikipedia.org\/wiki\/%D0%98%D0%BD%D1%84%D0%B8%D0%BA%D1%81%D0%BD%D0%B0%D1%8F_%D0%B7%D0%B0%D0%BF%D0%B8%D1%81%D1%8C\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003Eинфиксной форме\u003C\/a\u003E.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003Epostfix – строковое математическое выражение, записанное в постфиксной форме.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003Eparameters – параметры в математическом выражении. Всего параметров четыре: a, b, c, d. У каждого параметра могут быть произвольные действительные значения. Значения параметров хранятся в ассоциативном массиве.    \u003C\/p\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003Cp\u003EКласс \u003Cem\u003EMathParser\u003C\/em\u003E:\u003C\/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003Edelimiters - список разделителей. С помощью этих разделителей удаётся простым образом разбить входное выражение на список токенов.\u003C\/p\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003Cp\u003EКласс \u003Cem\u003EMathFormConverter\u003C\/em\u003E:\u003C\/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003Eprecedence - ассоциированный массив, хранящий приоритет каждой операции\/функции. Это необходимо для перевода выражения из инфиксной формы в постфиксную.\u003C\/p\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003Cp\u003EКласс \u003Cem\u003EMathConstantManager\u003C\/em\u003E:\u003C\/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003EuserDefinedConstants - ассоциированный массив, хранящий значения определённых пользователем констант.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EpredefinedConstants - ассоциированный массив, хранящий значения предопределённых констант.\u003C\/p\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003Cp\u003EКласс \u003Cem\u003EMathChecker\u003C\/em\u003E:\u003C\/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003EuserExpression - строковое представление пользовательского математического выражения, которое будет проверяться.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EerrorPlace - участок строки, в котором содержится ошибка (например, неизвестный системе токен).\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EerrorType - тип ошибки.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003Eoperations - список корректных операций.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003Efunctions - список корректных функций.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EoperandQuantity - ассоциированный массив, хранящий количество аргументов для каждой операции\/функции.\u003C\/p\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003Cp\u003EКласс \u003Cem\u003EMathCalculator\u003C\/em\u003E:\u003C\/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003Eexpression - объект математического выражения, значения которого будут подсчитываться.\u003C\/p\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003Cp\u003EАналогичное примечание будет сделано и для методов классов.\u003C\/p\u003E\u003C\/div\u003E\u003C\/details\u003E\u003Ca class=\u0022anchor\u0022 name=\u0022Method\u0022 id=\u0022Method\u0022\u003E\u003C\/a\u003E\u003Ch2\u003EМетоды класса\u003C\/h2\u003E\u003Cp\u003EСнова разберём наш пример с классом Customer. На этот раз обратим внимание на третью секцию - секцию методов.\u003C\/p\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/dc4\/d79\/e41\/dc4d79e411102d93db480483aa61b533.png\u0022 width=\u00221104\u0022 height=\u0022342\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cp\u003EОписание методов очень похоже на описание полей класса. На рисунке ниже представлен общий вид описания метода класса.\u003C\/p\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/9a9\/600\/be2\/9a9600be2419188a3256cf2feb2ee335.png\u0022 width=\u00221282\u0022 height=\u0022117\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/c11\/709\/97a\/c1170997a6ad07fe26f9bbcb0f6edb5b.png\u0022 width=\u00221134\u0022 height=\u0022502\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cp\u003EАргументы методов в общем случае описываются следующим образом:\u003C\/p\u003E\u003Cfigure class=\u0022\u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/35c\/11c\/539\/35c11c539081692e2a0c143e9d7d3b0f.png\u0022 width=\u0022480\u0022 height=\u0022123\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/c8b\/4a7\/0b8\/c8b4a70b8bc633a2148e51fd3b4fc52a.png\u0022 alt=\u0022В случае, если у метода есть несколько аргументов, они указываются в скобках через запятую\nв указанном формате.\u0022 title=\u0022В случае, если у метода есть несколько аргументов, они указываются в скобках через запятую\nв указанном формате.\u0022 width=\u0022800\u0022 height=\u0022200\u0022\u003E\u003Cfigcaption\u003EВ случае, если у метода есть несколько аргументов, они указываются в скобках через запятую\nв указанном формате.\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cp\u003EТеперь давайте добавим на нашу основную диаграмму\u0026nbsp; методы классов.\u003C\/p\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/6a2\/660\/5ea\/6a26605ea248e56a6799c0d52d92548b.png\u0022 width=\u0022924\u0022 height=\u0022715\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cdetails class=\u0022spoiler\u0022\u003E\u003Csummary\u003EНазначение каждого метода построенных классов\u003C\/summary\u003E\u003Cdiv class=\u0022spoiler__content\u0022\u003E\u003Cp\u003EКласс \u003Cem\u003EMathExpression\u003C\/em\u003E:\u003C\/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003EsetParameter(parameter, value) - устанавливает параметру parameter значение value.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EsetExpression(expression) - устанавливает новое тело функции математического выражения.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EgetStringRepresentation() - возвращает тело функции.\u003C\/p\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003Cp\u003EКласс \u003Cem\u003EMathParser\u003C\/em\u003E:\u003C\/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003ECreateTokenList(expression) - разбивает математическое выражение на список токенов и возвращает его в виде списка строк.\u003C\/p\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003Cp\u003EКласс \u003Cem\u003EMathFormConverter\u003C\/em\u003E:\u003C\/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003EInfixToPostfix(infixExpression) - переводит математическое выражение в постфиксную форму.\u003C\/p\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003Cp\u003EКласс \u003Cem\u003EMathConstantManager\u003C\/em\u003E:\u003C\/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003EaddConstant(constant, value) - добавляет в систему новую пользовательскую константу.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EalterConstant(constant, newValue) - изменяет значение пользовательской константы constant на newValue.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EdeleteConstant(constant) - удаляет пользовательскую константу constant.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EgetConstantValue(constant) - возвращает значение пользовательской константы constant.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EisConstant(token) - проверяет, является ли token константой.\u003C\/p\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003Cp\u003EКласс \u003Cem\u003EMathChecker\u003C\/em\u003E:\u003C\/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003EareAllTokensCorrect() - проверяет все токены математического выражения на корректность.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EareBracketsCorrespond() - проверяет все ли скобки расставлены правильно.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EhasEmptyBrackets() - проверяет, есть ли в выражении пустые скобки\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EhasMissedOperations() - проверяет, есть ли в выражении пропущенные операции. Например, для отслеживания случаев \u002218 354\u0022 - между числами пропущена операция.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EIsOperation(token) - проверяет, является ли токен корректной операцией.\u003C\/p\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003Cp\u003EКласс \u003Cem\u003EMathCalculator\u003C\/em\u003E:\u003C\/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003Ecalculate(value) -  подсчитывает значение математического выражения, когда значение переменной равно value\u003C\/p\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003C\/div\u003E\u003C\/details\u003E\u003Ca class=\u0022anchor\u0022 name=\u0022GraphicClasses\u0022 id=\u0022GraphicClasses\u0022\u003E\u003C\/a\u003E\u003Ch2\u003EКлассы, отвечающие за графику\u003C\/h2\u003E\u003Cp\u003EПомните, мы в начале статьи договорились, что у нас будет две диаграммы: одна для классов, отвечающих за работу с функциями, другая – для классов, отвечающих за графику? Настало время построить вторую диаграмму. Результат представлен на картинке ниже.\u003C\/p\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/a8e\/cef\/72c\/a8ecef72c74894922be9c5ceed5d6656.png\u0022 width=\u00221316\u0022 height=\u0022709\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cdetails class=\u0022spoiler\u0022\u003E\u003Csummary\u003EСлишком много непонятных классов\u003C\/summary\u003E\u003Cdiv class=\u0022spoiler__content\u0022\u003E\u003Cp\u003EДавайте вместе разбираться в этой куче классов:\u003C\/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003E\u003Cem\u003EQWidget\u003C\/em\u003E – стандартный класс фреймфорка Qt, который является базовым почти для всех создаваемых виджетов (графических элементов). В нашем проекте все элементы созданы на основе этого класса.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cem\u003EQDialog\u003C\/em\u003E – стандартный класс для создания диалоговых окон.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cem\u003EAboutProgramDialog\u003C\/em\u003E – окно информации о программе. Такое окно есть почти в каждой программе. В нём находится краткое описание проекта, его авторы и, возможно, информация о лицензировании.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cem\u003EHelpDialog\u003C\/em\u003E – окно справочной информации. В больших системах справочник просто необходим.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cem\u003EMainWindow\u003C\/em\u003E – главное окно программы «Построитель графиков функций». В нём содержатся основные элементы программы: плоскость для построения графиков (\u003Cem\u003EPaintingArea\u003C\/em\u003E), список блоков ввода функций (\u003Cem\u003EFunctionBoxList\u003C\/em\u003E), список блоков ввода констант (\u003Cem\u003EConstantBoxList\u003C\/em\u003E). \u003C\/p\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/ac1\/088\/cbe\/ac1088cbe112d42a7e4ff74e4410485d.png\u0022 width=\u0022932\u0022 height=\u0022474\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003E\u003Cem\u003EPaintingArea\u003C\/em\u003E – плоскость для построения графиков. Пользователь может захотеть нарисовать графики некоторых определённых им функций. За отображения этих графиков и отвечает данный класс.\u003C\/p\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/a94\/92c\/2e3\/a9492c2e33be4f1411fb95e4c10cf221.png\u0022 alt=\u0022Координатная плоскость для построения графиков. Является объектом класса PaintingArea. В качестве примера, на координатной плоскости построен график функции y=sin(x)\u0022 title=\u0022Координатная плоскость для построения графиков. Является объектом класса PaintingArea. В качестве примера, на координатной плоскости построен график функции y=sin(x)\u0022 width=\u0022915\u0022 height=\u0022775\u0022\u003E\u003Cfigcaption\u003EКоординатная плоскость для построения графиков. Является объектом класса PaintingArea. В качестве примера, на координатной плоскости построен график функции y=sin(x)\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003E\u003Cem\u003EGraph\u003C\/em\u003E – график функции на координатной плоскости. Пример объекта класса Graph представлен на рисунке выше. \u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cem\u003EFunctionBox\u003C\/em\u003E – блок ввода функции. Представлен на рисунке ниже.\u003C\/p\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/934\/784\/d74\/934784d743eb796c516deaf8b5b75d0d.png\u0022 width=\u00221025\u0022 height=\u0022417\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003E\u003Cem\u003EFunctionBoxList\u003C\/em\u003E – список блоков ввода функций.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cem\u003EConstantBox\u003C\/em\u003E – блок ввода константы. Представлен на рисунке ниже.\u003C\/p\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/22b\/ca5\/7f3\/22bca57f365d9833d12da10ad4aac0c1.png\u0022 width=\u0022792\u0022 height=\u0022329\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003E\u003Cem\u003EConstantBoxList\u003C\/em\u003E – список блоков ввода констант.\u003C\/p\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003C\/div\u003E\u003C\/details\u003E\u003Ca class=\u0022anchor\u0022 name=\u0022Relationships\u0022 id=\u0022Relationships\u0022\u003E\u003C\/a\u003E\u003Ch2\u003EВиды отношений\u003C\/h2\u003E\u003Cp\u003EДавайте начнём рассматривать различные отношения между классами на диаграмме. Нами будут рассмотрены следующие соединительные линии:\u003C\/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003EОтношение ассоциации\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EОтношение зависимости\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EОтношение обобщения, также известное как отношение наследования.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EОтношение агрегации\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EОтношение композиции\u003C\/p\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003Cp\u003EОбозначение каждого вида отношения представлено на рисунке ниже. Далее мы начнём рассматривать каждое отношение в подробностях.\u003C\/p\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/938\/9b4\/f34\/9389b4f345a509db1a2fd9131590ad7c.png\u0022 alt=\u0022Рассматриваемые нами виды отношений\u0022 title=\u0022Рассматриваемые нами виды отношений\u0022 width=\u0022718\u0022 height=\u0022446\u0022\u003E\u003Cfigcaption\u003EРассматриваемые нами виды отношений\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Ca class=\u0022anchor\u0022 name=\u0022AssociationRelationship\u0022 id=\u0022AssociationRelationship\u0022\u003E\u003C\/a\u003E\u003Ch3\u003EОтношение ассоциации\u003C\/h3\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/1eb\/4b7\/ff9\/1eb4b7ff9ff016677a1cd4ef6644f34f.png\u0022 width=\u00221198\u0022 height=\u0022122\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cp\u003EОтношение ассоциации используют, чтобы показать, что между классами (например, между двумя классами) существует некоторая связь. Обычно с помощью него на диаграмме классов показывают, что один класс пользуется функционалом другого класса. \u003C\/p\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/455\/3e0\/bcc\/4553e0bcc78c1ae32deb06b0801385cb.png\u0022 alt=\u0022Методы класса LogSystem используют метод Console::WriteLine() и, возможно, некоторые \nдругие  для вывода результатов.\u0022 title=\u0022Методы класса LogSystem используют метод Console::WriteLine() и, возможно, некоторые \nдругие  для вывода результатов.\u0022 width=\u0022944\u0022 height=\u0022155\u0022\u003E\u003Cfigcaption\u003EМетоды класса LogSystem используют метод Console::WriteLine() и, возможно, некоторые \nдругие  для вывода результатов.\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cp\u003EВ общем случае, использование отношения ассоциации выглядит следующим образом:\u003C\/p\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/a4f\/e50\/9db\/a4fe509db3cfa6ab1c7fc15bfc71aca0.png\u0022 width=\u00221394\u0022 height=\u0022434\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cp\u003EКак вы можете заметить, стрелка ассоциации направлена от класса \u003Cem\u003Eпользователя\u003C\/em\u003E к классу \u003Cem\u003Eвладельцу\u003C\/em\u003E используемой функциональности. Для пояснения того, каким образом один класс использует другой класс, вы можете описать данный процесс в \u003Cem\u003Eвспомогательном тексте\u003C\/em\u003E. \u003C\/p\u003E\u003Cp\u003EОбратите внимание на \u003Cem\u003Eкратность ассоциации, \u003C\/em\u003Eкоторая расположена под стрелкой. С кратностью мы уже встречались ранее. Здесь у нее несколько иное значение. Кратность ассоциации обозначает количество объектов, которые участвуют во взаимодействии. Как показано на рисунке выше, во взаимодействии могут участвовать от m до n пользователей и от q до r владельцев.\u003C\/p\u003E\u003Cp\u003E     \u003C\/p\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/6fa\/b41\/968\/6fab41968a133e6d9ae80b05cba49ea5.png\u0022 alt=\u0022Клиенты могут подключаться к серверу. С помощью кратности ассоциации указывается допустимое количество объектов в таком взаимодействии.\u0022 title=\u0022Клиенты могут подключаться к серверу. С помощью кратности ассоциации указывается допустимое количество объектов в таком взаимодействии.\u0022 width=\u0022889\u0022 height=\u0022201\u0022\u003E\u003Cfigcaption\u003EКлиенты могут подключаться к серверу. С помощью кратности ассоциации указывается допустимое количество объектов в таком взаимодействии.\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cblockquote\u003E\u003Cp\u003EЕсли кратность ассоциации не указана, будет подразумеваться кратность [0..*]. В случае со статическими классами кратность не указывается (можно считать, что там указана кратность [1].\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cp\u003EИзбегайте использования отношения ассоциации в обе стороны, как это показано на рисунке ниже. Такое взаимодействие классов можно считать ярким примером спагетти-кода. В случае ошибки очень сложно будет обнаружить, что послужило ей причиной.\u003C\/p\u003E\u003Cp\u003E     \u003C\/p\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/290\/2b8\/feb\/2902b8feb8bc561ac12ff3c4fd710267.png\u0022 width=\u0022796\u0022 height=\u0022233\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cdetails class=\u0022spoiler\u0022\u003E\u003Csummary\u003EОбозначение отношения ассоциации\u003C\/summary\u003E\u003Cdiv class=\u0022spoiler__content\u0022\u003E\u003Cp\u003EСтрого говоря, отношение ассоциации изображают сплошной линией без стрелок. Например, на различных сайтах вы, скорее всего, могли видеть следующие примеры.\u003C\/p\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/d41\/666\/524\/d41666524fdc0ae45d08490e034fad3a.png\u0022 width=\u0022923\u0022 height=\u0022298\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cp\u003EВ таких стандартных примерах очевидно, что студент учится у преподавателей и что работник работает на компанию, и никак иначе. Однако людям, которые только начинают знакомиться с вашей программой, необходимо понимать, в какую сторону направлена стрелка. Таким образом, возникает потребность в использовании именно направленного отношения ассоциации. В дальнейшем мы будем обозначать ассоциацию сплошной линией со стрелкой.\u003C\/p\u003E\u003C\/div\u003E\u003C\/details\u003E\u003Cp\u003EДавайте добавим отношения ассоциации на наши диаграммы.\u003C\/p\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/4ec\/f30\/26a\/4ecf3026a0d78a19f60ad24879e1efc5.png\u0022 alt=\u0022С помощью отношения ассоциации мы в общих чертах показываем, как взаимодействуют классы.\u0022 title=\u0022С помощью отношения ассоциации мы в общих чертах показываем, как взаимодействуют классы.\u0022 width=\u00221283\u0022 height=\u0022742\u0022\u003E\u003Cfigcaption\u003EС помощью отношения ассоциации мы в общих чертах показываем, как взаимодействуют классы.\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/ac5\/56e\/5da\/ac556e5da0166906bbe4f36d62b2255d.png\u0022 alt=\u0022Когда пользователь создаёт блок ввода константы и заполняет все поля, в системе создаётся новая константа. За это отвечает статический класс MathConstantManager.\u0022 title=\u0022Когда пользователь создаёт блок ввода константы и заполняет все поля, в системе создаётся новая константа. За это отвечает статический класс MathConstantManager.\u0022 width=\u00221154\u0022 height=\u0022585\u0022\u003E\u003Cfigcaption\u003EКогда пользователь создаёт блок ввода константы и заполняет все поля, в системе создаётся новая константа. За это отвечает статический класс MathConstantManager.\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Ca class=\u0022anchor\u0022 name=\u0022DependencyRelationship\u0022 id=\u0022DependencyRelationship\u0022\u003E\u003C\/a\u003E\u003Ch3\u003EОтношение зависимости\u003C\/h3\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/c6f\/98a\/bca\/c6f98abcaacdf2b7fe3f5b0893eee470.png\u0022 width=\u00221238\u0022 height=\u0022131\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cp\u003EОтношение зависимости используют, чтобы показать, что изменение одного класса требует изменение другого класса. \u003C\/p\u003E\u003Cp\u003EВ нашем случае вид графика функции зависит от самой функции или, по нашей договорённости об именовании, от объекта математического выражения. Давайте покажем это на диаграмме.\u003C\/p\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/a04\/88a\/26b\/a0488a26b724ae86e402e846159a1eea.png\u0022 alt=\u0022Изменение объекта математического выражения влияет на вид графика.\u0022 title=\u0022Изменение объекта математического выражения влияет на вид графика.\u0022 width=\u00221248\u0022 height=\u0022372\u0022\u003E\u003Cfigcaption\u003EИзменение объекта математического выражения влияет на вид графика.\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cblockquote\u003E\u003Cp\u003EСтрелка отношения зависимости направлена от зависимого класса к независимому.    \u003C\/p\u003E\u003C\/blockquote\u003E\u003Cp\u003EОбъекты класса \u003Cem\u003EGraph\u003C\/em\u003E зависят от изменений в объектах класса \u003Cem\u003EMathExpression\u003C\/em\u003E, поскольку, на самом деле, в объекте \u003Cem\u003EGraph\u003C\/em\u003E хранится указатель на объект класса \u003Cem\u003EMathExpression\u003C\/em\u003E. Поэтому мы можем считать, что график «знает» обо всех изменениях внутри математического выражения (изменение тела функции, изменение границ значений переменной, изменение значения параметров и т.д.).\u003C\/p\u003E\u003Cp\u003EОтношение между этими двумя классами как бы соединяет две диаграммы воедино. Все классы нашей первой диаграммы «работают» на объекты класса \u003Cem\u003EMathExpression\u003C\/em\u003E. Людям, работающим с графической частью приложения, нужно знать лишь об этом классе, что существенно снижает сложность. В результате наша вторая диаграмма приобретает следующий вид.\u003C\/p\u003E\u003Ca class=\u0022anchor\u0022 name=\u0022InheritanceRelationship\u0022 id=\u0022InheritanceRelationship\u0022\u003E\u003C\/a\u003E\u003Ch3\u003EОтношение наследования\u003C\/h3\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/ddd\/f9a\/56f\/dddf9a56f94ca75dc4054985507222c6.png\u0022 width=\u00221458\u0022 height=\u0022192\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cp\u003EПрежде чем мы начнём изучать данное отношение, проясним один момент. Как вы можете видеть, данное отношение имеет два названия: отношение обобщения и отношение наследования. В терминах ООП принцип наследования является очень важной вещью. Чтобы не вносить путаницу в дальнейшее повествование, давайте договоримся использовать только второе название – отношение наследования – применительно к диаграмме классов.\u003C\/p\u003E\u003Cp\u003EИтак, отношение наследования используется, чтобы показать, что один класс является родителем (базовым классом или суперклассом) для другого класса (потомка, производного класса).\u003C\/p\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/e1d\/65d\/b23\/e1d65db2377f1ab3253921f991b57b0a.png\u0022 width=\u0022860\u0022 height=\u0022339\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cp\u003EЕсли вы работали с какой-нибудь библиотекой для создания графического интерфейса (OpenGL в чистом виде не в счёт!), вы могли заметить, что все классы графических элементов обычно выстраиваются в цепочку наследования.\u0026nbsp; Например, взгляните на цепочку наследования классов фреймворка Qt5, представленную на рисунке ниже. \u003C\/p\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/f1d\/51b\/152\/f1d51b15261a1ba0285c3709a1061167.png\u0022 alt=\u0022Отношение наследования здесь изображается обычной стрелкой.\u0022 title=\u0022Отношение наследования здесь изображается обычной стрелкой.\u0022 width=\u0022872\u0022 height=\u0022796\u0022\u003E\u003Cfigcaption\u003EОтношение наследования здесь изображается обычной стрелкой.\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cdetails class=\u0022spoiler\u0022\u003E\u003Csummary\u003EПолная версия диаграммы\u003C\/summary\u003E\u003Cdiv class=\u0022spoiler__content\u0022\u003E\u003Cp\u003EПолную версию диаграммы вы можете посмотреть \u003Ca href=\u0022https:\/\/www.dropbox.com\/s\/x0om9rdpdlnbnu0\/%D0%94%D0%B8%D0%B0%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B0%20%D0%BA%D0%BB%D0%B0%D1%81%D1%81%D0%BE%D0%B2%20Qt%205.pdf\u0022 rel=\u0022noopener noreferrer nofollow\u0022\u003Eпо ссылке\u003C\/a\u003E \u003C\/p\u003E\u003C\/div\u003E\u003C\/details\u003E\u003Cp\u003EРазумеется, такие цепочки наследования просто необходимы, поскольку различные виджеты (графические элементы) имеют схожие свойства и поведение. В нашем приложении классы виджетов тоже были созданы на основе нескольких базовых классов: \u003Cem\u003EQWidget\u003C\/em\u003E и \u003Cem\u003EQDialog\u003C\/em\u003E. Давайте покажем это на диаграмме.\u003C\/p\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/ee6\/f1a\/fd8\/ee6f1afd8d919af30ad8ee1b1087c05b.png\u0022 width=\u00221371\u0022 height=\u0022519\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cp\u003EМы свернули классы ради экономия места. В дальнейшем мы также будем это делать, поскольку нас будет интересовать именно отношения между классами, а не их поля и методы. Заметьте, что в большинстве наших классов мы не можем обойтись без класса \u003Cem\u003EQWidget\u003C\/em\u003E и \u003Cem\u003EQDialog\u003C\/em\u003E, однако его использование приводит к беспорядку. \u003C\/p\u003E\u003Cblockquote\u003E\u003Cp\u003EДавайте договоримся, что больше мы не будем изображать эти два базовых класса, чтобы избежать проблем с читабельностью диаграммы. Тем не менее, мы будем иметь в виду, от каких классов наследуются оставшиеся. \u003C\/p\u003E\u003C\/blockquote\u003E\u003Ca class=\u0022anchor\u0022 name=\u0022AggregationRelationship\u0022 id=\u0022AggregationRelationship\u0022\u003E\u003C\/a\u003E\u003Ch3\u003EОтношение агрегации\u003C\/h3\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/411\/451\/9c5\/4114519c58370797b48aa03d75153be6.png\u0022 width=\u00221160\u0022 height=\u002297\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cp\u003E\u003Cem\u003EОтношение агрегации\u003C\/em\u003E между двумя классами показывает, что один из них включает в себя другой класс в качестве составной части. При этом класс-часть \u003Cstrong\u003Eможет и существовать обособленно\u003C\/strong\u003E от класса-целого (далее мы раскроем смысл этой фразы).\u003C\/p\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/d7b\/15c\/b0f\/d7b15cb0f09ca2e4a5b499a42c40e6a5.png\u0022 width=\u00221137\u0022 height=\u0022677\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cblockquote\u003E\u003Cp\u003EВ переводе с английского, слово aggregation означает \u003Cu\u003Eсоединение частей. \u003C\/u\u003EЭто значение очень точно отражает суть данного отношения – показать, из каких частей состоит класс.\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cp\u003EВ целом, смысл этого отношения достаточно условен. Может показаться, что определение отношения агрегации «один класс включает в себя другой класс» означает примерно следующее:\u003C\/p\u003E\u003Cpre\u003E\u003Ccode class=\u0022cpp\u0022\u003Eclass A\n{\n\tclass B\n\t{\n\t};\n…\n}; \u003C\/code\u003E\u003C\/pre\u003E\u003Cp\u003EНа самом деле, это отношение означает, что объект одного класса включает в себя в качестве составной части объект другого класса.\u003C\/p\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/c75\/349\/795\/c753497957780e6a99225e6c5d8c87b3.png\u0022 alt=\u0022Объект класса PersonalComputer (упрощённо) состоит из объекта класса Monitor, объекта класса ComputerMouse и объекта класса Keyboard.\u0022 title=\u0022Объект класса PersonalComputer (упрощённо) состоит из объекта класса Monitor, объекта класса ComputerMouse и объекта класса Keyboard.\u0022 width=\u00221610\u0022 height=\u0022496\u0022\u003E\u003Cfigcaption\u003EОбъект класса PersonalComputer (упрощённо) состоит из объекта класса Monitor, объекта класса ComputerMouse и объекта класса Keyboard.\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cp\u003EС отношением агрегации также можно использовать кратность, чтобы показать, сколько объектов одного класса входят в состав объекта другого класса.\u003C\/p\u003E\u003Cp\u003EНа нашей диаграмме есть много мест, где нам может пригодиться отношение агрегации:\u003C\/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003EОбъект класса \u003Cem\u003EMainWindow\u003C\/em\u003E содержит в себе по одному объекту классов \u003Cem\u003EPaintingArea\u003C\/em\u003E, \u003Cem\u003EConstantBoxList\u003C\/em\u003E, \u003Cem\u003EFunctionBoxList\u003C\/em\u003E.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EНеограниченное количество объектов класса Graph могут содержаться в объекте класса \u003Cem\u003EPaintingArea\u003C\/em\u003E.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EКласс-контейнер \u003Cem\u003EConstantBoxList\u003C\/em\u003E может содержать в себе неограниченное количество объектов класса \u003Cem\u003EConstantBox\u003C\/em\u003E.\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EКласс-контейнер \u003Cem\u003EFunctionBoxList\u003C\/em\u003E может содержать в себе неограниченное количество объектов класса \u003Cem\u003EFunctionBox\u003C\/em\u003E.\u003C\/p\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/5f5\/3ae\/6e3\/5f53ae6e39a877daeb80f7072afcce47.png\u0022 width=\u00221564\u0022 height=\u0022427\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Ca class=\u0022anchor\u0022 name=\u0022CompositionRelationship\u0022 id=\u0022CompositionRelationship\u0022\u003E\u003C\/a\u003E\u003Ch3\u003EОтношение композиции\u003C\/h3\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/e11\/e62\/e12\/e11e62e12bc6ef530d3263788eb2b08c.png\u0022 width=\u00221172\u0022 height=\u0022108\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cp\u003EОтношение композиции является частным случаем отношения агрегации. Однако у него есть одно отличие – классы-части, которые он соединяет с классом-целым, \u003Cstrong\u003Eне могут существовать обособленно.\u003C\/strong\u003E \u003C\/p\u003E\u003Cblockquote\u003E\u003Cp\u003EОдним из переводов слова composition является слово \u003Cstrong\u003Eсмесь\u003C\/strong\u003E. Если допустить, что из смеси не получится получить исходные компоненты, то это хорошо помогает понять, что части, соединённые отношением композиции не могут существовать сами по себе.\u003C\/p\u003E\u003C\/blockquote\u003E\u003Cp\u003EДавайте в качестве примера рассмотрим окно интерпретатора Python.\u003C\/p\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/9c2\/5f2\/908\/9c25f29081792be848fe71e798cbbcd9.png\u0022 width=\u0022980\u0022 height=\u0022760\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cp\u003EПонятное дело, что ни полоса прокрутки (ScrollBar), ни заголовок окна (Title), ни поле ввода команд (TextInput) не могут существовать отдельно от окна программы (Window). Это можно изобразить на диаграмме классов следующим образом.\u003C\/p\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/bb6\/47e\/49e\/bb647e49e295b1554b60500c4cd858c5.png\u0022 width=\u00221145\u0022 height=\u0022413\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cp\u003EВ нашей диаграмме объекты классов \u003Cem\u003EFunctionBox\u003C\/em\u003E и \u003Cem\u003EConstantBox\u003C\/em\u003E не могут существовать отдельно от их контейнеров. Кроме того, объекты класса Graph тоже не могут существовать обособленно от координатной плоскости.\u003C\/p\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/a13\/47d\/74f\/a1347d74f6d573493349685aa934f531.png\u0022 width=\u00221524\u0022 height=\u0022557\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cp\u003EВот и всё! Мы рассмотрели достаточно элементов диаграммы классов, чтобы начать делать собственные диаграммы классов. \u003C\/p\u003E\u003Cblockquote\u003E\u003Cp\u003EP.S. Спасибо всем, кто дошёл до этого момента. Статья получилась очень массивной, поскольку хотелось разобрать все основные элементы на практическом примере. \u003C\/p\u003E\u003C\/blockquote\u003E",
      "is_comments_hide": 0,
      "editor_version": 2,
      "hubs": [
        {
          "id": 7504,
          "alias": "refactoring",
          "title": "Проектирование и рефакторинг",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/refactoring\/"
        },
        {
          "id": 17715,
          "alias": "uml",
          "title": "UML Design",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/uml\/"
        },
        {
          "id": 22596,
          "alias": "technical_writing",
          "title": "Подготовка технической документации",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/technical_writing\/"
        }
      ],
      "flows": [
        {
          "id": 1,
          "name": "Разработка",
          "alias": "develop",
          "url": "https:\/\/habr.com\/ru\/flows\/develop\/",
          "path": "\/flows\/develop\/"
        },
        {
          "id": 3,
          "name": "Менеджмент",
          "alias": "management",
          "url": "https:\/\/habr.com\/ru\/flows\/management\/",
          "path": "\/flows\/management\/"
        }
      ],
      "is_recovery_mode": false,
      "reading_count": 353,
      "metadata": {
        "meta_image": "https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/2bb\/299\/fad\/2bb299fad1a72bb30b5c42bec9216f9f.png",
        "lead_image": "https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/2bb\/299\/fad\/2bb299fad1a72bb30b5c42bec9216f9f.png",
        "lead_image_info": {
          "url": "https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/2bb\/299\/fad\/2bb299fad1a72bb30b5c42bec9216f9f.png",
          "fit": "cover",
          "positionY": 0,
          "positionX": 7.0512820512821
        }
      },
      "path": "\/post\/572234\/",
      "full_url": "https:\/\/habr.com\/ru\/post\/572234\/",
      "author": {
        "id": 2539903,
        "login": "Purojok",
        "time_registered": "2020-12-09T20:45:26+03:00",
        "score": 5,
        "fullname": "Сырцев Вадим",
        "specializm": "Программист",
        "sex": 1,
        "rating": 3,
        "vote": 0,
        "note": {
          "text": null
        },
        "contacts": [],
        "rating_position": 723,
        "path": "\/users\/purojok\/",
        "geo": {
          "country": "Россия",
          "region": "Орловская обл.",
          "city": "Орел"
        },
        "counters": {
          "posts": 2,
          "comments": 6,
          "followed": 0,
          "followers": 1,
          "favorites": 2
        },
        "badges": [
          {
            "id": 1,
            "title": "Захабренный",
            "alias": "habred",
            "description": "Пользователь с кармой \u003E0",
            "url": null,
            "is_removable": false,
            "is_disabled": false
          },
          {
            "id": 102,
            "title": "Бета-тестер",
            "alias": "tester",
            "description": "Участвует в тестировании новой функциональности",
            "url": "https:\/\/habr.com\/beta\/welcome\/",
            "is_removable": false,
            "is_disabled": false
          }
        ],
        "avatar": "https:\/\/habr.com\/images\/avatars\/stub-user-middle.gif",
        "is_readonly": false,
        "is_rc": false,
        "is_subscribed": false,
        "common_tags": [],
        "is_can_vote": true
      },
      "has_polls": false,
      "url": "https:\/\/habr.com\/ru\/post\/572234\/",
      "post_type": 1,
      "post_type_str": "simple",
      "vote": null,
      "is_can_vote": true,
      "voting": {
        "score": 0,
        "voteCount": {
          "total": 0,
          "positive": 0,
          "negative": 0
        },
        "vote": null,
        "reasonMap": null
      },
      "is_habred": true,
      "is_interesting": false,
      "is_favorite": false,
      "comments_new": null
    },
    {
      "id": 572558,
      "is_corporative": 1,
      "is_tutorial": false,
      "time_published": "2021-08-12T13:26:44+03:00",
      "time_interesting": null,
      "comments_count": 0,
      "score": 1,
      "votes_count": 1,
      "favorites_count": 3,
      "lang": "ru",
      "tags_string": "системная аналитика, technical writing, hr",
      "title": "“Тайный клуб системной аналитики” или путь к идеалу",
      "preview_html": "\u003Cp\u003EHello World!\u003C\/p\u003E\u003Cp\u003EМеня зовут Сергей Павлов, я тимлид по системной аналитике в банке \u0022Открытие” на продукте МСБ “Бизнес-Портал”. Хочу рассказать, как я решал задачи по управлению командой, когда к ней присоединился. \u003C\/p\u003E\u003Cp\u003E\u003Cem\u003EСкажу сразу: тут я не буду описывать графики, капасити, велосити и любые инструменты, связанные с командными метриками. Речь пойдет именно об организации процессов для повышения качества взаимодействия при коллективной работе.\u003C\/em\u003E\u003C\/p\u003E\u003Cp\u003EИтак, морозное утро, вежливый голос руководителя мне говорит: “Это команда системных аналитиков, начинай творить добро”. Я смог выдавить только “угу” и сел думать насчет того самого творить и того самого добра.\u003C\/p\u003E",
      "text_cut": "Читать далее про добро",
      "text_html": "\u003Cp\u003EHello World!\u003C\/p\u003E\u003Cp\u003EМеня зовут Сергей Павлов, я тимлид по системной аналитике в банке \u0022Открытие” на продукте МСБ “Бизнес-Портал”. Хочу рассказать, как я решал задачи по управлению командой, когда к ней присоединился. \u003C\/p\u003E\u003Cp\u003E\u003Cem\u003EСкажу сразу: тут я не буду описывать графики, капасити, велосити и любые инструменты, связанные с командными метриками. Речь пойдет именно об организации процессов для повышения качества взаимодействия при коллективной работе.\u003C\/em\u003E\u003C\/p\u003E\u003Cp\u003EИтак, морозное утро, вежливый голос руководителя мне говорит: “Это команда системных аналитиков, начинай творить добро”. Я смог выдавить только “угу” и сел думать насчет того самого творить и того самого добра.\u003C\/p\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/d77\/487\/1ac\/d774871acc21025e17df4256037a12de.png\u0022 alt=\u0022… несколько часов четверти суток полу недели спустя …\u0022 title=\u0022… несколько часов четверти суток полу недели спустя …\u0022 width=\u00221110\u0022 height=\u0022831\u0022\u003E\u003Cfigcaption\u003E… несколько часов четверти суток полу недели спустя …\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cp\u003EЯ познакомился с командой (12 системных аналитиков разного уровня от Junior до Senior) и погрузился во внутренние процессы по работе над проектом (матричная структура разделения ресурсов на 14 групп, работа по Scrum).\u003C\/p\u003E\u003Cp\u003EОбозначил себе ряд острых проблем по направлениям:\u003C\/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003EПрофессиональное развитие системных аналитиков\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EЕдиный подход к работе\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EОнбординг новых сотрудников\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EТекучка кадров\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EЭкспертная взаимозаменяемость\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EМенторство Junior специалистов\u003C\/p\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003Cp\u003EПроблем достаточно, надо решать. Давайте разберемся вместе, как это было. \u003C\/p\u003E\u003Ch2\u003EРешение\u003C\/h2\u003E\u003Cp\u003EСейчас всё порешаем, где наша не пропадала!    \u003C\/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003EДемотивацию команды решаем мемчиками и бугагашеньками в чатиках (будет весело);\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EОтсутствие общей картины развития решаем ссылкой на roadmap;\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EНе успел погрузиться в процессы за время испытательного срока - ну и скатертью дорожка, “следующий, заходите!”;\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EБлокировка работы команды в случае отсутствия системного аналитика - тут еще проще. Это проблема продактов, просто ставим в известность сотрудников со стороны бизнеса, что пока процессы переводим на паузу. Как будет системный аналитик, сразу дам вам знать. И разработку можно будет продолжить. \u003C\/p\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003Cp\u003EУлыбнулся, выдохнул. Проблема решена!\u003C\/p\u003E\u003Cp\u003E\u003Cem\u003EНет! Нет и еще раз НЕТ! Конечно же, это не выход из положения и так ни в коем случае делать нельзя.\u003C\/em\u003E \u003C\/p\u003E\u003Cp\u003EКак\u0026nbsp; говорила моя бабуленька, когда водила меня в детсад: \u003Cem\u003E“Думать надо продуктом!”\u003C\/em\u003E Т.е. надо понимать, как твои текущие действия помогут в текущей ситуации и какой эффект они дадут в будущем. \u003C\/p\u003E\u003Cp\u003EОтказываемся от мысли “это их проблема” и вернемся на шаг назад, на тот этап, когда я только составил список проблем и задач.\u003C\/p\u003E\u003Cp\u003EК сожалению, одной статьи не хватит, чтобы описать все изменения. Но, думаю, смогу уместить в рассказ некоторые из важных нововведений, которые помогли нам вывести системный анализ на новый уровень:\u003C\/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003EВнедрение ревью в два этапа;\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EПроработанный процесс онбординга и оффбординга;\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EСоздание “Тайного клуба аналитики”.\u003C\/p\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003Ch2\u003EРевью 2х\u003C\/h2\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/5f6\/0a2\/ed6\/5f60a2ed62fe332c4b2b7e30dd2ed6e7.png\u0022 width=\u00221880\u0022 height=\u00221163\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cp\u003EИтак, над проектом в тот момент работало 14 групп - это были отдельные миры со своим набором устоявшихся правил. Внезапно из проблемы я решил попробовать сделать профит.\u003C\/p\u003E\u003Cp\u003E\u003Cstrong\u003EРевью №1: локальное ревью\u003C\/strong\u003E\u003C\/p\u003E\u003Cp\u003EВводим к каждой задаче в обязательном порядке наличие небольшой таблички:\u003C\/p\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/09e\/872\/094\/09e872094944b417d8ba1813ad579bda.png\u0022 width=\u00221357\u0022 height=\u0022595\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cp\u003EЭту табличку заполняет исключительно тот системный аналитик, который работает над конкретной задачей. Его цель получить от разработчиков back и front подтверждение, что задача понятна и вопросов по разработке нет. А когда вопросов нет, значит можно отдавать “в разработку”.\u003C\/p\u003E\u003Cp\u003EА вот и получен первый профит: системному аналитику можно работать на опережение, не дожидаясь реализации текущих задач. \u003C\/p\u003E\u003Cp\u003EВ организации процесса тестирования похожая ситуация: только происходит согласование, что и как нужно будет проверить, и понятны ли тест-кейсы. Ставим галочку, двигаемся дальше ко второму этапу ревью. \u003C\/p\u003E\u003Cp\u003E\u003Cem\u003EWell Done Bro\u003C\/em\u003E\u003C\/p\u003E\u003Cp\u003E\u003Cstrong\u003EРевью №2: кросс-ревью\u003C\/strong\u003E\u003C\/p\u003E\u003Cp\u003EК таблице “Review Аналитики” добавляем еще одну строчку:\u003C\/p\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/760\/82d\/00d\/76082d00de1a7bfd778ef26b0e172af5.png\u0022 width=\u00221305\u0022 height=\u0022703\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cp\u003EИ тут самое интересное. К задаче приходит системный аналитик из другой команды. Чтобы поставить в этой строчке Done проверяющий аналитик должен:\u003C\/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003EПонять, о чем эта задача;\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EПонять, что будет сделано;\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EВсе ли в ТЗ присутствует (маппинги, таблицы, контракты, и т.д.).\u003C\/p\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003Cp\u003EОтсюда мы получаем сразу несколько профитов: \u003C\/p\u003E\u003Col\u003E\u003Cli\u003E\u003Cp\u003EСистемный аналитик косвенно погружается в процессы соседней команды, знакомится с ее функционалом;\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EДокументация по проекту более структурированная, понятная и наполненная;\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EОбмен так называемыми “Best Practices”, когда во время кросс-ревью ты замечаешь\u0026nbsp; детали, которые тебе показались оптимальнее предложенных тобой. И в следующий раз ты сделаешь именно так, т.е. лучше.\u003C\/p\u003E\u003C\/li\u003E\u003C\/ol\u003E\u003Ch2\u003EОнбординг и оффбординг\u003C\/h2\u003E\u003Cp\u003EРазберем проблему текучки системных аналитиков.\u003C\/p\u003E\u003Cp\u003E\u003Cstrong\u003EДвухнедельный онбординг\u003C\/strong\u003E - звучит как челлендж, но схема продуманная, проработанная и хорошо работающая на практике.\u003C\/p\u003E\u003Cp\u003E\u003Cem\u003E“Го онбордится, я создал!”\u003C\/em\u003E\u003C\/p\u003E\u003Cp\u003EЯ проработал детально онбординг и запустил его в совершенно новом формате - в форме игры, где тебе предстоит преодолеть 4 локации, а в каждой локации есть свои уровни.\u003C\/p\u003E\u003Cp\u003E\u003Cstrong\u003EЛокации\u003C\/strong\u003E - это сгруппированные рабочие дни: день 1-3, день 4-6, день 7-8, день 9-10. \u003C\/p\u003E\u003Cp\u003E\u003Cstrong\u003EУровни\u003C\/strong\u003E - набор указаний, которые необходимо выполнить (важно понимать, что от локации к локации они становятся сложнее. Как и в игре очень легкое начало, а в конце ты уже чувствуешь себя профессионалом и все делаешь с закрытыми глазами).\u003C\/p\u003E\u003Cp\u003EК каждому указанию прикладывается подробная инструкция, как действовать. Тем самым мы не бросаем нового человека в колодец с кучей документации, а последовательно погружаем его в процессы, архитектуру и нюансы работы в команде. \u003C\/p\u003E\u003Cp\u003E\u003Cstrong\u003EОффбординг\u003C\/strong\u003E. Я сейчас не хочу описывать избитый процесс сбора фидбека о работе на последнем “one to one”, он и так есть, это естественно. Вместо этого хочу поделиться интересной практикой. \u003C\/p\u003E\u003Cp\u003EДо своего последнего рабочего дня системному аналитику нужно оставить две подробные видео-инструкции, где:\u003C\/p\u003E\u003Col\u003E\u003Cli\u003E\u003Cp\u003EАналитик рассказывает о нюансах при работе с confluence и tfs именно в его команде. Как и что именно он обычно делал и описывал. Как и куда ходили задачки, как и с кем они согласовывались. Если вкратце, системный аналитик описывает жизненный цикл задачи именно в его команде;\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EАналитик показывает и рассказывает, где и как в продукте работает его часть. Это будет запись экрана интерфейсной части с комментариями о поведении системы, каких-то особых терминов или скрытой работы алгоритмов. \u003C\/p\u003E\u003C\/li\u003E\u003C\/ol\u003E\u003Cp\u003EВсе это аккуратно упаковывается, обвязывается розовой шелковой ленточкой и дожидается нового системного аналитика, который распакует этот приятный подарок на этапе вышеописанного онбординга.\u003C\/p\u003E\u003Cp\u003EПрофит - колоссальный! Это полностью автономный этап для нового сотрудника, который значительно сокращает время его погружения в продукт.\u003C\/p\u003E\u003Ch2\u003EТайный клуб аналитики\u003C\/h2\u003E\u003Cfigure class=\u0022full-width \u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/b48\/4d6\/92d\/b484d692d142814629d7f343b4a8d636.png\u0022 width=\u00221880\u0022 height=\u00221408\u0022\u003E\u003Cfigcaption\u003E\u003C\/figcaption\u003E\u003C\/figure\u003E\u003Cp\u003EНу и на сладкое - самое загадочное и настолько же важное мероприятие. Идея заключается в том, чтобы действовать на опережение в вопросе блокирующих работу ситуаций для системных аналитиков уровня Junior и Middle. \u003C\/p\u003E\u003Cp\u003EДва раза в неделю ровно\u0026nbsp;час мы проводим мероприятие со свободным входом. Участники по очереди рассказывают о текущих в данный момент живых кейсах, в которых они сильно застряли, либо хотели бы спросить экспертного мнения. И в режиме online\u0026nbsp;коллективно начинаем разбирать ситуацию. Тем самым мы одновременно получаем сразу два положительных эффекта:\u003C\/p\u003E\u003Col\u003E\u003Cli\u003E\u003Cp\u003EЗадача сдвигается с мертвой точки + довольный аналитик;\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EДругие участники понимают, какие могут быть проблемы и уже заранее запоминают, как действовать в такой ситуации.\u003C\/p\u003E\u003C\/li\u003E\u003C\/ol\u003E\u003Cp\u003EЗачастую бывают случаи, когда разобранные ранее кейсы на прошлых встречах помогали быстро решить проблему на текущих. Т.е. тут срабатывает \u003Cem\u003Eнакопительный эффект\u003C\/em\u003E. В будущем я хочу расширить аудиторию этого клуба и приглашать на него системных аналитиков из смежных направлений. Я считаю, это будет прекрасный обмен опытом и коллективное развитие навыков.\u003C\/p\u003E\u003Cp\u003E\u003Cem\u003EProfit! Yeah! \u003C\/em\u003E\u003C\/p\u003E\u003Ch2\u003EИтог\u003C\/h2\u003E\u003Cp\u003EЯ стремлюсь к тому, чтобы работа системного аналитика была понятной. И, самое главное, чтобы специалист получал удовольствие от своей работы. Поэтому для меня очень важно собирать обратную связь от всех участников проекта, чтобы можно было оптимизировать процессы не только с точки зрения развития продукта, но и с точки зрения работы над ним. \u003C\/p\u003E\u003Cp\u003EХотел бы также рассказать и про другие имеющиеся инструменты для повышения качества работы: \u003C\/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003EИндивидуальные планы развития и роста системного аналитика;\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EПоддержание единого инфополя при работе с несколькими командами;\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003E“Строгая гибкость” написания ТЗ;\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EВыстраивание коммуникаций внутри банка между проектами;\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003EКак провести собеседование в один этап и точно определить, в какую команду идет кандидат;\u003C\/p\u003E\u003C\/li\u003E\u003Cli\u003E\u003Cp\u003Eи т.д. \u003C\/p\u003E\u003C\/li\u003E\u003C\/ul\u003E\u003Cp\u003EНо это будет в следующих сериях: как говорится, \u003Cem\u003Eto be continued ... \u003C\/em\u003E\u003C\/p\u003E\u003Cp\u003EУшел творить добро дальше. \u003C\/p\u003E\u003Cp\u003E\u003Cem\u003EAdios!\u003C\/em\u003E\u003C\/p\u003E",
      "is_comments_hide": 0,
      "editor_version": 2,
      "hubs": [
        {
          "id": 21066,
          "alias": "otkritie",
          "title": "Блог компании Банк «Открытие»",
          "is_membership": false,
          "is_profiled": false,
          "is_company": true,
          "icon": "",
          "path": "company\/otkritie\/"
        },
        {
          "id": 397,
          "alias": "analysis_design",
          "title": "Анализ и проектирование систем",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/analysis_design\/"
        },
        {
          "id": 19583,
          "alias": "dev_management",
          "title": "Управление разработкой",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/dev_management\/"
        },
        {
          "id": 20736,
          "alias": "hr_management",
          "title": "Управление персоналом",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/hr_management\/"
        },
        {
          "id": 22596,
          "alias": "technical_writing",
          "title": "Подготовка технической документации",
          "is_membership": false,
          "is_profiled": false,
          "is_company": false,
          "icon": "",
          "path": "hub\/technical_writing\/"
        }
      ],
      "flows": [
        {
          "id": 1,
          "name": "Разработка",
          "alias": "develop",
          "url": "https:\/\/habr.com\/ru\/flows\/develop\/",
          "path": "\/flows\/develop\/"
        },
        {
          "id": 3,
          "name": "Менеджмент",
          "alias": "management",
          "url": "https:\/\/habr.com\/ru\/flows\/management\/",
          "path": "\/flows\/management\/"
        }
      ],
      "is_recovery_mode": false,
      "reading_count": 311,
      "metadata": {
        "meta_image": "https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/52b\/e2c\/569\/52be2c569c5abdc6422d2917b8eb61fd.jpg",
        "lead_image": "https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/52b\/e2c\/569\/52be2c569c5abdc6422d2917b8eb61fd.jpg",
        "lead_image_info": {
          "url": "https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/52b\/e2c\/569\/52be2c569c5abdc6422d2917b8eb61fd.jpg",
          "fit": "cover",
          "positionY": 46.136363636364,
          "positionX": 0
        }
      },
      "path": "\/company\/otkritie\/blog\/572558\/",
      "full_url": "https:\/\/habr.com\/ru\/company\/otkritie\/blog\/572558\/",
      "author": {
        "id": 2147625,
        "login": "isergirud",
        "time_registered": "2019-08-30T12:21:03+03:00",
        "score": 1,
        "fullname": "Sergey Pavlov",
        "specializm": null,
        "sex": 1,
        "rating": 1,
        "vote": 0,
        "note": {
          "text": null
        },
        "contacts": [],
        "rating_position": 993,
        "path": "\/users\/isergirud\/",
        "geo": {
          "country": null,
          "region": null,
          "city": null
        },
        "counters": {
          "posts": 1,
          "comments": 0,
          "followed": 0,
          "followers": 0,
          "favorites": 1
        },
        "badges": [
          {
            "id": 1,
            "title": "Захабренный",
            "alias": "habred",
            "description": "Пользователь с кармой \u003E0",
            "url": null,
            "is_removable": false,
            "is_disabled": false
          }
        ],
        "avatar": "https:\/\/habrastorage.org\/getpro\/habr\/avatars\/c0b\/e85\/13e\/c0be8513e2d59a6031040ef3f635415c.png",
        "is_readonly": false,
        "is_rc": false,
        "is_subscribed": false,
        "common_tags": [],
        "is_can_vote": true
      },
      "has_polls": false,
      "url": "https:\/\/habr.com\/ru\/company\/otkritie\/blog\/572558\/",
      "post_type": 1,
      "post_type_str": "simple",
      "vote": null,
      "is_can_vote": true,
      "voting": {
        "score": 1,
        "voteCount": {
          "total": 1,
          "positive": 1,
          "negative": 0
        },
        "vote": null,
        "reasonMap": null
      },
      "is_habred": true,
      "is_interesting": false,
      "is_favorite": false,
      "comments_new": null
    }
  ],
  "server_time": "2021-08-12T16:05:20+03:00"
}