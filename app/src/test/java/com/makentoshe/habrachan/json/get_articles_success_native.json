{
  "pages": 50,
  "next_page": {
    "url": "https:\/\/habr.com\/api\/v1\/posts\/all?page=2",
    "int": 2
  },
  "sorted_by": "time_published",
  "data": [
    {
      "id": 498308,
      "is_corporative": 0,
      "is_tutorial": false,
      "time_published": "2020-04-21T14:29:49+03:00",
      "time_interesting": null,
      "comments_count": 0,
      "score": 0,
      "votes_count": 0,
      "favorites_count": 0,
      "lang": "ru",
      "tags_string": "python, питон, генетический алгоритм, оптимизация, визуализация, matplotlib, матемактика, математическое моделирование",
      "title": "Генетический алгоритм на Python для поиска глобальных экстремумов",
      "preview_html": "\u003Ch4\u003EПредыстория\u003C\/h4\u003E\u003Cbr\/\u003E\r\nНедавно в рамках учебной деятельности мне понадобилось использовать старый добрый генетический алгоритм в целях поиска минимума и максимума функции от двух переменных. Однако, к моему удивлению, на просторах интернета не нашлось подобной реализации на питоне, а в википедии в статье по генетическому алгоритму именно этот раздел не освещен. \u003Cbr\/\u003E\r\n\u003Cbr\/\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/gn\/uq\/kr\/gnuqkrbnjqizkkycci6ulyxhf6g.png\u0022\/\u003E\u003Cbr\/\u003E\r\n\u003Cbr\/\u003E\r\nИ поэтому я решил написать свой небольшой пакет на Python с наглядной визуализацией алгоритма, по которой будет удобно настраивать этот алгоритм и искать тонкости выбранной модели. \u003Cbr\/\u003E\r\n\u003Cbr\/\u003E\r\nВ этой небольшой статье я хотел бы поделиться процессом, наблюдениями и итогами. \u003Cbr\/\u003E\r\n",
      "text_cut": "Читать дальше \u0026rarr;",
      "text_html": "\u003Ch4\u003EПредыстория\u003C\/h4\u003E\u003Cbr\/\u003E\r\nНедавно в рамках учебной деятельности мне понадобилось использовать старый добрый генетический алгоритм в целях поиска минимума и максимума функции от двух переменных. Однако, к моему удивлению, на просторах интернета не нашлось подобной реализации на питоне, а в википедии в статье по генетическому алгоритму именно этот раздел не освещен. \u003Cbr\/\u003E\r\n\u003Cbr\/\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/gn\/uq\/kr\/gnuqkrbnjqizkkycci6ulyxhf6g.png\u0022\/\u003E\u003Cbr\/\u003E\r\n\u003Cbr\/\u003E\r\nИ поэтому я решил написать свой небольшой пакет на Python с наглядной визуализацией алгоритма, по которой будет удобно настраивать этот алгоритм и искать тонкости выбранной модели. \u003Cbr\/\u003E\r\n\u003Cbr\/\u003E\r\nВ этой небольшой статье я хотел бы поделиться процессом, наблюдениями и итогами. \u003Cbr\/\u003E\r\n\u003Ca name=\u0022habracut\u0022\u003E\u003C\/a\u003E\u003Cbr\/\u003E\r\n\u003Ch4\u003EПринцип работы алгоритма\u003C\/h4\u003E\u003Cbr\/\u003E\r\nЯ не стану рассказывать о глобальном принципе работы генетических алгоритмов, но если вы ещё не слышали о таком, то ознакомиться с ним вы можете в \u003Ca href=\u0022https:\/\/ru.wikipedia.org\/wiki\/Генетический_алгоритм\u0022\u003Eвикипедии\u003C\/a\u003E. \u003Cbr\/\u003E\r\n\u003Cbr\/\u003E\r\nНа данный момент в пакете реализован только один ГА, который параметризуется входными данными через простую гуишку. Расскажу кратко о выбранных генетических функциях и основных алгоритмических решениях. \u003Cbr\/\u003E\r\n\u003Cbr\/\u003E\r\nОднохромосомная особь несёт в каждом своем гене информацию о соответствующей координате х или у. Популяция определяется множеством особей, однако популяция сегментируется по 4 особи. Данное решение, конечно же, обусловлено попыткой избежать сходимость к локальному оптимуму, так как стоит задача о поиске глобального экстремума. Такое разбиение, как показала практика, во многих случаях не дает доминировать одному генотипу во всей популяции, а, наоборот, придает «эволюции» бóльшую динамику. Для каждой такой части популяции применяется следующий алгоритм:\u003Cbr\/\u003E\r\n\u003Cbr\/\u003E\r\n\u003Col\u003E\r\n\u003Cli\u003EСелекция происходит схоже с метод ранжирования. Выбирается 3 особи с наилучшим показателями фитнесс-функции (т.е. производится сортировка особей в порядке возрастания\/убывания заданной пользователем функции, которая и выступает в роли функции приспособления).\u003C\/li\u003E\r\n\u003Cli\u003EДалее применяется функция скрещивания таким образом, что новое поколение (а точнее новый сегмент популяции в 4 особи) получает 2 пары немутировавших генов от особи с лучшим показанием фитнесс-функции и по паре мутировавших генов от двух других особей. Подробнее о составлении функции мутации будет написано в следующем параграфе. \u003C\/li\u003E\r\n\u003C\/ol\u003E\u003Cbr\/\u003E\r\nПринцип работы селекции, скрещивания и мутации наглядно выглядит так (в поколении N хромосомы особей уже отсортированы в нужном порядке, а маленький черный квадрат означает мутацию):\u003Cbr\/\u003E\r\n\u003Cbr\/\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/9z\/6o\/qz\/9z6oqzkmg7vjexncqpsjfkcyiws.jpeg\u0022\/\u003E\u003Cbr\/\u003E\r\n\u003Cbr\/\u003E\r\n\u003Ch3\u003EПервичные тесты и наблюдения\u003C\/h3\u003E\u003Cbr\/\u003E\r\nИтак, протестируем данный алгоритм на двух простых примерах:\u003Cbr\/\u003E\r\n\u003Cbr\/\u003E\r\nТест 1 \u003Cbr\/\u003E\r\n\u003Cbr\/\u003E\r\n\u003Cp\u003E\u003Cmath\u003E$$display$$f(x, y) = sin(x) + cos(y) $$display$$\u003C\/math\u003E\u003C\/p\u003E\u003Cbr\/\u003E\r\n\u003Cbr\/\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/2k\/gj\/vn\/2kgjvnjeu5n1yqwoqm11ys1usvo.png\u0022\/\u003E\u003Cbr\/\u003E\r\n\u003Cbr\/\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/rc\/l1\/yb\/rcl1ybnotsuhpwdtvitntpvp32k.gif\u0022\/\u003E\u003Cbr\/\u003E\r\n\u003Cbr\/\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/wd\/w_\/ig\/wdw_igvivbjqm2lq6cjaujw31bk.gif\u0022\/\u003E\u003Cbr\/\u003E\r\n\u003Cbr\/\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/ay\/a9\/sb\/aya9sb08naaebugbtgnqarkexec.png\u0022\/\u003E\u003Cbr\/\u003E\r\n\u003Cbr\/\u003E\r\nТест 2\u003Cbr\/\u003E\r\n\u003Cp\u003E\u003Cmath\u003E$$display$$\\frac{4 \\sqrt{x} - 5y }{ 3x ^ 2 + 2 y ^ 2 - 2 x + 1} $$display$$\u003C\/math\u003E\u003C\/p\u003E\u003Cbr\/\u003E\r\n\u003Cbr\/\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/jc\/bm\/c1\/jcbmc1rxhb73_sbdq1hb4bacsdi.png\u0022\/\u003E\u003Cbr\/\u003E\r\n\u003Cbr\/\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/tv\/ca\/tj\/tvcatj3vldam2sgjv46dajqsnxq.gif\u0022\/\u003E\u003Cbr\/\u003E\r\n\u003Cbr\/\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/j5\/yg\/fn\/j5ygfntexwqxtffwfx_9_fzepjy.gif\u0022\/\u003E\u003Cbr\/\u003E\r\n\u003Cbr\/\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/99\/9y\/jk\/999yjk-lfcutvljmtsng7jw7dru.png\u0022\/\u003E\u003Cbr\/\u003E\r\n\u003Cbr\/\u003E\r\nПосле тестирования и изучения работы алгоритма методом пристального взгляда и случайного тыка выявилось несколько гипотез-закономерностей:\u003Cbr\/\u003E\r\n\u003Cbr\/\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003E Погрешность алгоритма прямо пропорциональна количеству особей, но в среднем погрешность исчисляется на сотые, хотя при неудачных параметрах ошибка может достигать и десятых\u003C\/li\u003E\r\n\u003Cli\u003EНа данный момент мутация происходит прибавлением к гену рандомного числа из полуинтервала \u003Cp\u003E\u003Cmath\u003E$$display$$[-1, 1) $$display$$\u003C\/math\u003E\u003C\/p\u003E из-за чего особи не могут удержаться в окрестности экстремума и происходит относительно сильное колебание в расстоянии между особями разных поколений. В некоторых случаях такие колебания могут оказаться полезными для выхода из локального экстремума, например, периодической функции, однако экстремумы могут находиться на большом расстоянии друг от друга (расстояние в евклидовом понимании)\u003C\/li\u003E\r\n\u003Cli\u003EВо многих случаях точка экстремума достигается особями за 5-15 поколений, а остальные поколения бесполезно «прыгают» в окрестности этого экстремума\u003C\/li\u003E\r\n\u003Cli\u003EНулевое поколение заполняется случайными числами только в квадрате \u003Cp\u003E\u003Cmath\u003E$$display$$[-1, 1)*[-1, 1) $$display$$\u003C\/math\u003E\u003C\/p\u003E\u003Cbr\/\u003E\r\nи возможны случаи, когда данный квадрат покрывает локальный экстремум, что нам не подходит\u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\/\u003E\r\nРассмотрим поверхность со многими экстремумами вида:\u003Cbr\/\u003E\r\n\u003Cbr\/\u003E\r\n\u003Cp\u003E\u003Cmath\u003E$$display$$ g(x, y) = \\sum\\limits_{i=1}^nf_n(h, x_0, y_0), f(h, x_0, y_0) = h*exp(-(x - x_0)^2 - (y - y_0)^2)$$display$$\u003C\/math\u003E\u003C\/p\u003E\u003Cbr\/\u003E\r\nЭкстремумы функции g будут находится в точках \u003Cp\u003E\u003Cmath\u003E$$display$$(x_0, y_0)$$display$$\u003C\/math\u003E\u003C\/p\u003E. \u003Cbr\/\u003E\r\n\u003Cbr\/\u003E\r\nТест 3\u003Cbr\/\u003E\r\n\u003Cp\u003E\u003Cmath\u003E$$display$$g(x, y) = f_1(2, 0, 0) + f_2(5, 3, 3)$$display$$\u003C\/math\u003E\u003C\/p\u003E\u003Cbr\/\u003E\r\n\u003Cp\u003E\u003Cmath\u003E$$display$$g(x, y) = 2exp(-x^2 - y^2) + 5exp(-(x - 3)^2 - (y - 3)^2)$$display$$\u003C\/math\u003E\u003C\/p\u003E\u003Cbr\/\u003E\r\n\u003Cbr\/\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/wc\/np\/o2\/wcnpo2qfkyuapa3d20rijc5w8cs.gif\u0022\/\u003E\u003Cbr\/\u003E\r\n\u003Cbr\/\u003E\r\nЭтот пример подтверждает и иллюстрирует все выше сказанные наблюдения. \u003Cbr\/\u003E\r\n\u003Cbr\/\u003E\r\n\u003Ch3\u003EАпгрейд генетического алгоритма\u003C\/h3\u003E\u003Cbr\/\u003E\r\nИтак, на данный момент функция мутации составлена очень примитивно: она добавляет случайные величины из полуинтервала \u003Cp\u003E\u003Cmath\u003E$$display$$[-1, 1) $$display$$\u003C\/math\u003E\u003C\/p\u003E к мутировавшему гену. Такая инвариантность мутации иногда мешает корректной работе алгоритма, но есть эффективный способ исправить этот недочёт. \u003Cbr\/\u003E\r\n\u003Cbr\/\u003E\r\nВведём новый параметр, который назовём «сила мутации» (mutation range) и который будет показывать, в каком полуинтервале мутирует ген. Сделаем так, чтобы данный коэффициент мутации был обратно пропорциональна номеру поколения. Т.е. чем больше номер поколения, тем слабее мутируют гены. Это решение позволяет настраивать стартовую область и улучшать точность вычислений при необходимости. \u003Cbr\/\u003E\r\n\u003Cbr\/\u003E\r\nТест 1\u003Cbr\/\u003E\r\n\u003Cp\u003E\u003Cmath\u003E$$display$$f(x, y) = sinx$$display$$\u003C\/math\u003E\u003C\/p\u003E \u003Cbr\/\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/bv\/xu\/yk\/bvxuyklvsgi46uyw0dsdunrcasa.png\u0022\/\u003E\u003Cbr\/\u003E\r\n\u003Cbr\/\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/m1\/t3\/2y\/m1t32ygassjpd_6agpovwueovzq.gif\u0022\/\u003E\u003Cbr\/\u003E\r\n\u003Cbr\/\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/ii\/lr\/m6\/iilrm6xbd3iqiz9gkeox5z-wpeq.png\u0022\/\u003E\u003Cbr\/\u003E\r\n\u003Cbr\/\u003E\r\nКак видно из примера, теперь, с каждым поколением популяция всё больше сходится в точку экстремума и вычисляет наиболее точные значения за счёт слабых колебаний. \u003Cbr\/\u003E\r\n \u003Cbr\/\u003E\r\nА что же с проблемой локальных экстремумов? Рассмотрим уже знакомый пример. \u003Cbr\/\u003E\r\n\u003Cbr\/\u003E\r\nТест 2\u003Cbr\/\u003E\r\n\u003Cp\u003E\u003Cmath\u003E$$display$$g(x, y) = f_1(2, 0, 0) + f_2(5, 3, 3)$$display$$\u003C\/math\u003E\u003C\/p\u003E\u003Cbr\/\u003E\r\n\u003Cp\u003E\u003Cmath\u003E$$display$$g(x, y) = 2exp(-x^2 - y^2) + 5exp(-(x - 3)^2 - (y - 3)^2)$$display$$\u003C\/math\u003E\u003C\/p\u003E\u003Cbr\/\u003E\r\n\u003Cbr\/\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/1x\/wm\/ky\/1xwmky54n5afq9hdxdcvvgcxeto.png\u0022\/\u003E\u003Cbr\/\u003E\r\n\u003Cbr\/\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/yp\/gv\/is\/ypgvisorpoeaypbat3hibb-mqrq.gif\u0022\/\u003E\u003Cbr\/\u003E\r\n\u003Cbr\/\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/kt\/jq\/pt\/ktjqpt4yy2smi3ywoizs4t27an4.gif\u0022\/\u003E\u003Cbr\/\u003E\r\n\u003Cbr\/\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/iy\/kp\/ab\/iykpablmd5yyinftsbo2ppzeogq.png\u0022\/\u003E\u003Cbr\/\u003E\r\n\u003Cbr\/\u003E\r\nВидим, что теперь идея с разделением популяции на части работает так, как было задумано. Без этой сегментации особи ранних поколений могли бы выявить ложный доминирующий генотип в локальном экстремуме, что привело бы к неправильному ответу в поставленной задаче. Также заметно качественное улучшение в точности ответа благодаря введенной зависимости мутации от номера поколения. \u003Cbr\/\u003E\r\n\u003Cbr\/\u003E\r\n\u003Ch3\u003EИтоги\u003C\/h3\u003E\u003Cbr\/\u003E\r\nРезюмирую полученный результат:\u003Cbr\/\u003E\r\n\u003Cbr\/\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003EПравильный набор параметров позволяет достаточно точно найти глобальный экстремум функции от двух переменных\u003C\/li\u003E\r\n\u003Cli\u003EРазбиение популяции на части позволяет во многих случаях избежать сходимости к локальному оптимуму\u003C\/li\u003E\r\n\u003Cli\u003EВведение силы мутации позволяет также избежать сходимости к локальному оптимуму и в разы увеличивает точность результата\u003C\/li\u003E\r\n\u003Cli\u003E Визуализация может помочь в отладке и улучшении алгоритма, а так же помогает понимать ход и принципы самого генетического алгоритма\u003C\/li\u003E\r\n\u003Cli\u003Eповертеть графики, попроверять свои гипотезы и посмотреть код можно \u003Ca href=\u0022https:\/\/github.com\/likeblood\/geneticOptimizer\u0022\u003Eтут\u003C\/a\u003E\u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\/\u003E\r\n\u003Ch3\u003EВ следующих сериях...\u003C\/h3\u003E\u003Cbr\/\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003EРеализация других функций селекции, скрещивания и мутации. Например, интересно посмотреть, как в поставленной задаче будет работать турнирный метод селекции aka естественный отбор\u003C\/li\u003E\r\n\u003Cli\u003EСравнение по времени и эффективности подобных алгоритмов со стандартными методами оптимизации, например, градиентным спуском\u003C\/li\u003E\r\n\u003Cli\u003EНовые функции пакета (вероятно)\u003C\/li\u003E\r\n\u003C\/ul\u003E",
      "is_comments_hide": 0,
      "editor_version": 1,
      "hubs": [
        {
          "id": 340,
          "rating": 192.6807,
          "is_profiled": true,
          "title": "Python",
          "alias": "python",
          "about_small": "Высокоуровневый язык программирования",
          "about": "Python (в русском языке распространено название питон) — высокоуровневый язык программирования общего назначения, ориентированный на повышение производительности разработчика и читаемости кода. Синтаксис ядра Python минималистичен. В то же время стандартная библиотека включает большой объём полезных функций.",
          "count_subscribers": 137989,
          "count_posts": 3433,
          "tags_string": "python, питон, пайтон, py, py3k",
          "is_membership": false,
          "is_company": false,
          "flow": {
            "id": 1,
            "name": "Разработка",
            "alias": "develop",
            "url": "https:\/\/habr.com\/ru\/flows\/develop\/",
            "path": "\/flows\/develop\/"
          },
          "icon": "\/\/habrastorage.org\/getpro\/habr\/hub\/1c6\/724\/437\/1c6724437b83f3d71abd08e5c2877a7a.png",
          "path": "hub\/python\/"
        },
        {
          "id": 359,
          "rating": 548.0219,
          "is_profiled": true,
          "title": "Программирование",
          "alias": "programming",
          "about_small": "Искусство создания компьютерных программ",
          "about": "Процесс и искусство создания компьютерных программ с помощью языков программирования.",
          "count_subscribers": 273079,
          "count_posts": 11248,
          "tags_string": "программинг, кодирование, разработка, языки программирования",
          "is_membership": false,
          "is_company": false,
          "flow": {
            "id": 1,
            "name": "Разработка",
            "alias": "develop",
            "url": "https:\/\/habr.com\/ru\/flows\/develop\/",
            "path": "\/flows\/develop\/"
          },
          "icon": "\/\/habrastorage.org\/getpro\/habr\/hub\/db2\/c8f\/4a1\/db2c8f4a1974bf334d01595732f339c1.png",
          "path": "hub\/programming\/"
        },
        {
          "id": 8000,
          "rating": 200.3577,
          "is_profiled": true,
          "title": "Алгоритмы",
          "alias": "algorithms",
          "about_small": "Все об алгоритмах",
          "about": "Пишем про полезные и не очень алгоритмы, а также изучаем уже существующие.",
          "count_subscribers": 256771,
          "count_posts": 3653,
          "tags_string": "алгоритм, алгоритмы, задачки, решения, математика, программирование",
          "is_membership": false,
          "is_company": false,
          "flow": {
            "id": 1,
            "name": "Разработка",
            "alias": "develop",
            "url": "https:\/\/habr.com\/ru\/flows\/develop\/",
            "path": "\/flows\/develop\/"
          },
          "icon": "\/\/habrastorage.org\/getpro\/habr\/hub\/61e\/bf9\/7b0\/61ebf97b08494e41ad7b7cad1e0aacc7.png",
          "path": "hub\/algorithms\/"
        },
        {
          "id": 17812,
          "rating": 207.4675,
          "is_profiled": true,
          "title": "Математика",
          "alias": "maths",
          "about_small": "Мать всех наук",
          "about": "Математика (др.-греч. μᾰθημᾰτικά[1] \u003C др.-греч. μάθημα — изучение, наука) — наука о структурах, порядке и отношениях, которая исторически сложилась на основе операций подсчёта, измерения и описания формы объектов. Математические объекты создаются путём идеализации свойств реальных или других математических объектов и записи этих свойств на формальном языке. Математика не относится к естественным наукам, но широко используется в них как для точной формулировки их содержания, так и для получения новых результатов. Математика — фундаментальная наука, предоставляющая (общие) языковые средства другим наукам; тем самым она выявляет их структурную взаимосвязь и способствует нахождению самых общих законов природы.",
          "count_subscribers": 85486,
          "count_posts": 2052,
          "tags_string": "математика, матан, алгебра",
          "is_membership": false,
          "is_company": false,
          "flow": {
            "id": 1,
            "name": "Разработка",
            "alias": "develop",
            "url": "https:\/\/habr.com\/ru\/flows\/develop\/",
            "path": "\/flows\/develop\/"
          },
          "icon": "\/\/habrastorage.org\/getpro\/habr\/hub\/9f7\/47d\/2be\/9f747d2beca9589226778700d866101d.png",
          "path": "hub\/maths\/"
        },
        {
          "id": 21912,
          "rating": 142.4275,
          "is_profiled": false,
          "title": "Биотехнологии",
          "alias": "biotech",
          "about_small": "Использование живых организмов для решения задач",
          "about": "Блог о генетике и биотехнологиях.",
          "count_subscribers": 95581,
          "count_posts": 1423,
          "tags_string": "биотехнологии, биотех, генетика, генная инженерия",
          "is_membership": false,
          "is_company": false,
          "flow": {
            "id": 7,
            "name": "Научпоп",
            "alias": "popsci",
            "url": "https:\/\/habr.com\/ru\/flows\/popsci\/",
            "path": "\/flows\/popsci\/"
          },
          "icon": "\/\/habrastorage.org\/getpro\/habr\/hub\/d0b\/1f8\/d21\/d0b1f8d21a424e35efc5b115434c7443.png",
          "path": "hub\/biotech\/"
        }
      ],
      "flows": [
        {
          "id": 1,
          "name": "Разработка",
          "alias": "develop",
          "url": "https:\/\/habr.com\/ru\/flows\/develop\/",
          "path": "\/flows\/develop\/"
        },
        {
          "id": 7,
          "name": "Научпоп",
          "alias": "popsci",
          "url": "https:\/\/habr.com\/ru\/flows\/popsci\/",
          "path": "\/flows\/popsci\/"
        }
      ],
      "reading_count": 26,
      "path": "\/post\/498308\/",
      "full_url": "https:\/\/habr.com\/ru\/post\/498308\/",
      "author": {
        "id": 2339617,
        "login": "likeblood",
        "time_registered": "2020-04-18T05:18:51+03:00",
        "score": 1,
        "fullname": "Анатолий",
        "specializm": "Пользователь",
        "sex": 1,
        "rating": 0,
        "vote": 0,
        "contacts": [],
        "rating_position": 0,
        "path": "\/users\/likeblood\/",
        "geo": {
          "country": null,
          "region": null,
          "city": null
        },
        "counters": {
          "posts": 1,
          "comments": 0,
          "followed": 1,
          "followers": 0,
          "favorites": 0
        },
        "badges": [
          {
            "id": 1,
            "title": "Захабренный",
            "alias": "habred",
            "description": "Пользователь с кармой \u003E0",
            "url": null,
            "is_removable": false,
            "is_disabled": false
          }
        ],
        "avatar": "https:\/\/habrastorage.org\/getpro\/habr\/avatars\/920\/d91\/cde\/920d91cdef914c2e4028ccf704303830.jpg",
        "is_readonly": false,
        "is_rc": false,
        "is_subscribed": false,
        "common_tags": [],
        "is_can_vote": true
      },
      "has_polls": false,
      "url": "https:\/\/habr.com\/ru\/post\/498308\/",
      "post_type": 11,
      "post_type_str": "sandbox",
      "vote": null,
      "is_can_vote": true,
      "voting": {
        "score": 0,
        "voteCount": {
          "total": 0,
          "positive": 0,
          "negative": 0
        },
        "vote": null,
        "reasonMap": null
      },
      "is_habred": true,
      "is_interesting": false,
      "is_favorite": false,
      "is_recovery_mode": false,
      "comments_new": null
    },
    {
      "id": 498304,
      "is_corporative": 1,
      "is_tutorial": false,
      "time_published": "2020-04-21T14:16:47+03:00",
      "time_interesting": null,
      "comments_count": 1,
      "score": 0,
      "votes_count": 0,
      "favorites_count": 1,
      "lang": "ru",
      "tags_string": "vmware, pyvmomi, ansible, avanpost",
      "title": "Автоматизация задач администрирования API VMware vSphere с использованием Ansible",
      "preview_html": "\u003Cdiv style=\u0022text-align:center;\u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/tv\/8h\/nn\/tv8hnnkbtd6xaejjwtdwodwplga.jpeg\u0022 alt=\u0022image\u0022\u003E\u003C\/div\u003E\u003Cbr\u003E\r\n\u003Cp\u003EВ \u003Ca href=\u0022https:\/\/habr.com\/ru\/company\/avanpost\/blog\/478024\/\u0022\u003Eпредыдущей статье\u003C\/a\u003E мы рассмотрели взаимодействие с VMware с помощью Python. В этой же обсудим взаимодействие с VMware с помощью Ansible.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EAnsible — система управления конфигурациями, написанная на языке программирования Python с использованием декларативного языка разметки для описания конфигураций. Про Ansible на Хабре уже есть множество статей, но стоит еще раз упомянуть, что одним из ключевых свойств playbook\u0027a является идемпотентность. Это значит, что сколько бы раз подряд вы не запускали свой playbook, результат будет один и тот же.\u003C\/p\u003E",
      "text_cut": "Читать дальше \u0026rarr;",
      "text_html": "\u003Cdiv style=\u0022text-align:center;\u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/tv\/8h\/nn\/tv8hnnkbtd6xaejjwtdwodwplga.jpeg\u0022 alt=\u0022image\u0022\u003E\u003C\/div\u003E\u003Cbr\u003E\r\n\u003Cp\u003EВ \u003Ca href=\u0022https:\/\/habr.com\/ru\/company\/avanpost\/blog\/478024\/\u0022\u003Eпредыдущей статье\u003C\/a\u003E мы рассмотрели взаимодействие с VMware с помощью Python. В этой же обсудим взаимодействие с VMware с помощью Ansible.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EAnsible — система управления конфигурациями, написанная на языке программирования Python с использованием декларативного языка разметки для описания конфигураций. Про Ansible на Хабре уже есть множество статей, но стоит еще раз упомянуть, что одним из ключевых свойств playbook\u0027a является идемпотентность. Это значит, что сколько бы раз подряд вы не запускали свой playbook, результат будет один и тот же.\u003C\/p\u003E\u003Ca name=\u0022habracut\u0022\u003E\u003C\/a\u003E\u003Cbr\u003E\r\n\u003Cp\u003EAnsible модули используют библиотеку pyVmomi и чаще всего требуют Python версии выше 2.6.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EВы можете установить pyVmomi, используя \u003Ci\u003Epip\u003C\/i\u003E:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022cs\u0022\u003Epip install pyvmomi\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\n\u003Ch2\u003EИспользование плагина динамической инвентаризации VMware\u003C\/h2\u003E\u003Cbr\u003E\r\n\u003Cp\u003EСогласно документации лучший способ взаимодействия с существующими хостами — это использование плагина динамической инвентаризации VMware.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EДля использования данного плагина необходимо внести в файл \u003Ci\u003Eansible.cfg\u003C\/i\u003E следующие правки:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022cs\u0022\u003E[inventory]\nenable_plugins = vmware_vm_inventory\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\n\u003Cp\u003EЗатем создать файл в рабочей папке, имя которого заканчивается на \u003Ci\u003E.vmware.yml\u003C\/i\u003E или \u003Ci\u003E.vmware.yaml\u003C\/i\u003E. Например:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022cs\u0022\u003Eplugin: vmware_vm_inventory\nstrict: False\nhostname: 10.10.10.10\nusername: admin@vsphere.local\npassword: AdminSecur3P@ssw0rd\nvalidate_certs: False\nwith_tags: True\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\n\u003Cp\u003EПосле чего выполнить:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022cs\u0022\u003Eansible-inventory --list -i \u0026lt;filename\u0026gt;.vmware.yml\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\n\u003Ch2\u003EМодули\u003C\/h2\u003E\u003Cbr\u003E\r\n\u003Ch6\u003Evmware_guest\u003C\/h6\u003E\u003Cbr\u003E\r\n\u003Cp\u003EЭтот модуль используется для:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003Eсоздания новых виртуальных машин из шаблонов или других виртуальных машин\u003C\/li\u003E\r\n\u003Cli\u003Eуправления состоянием питания виртуальной машины\u003C\/li\u003E\r\n\u003Cli\u003Eизменением различных компонентов виртуальной машины\u003C\/li\u003E\r\n\u003Cli\u003Eпереименование виртуальной машины\u003C\/li\u003E\r\n\u003Cli\u003Eудаление виртуальной машины со связанными компонентами\u003C\/li\u003E\r\n\u003Cli\u003Eи многого другого\u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\u003E\r\n\u003Cp\u003EОсновные параметры:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cdiv class=\u0022scrollable-table\u0022\u003E\u003Ctable\u003E\r\n\u003Ctr\u003E\r\n\u003Cth\u003Ehostname\u003Cbr\u003E\r\n\u003C\/th\u003E\r\n\u003Cth\u003EDNS-имя или IP-адрес хоста ESXI-сервера\u003Cbr\u003E\r\n\u003C\/th\u003E\r\n\u003C\/tr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003Eusername\u003Cbr\u003E\r\n\u003C\/td\u003E\r\n\u003Ctd\u003Eлогин пользователя для подключения\u003Cbr\u003E\r\n\u003C\/td\u003E\r\n\u003C\/tr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003Epassword\u003Cbr\u003E\r\n\u003C\/td\u003E\r\n\u003Ctd\u003Eпароль пользователя для подключения\u003Cbr\u003E\r\n\u003C\/td\u003E\r\n\u003C\/tr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003Evalidate_certs\u003Cbr\u003E\r\n\u003C\/td\u003E\r\n\u003Ctd\u003Eпроверка валидации сертификата\u003Cbr\u003E\r\n\u003C\/td\u003E\r\n\u003C\/tr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003Edatacenter\u003Cbr\u003E\r\n\u003C\/td\u003E\r\n\u003Ctd\u003Edatacenter виртуальной машины\u003Cbr\u003E\r\n\u003C\/td\u003E\r\n\u003C\/tr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003Ecluster\u003Cbr\u003E\r\n\u003C\/td\u003E\r\n\u003Ctd\u003Eкластер виртуальной машины\u003Cbr\u003E\r\n\u003C\/td\u003E\r\n\u003C\/tr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003Ename\u003Cbr\u003E\r\n\u003C\/td\u003E\r\n\u003Ctd\u003Eимя целевой виртуальной машины\u003Cbr\u003E\r\n\u003C\/td\u003E\r\n\u003C\/tr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003Etemplate\u003Cbr\u003E\r\n\u003C\/td\u003E\r\n\u003Ctd\u003Eимя виртуальной машины или шаблона, который будет клонирован\u003Cbr\u003E\r\n\u003C\/td\u003E\r\n\u003C\/tr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003Efolder\u003Cbr\u003E\r\n\u003C\/td\u003E\r\n\u003Ctd\u003Eцелевое расположение виртуальной машины\u003Cbr\u003E\r\n\u003C\/td\u003E\r\n\u003C\/tr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003Eannotation\u003Cbr\u003E\r\n\u003C\/td\u003E\r\n\u003Ctd\u003Eописание или примечание для виртуальной машины\u003Cbr\u003E\r\n\u003C\/td\u003E\r\n\u003C\/tr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003Edatastore\u003Cbr\u003E\r\n\u003C\/td\u003E\r\n\u003Ctd\u003Eцелевой datastore\u003Cbr\u003E\r\n\u003C\/td\u003E\r\n\u003C\/tr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003Enetworks\u003Cbr\u003E\r\n\u003C\/td\u003E\r\n\u003Ctd\u003Eнастройки сети для новой машины\u003Cbr\u003E\r\n\u003C\/td\u003E\r\n\u003C\/tr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003Ecustomization\u003Cbr\u003E\r\n\u003C\/td\u003E\r\n\u003Ctd\u003Eпараметр, позволяющий кастомизировать гостевую ОС\u003Cbr\u003E\r\n\u003C\/td\u003E\r\n\u003C\/tr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003Ehardware\u003Cbr\u003E\r\n\u003C\/td\u003E\r\n\u003Ctd\u003Eкастомизация hardware машины\u003Cbr\u003E\r\n\u003C\/td\u003E\r\n\u003C\/tr\u003E\r\n\u003C\/table\u003E\u003C\/div\u003E\u003Cbr\u003E\r\n\u003Cp\u003EСледующий пример клонирует машину, применит сетевые настройки и дождется момента, когда на ней будет доступна сеть:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022cs\u0022\u003E- name: Клонирование машины из шаблона\n  vmware_guest:\n    hostname: \u0026quot;{{ vcenter_server }}\u0026quot;\n    username: \u0026quot;{{ vcenter_user }}\u0026quot;\n    password: \u0026quot;{{ vcenter_pass }}\u0026quot;\n    validate_certs: False\n    datacenter: datacenter1\n    cluster: cluster1\n    name: VMNAME\n    template: TemplateName\n    folder: \/dc1\/vm\/targetFolder\n    annotation: \u0026quot;Моя машина, клонированная из TemplateName\u0026quot;\n    datastore: DATASTORE1\n    networks:\n      - name: VM Network\n        ip: \u002710.10.100.100\u0027\n        netmask: \u0027255.255.252.0\u0027\n        gateway: \u002710.10.100.10\u0027\n        dns_servers: [1.1.1.1, 8.8.8.8]\n        type: static\n    customization:\n      hostname: \u0026quot;VMNAME.domain.ru\u0026quot;\n      dns_servers: [1.1.1.1, 8.8.8.8]\n    wait_for_ip_address: yes\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\n\u003Cp\u003EПодробная документация и дополнительные примеры доступны по \u003Ca href=\u0022https:\/\/docs.ansible.com\/ansible\/latest\/modules\/vmware_guest_module.html\u0022\u003Eссылке\u003C\/a\u003E.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EДля возможности кастомизации операционной системы есть несколько условий:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Col\u003E\r\n\u003Cli\u003EОперационная система должна быть в списке поддерживаемых. Ознакомиться с матрицей поддержки операционных систем можно по \u003Ca href=\u0022https:\/\/partnerweb.vmware.com\/programs\/guestOS\/guest-os-customization-matrix.pdf\u0022\u003Eссылке\u003C\/a\u003E\u003C\/li\u003E\r\n\u003Cli\u003EУстановленные VMware Tools\u003C\/li\u003E\r\n\u003Cli\u003EНа Linux-base дистрибутивах должен быть установлен Perl\u003C\/li\u003E\r\n\u003Cli\u003EУстановлена соответствующая версии ОС Microsoft System Preparation (Sysprep) для Windows-дистрибутивов\u003C\/li\u003E\r\n\u003C\/ol\u003E\u003Cbr\u003E\r\n\u003Ch6\u003Evmware_guest_info\u003C\/h6\u003E\u003Cbr\u003E\r\n\u003Cp\u003EДанный модуль позволяет получить данные о виртуальной машине, что дает возможность комбинировать его с предыдущим.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EНапример, так выглядит переименование виртуальной машины:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022cs\u0022\u003E- name: Получаем uuid машины по имени\n  vmware_guest_facts:\n    hostname: \u0026quot;{{ vcenter_server }}\u0026quot;\n    username: \u0026quot;{{ vcenter_user }}\u0026quot;\n    password: \u0026quot;{{ vcenter_pass }}\u0026quot;\n    validate_certs: False\n    datacenter: datacenter1\n    folder: \/dc1\/vm\/targetFolder\n    name: VMNAME\n  register: vm_facts\n- name: Переименование машины\n  vmware_guest:\n    hostname: \u0026quot;{{ vcenter_server }}\u0026quot;\n    username: \u0026quot;{{ vcenter_user }}\u0026quot;\n    password: \u0026quot;{{ vcenter_pass }}\u0026quot;\n    validate_certs: False\n    cluster: cluster1\n    uuid: \u0026quot;{{ vm_facts.instance.hw_product_uuid }}\u0026quot;\n    name: NEW_VM_NAME\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Ca href=\u0022https:\/\/docs.ansible.com\/ansible\/latest\/modules\/vmware_guest_info_module.html\u0022\u003EПодробная документация.\u003C\/a\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EГлавным плюсом является то, что после клонирования машины имеется возможность продолжить настройку уже операционной системы, например установить rabbitmq, настроить правила firewall и др. В случае необходимости есть возможность написать свой модуль для Ansible на Python. Взаимодействие Python c VMware было рассмотрено в \u003Ca href=\u0022https:\/\/habr.com\/ru\/company\/avanpost\/blog\/478024\/\u0022\u003Eпредыдущей статье\u003C\/a\u003E.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EОбъединим все примеры выше и поставим себе такую задачу:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003EРазвернуть виртуальную машину с ОС Windows из шаблона\u003C\/li\u003E\r\n\u003Cli\u003EЗадать атрибут \u003Ci\u003Eowner\u003C\/i\u003E виртуальной машины\u003C\/li\u003E\r\n\u003Cli\u003EУстановить на нее 7-zip с помощью модуля \u003Ci\u003Ewin_get_url\u003C\/i\u003E\u003C\/li\u003E\r\n\u003Cli\u003EУстановить на нее postgresql с помощью модуля \u003Ci\u003Ewin_chocolatey\u003C\/i\u003E\u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022cs\u0022\u003E- name: Клонирование VM из шаблона\n  vmware_guest:\n    hostname: \u0026quot;{{ vcenter_server }}\u0026quot;\n    username: \u0026quot;{{ vcenter_user }}\u0026quot;\n    password: \u0026quot;{{ vcenter_pass }}\u0026quot;\n    validate_certs: False\n    datacenter: datacenter1\n    cluster: cluster1\n    name: VMNAME\n    template: TemplateName\n    folder: \/dc1\/vm\/targetFolder\n    annotation: \u0026quot;Моя машина, клонированная из TemplateName\u0026quot;\n    datastore: DATASTORE1\n    networks:\n      - name: VM Network\n        ip: \u002710.10.100.100\u0027\n        netmask: \u0027255.255.252.0\u0027\n        gateway: \u002710.10.100.10\u0027\n        dns_servers: [1.1.1.1, 8.8.8.8]\n        type: static\n    customization:\n      hostname: \u0026quot;VMNAME.domain.ru\u0026quot;\n      dns_servers: [1.1.1.1, 8.8.8.8]\n    wait_for_ip_address: yes\n  register: vm_facts\n\n- name: Установка аттрибута owner\n  vmware_guest_custom_attributes:\n    hostname: \u0026quot;{{ vcenter_server }}\u0026quot;\n    username: \u0026quot;{{ vcenter_user }}\u0026quot;\n    password: \u0026quot;{{ vcenter_pass }}\u0026quot;\n    validate_certs: False\n    name: VMNAME\n    uuid: \u0026quot;{{ vm_facts.instance.hw_product_uuid }}\u0026quot;\n    state: present\n    attributes:\n      - name: \u0026quot;Owner\u0026quot;\n        value: IIvanov\n\n# Добавление нового ansible-хоста\n- name: Add new host\n  add_host:\n    name: \u002710.10.100.100\u0027\n    ansible_host: \u002710.10.100.100\u0027\n    ansible_user: \u0026quot;{{ login }}\u0026quot;\n    ansible_password: \u0026quot;{{ password }}\u0026quot;\n    ansible_connection: winrm\n    ansible_winrm_transport: basic\n\n# Ожидание загрузки машины и ответа от нее\n- name: Ansible ping\n  win_ping:\n  delegate_to: \u002710.10.100.100\u0027\n  register: result\n  until: result.ping == \u0026quot;pong\u0026quot;\n  retries: 20\n  delay: 6\n\n# Установка 7-Zip с помощью win_package\n- name: Скачивание 7-zip\n  win_get_url:\n    url: https:\/\/www.7-zip.org\/a\/7z1701-x64.msi\n    dest: C:\\temp\\7z.msi\n  delegate_to: \u002710.10.100.100\u0027\n\n- name: Установка 7-zip\n  win_package:\n    path: C:\\temp\\7z.msi\n    state: present\n  delegate_to: \u002710.10.100.100\u0027\n\n- name: Установка postgresql с помощью chokolatey\n  win_chocolatey:\n    name: postgresql\n    state: present\n  delegate_to: \u002710.10.100.100\u0027\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\n\u003Cp\u003EДанный подход хорошо ложится на модель «Инфраструктура как код (IaC)», согласно которой в процессе развертывания и настройки инфраструктуры используются те же практики и методологии, что и в разработке ПО. Playbook\u0027и удобно хранить в системах контроля версий, что позволяет отслеживать изменения требований к инфраструктуре хронологически. Можно так же использовать методологию code-review для обеспечения качественного написания скриптов.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EРезультатом может служить быстрое, документированное и воспроизводимое развертывание тестовых, staging, production машин и сред.\u003C\/p\u003E",
      "is_comments_hide": 0,
      "editor_version": 1,
      "hubs": [
        {
          "id": 22321,
          "rating": 32.0144,
          "is_profiled": false,
          "title": "Блог компании Avanpost",
          "alias": "avanpost",
          "about_small": "Безопасность начинается с управления доступом",
          "about": "Avanpost",
          "count_subscribers": 29,
          "count_posts": 11,
          "tags_string": "",
          "is_membership": false,
          "is_company": true,
          "icon": "\/\/habrastorage.org\/getpro\/habr\/company\/d75\/2e0\/f2c\/d752e0f2c37a883d21f5d3dd8fe9b4d1.png",
          "path": "company\/avanpost\/"
        },
        {
          "id": 221,
          "rating": 308.4513,
          "is_profiled": true,
          "title": "Системное администрирование",
          "alias": "sys_admin",
          "about_small": "Лишь бы юзер был доволен",
          "about": "Всё, что связано с системным администрированием. Полезные и интересные материалы, статьи. Делимся опытом.",
          "count_subscribers": 117569,
          "count_posts": 4208,
          "tags_string": "пинг, ping, trace, трассировка, маршруты, маршрутизация, админ, администратор, admin, драйвера, пакеты, дрова, родительский контроль, права, консоль, терминал, настройка",
          "is_membership": false,
          "is_company": false,
          "flow": {
            "id": 6,
            "name": "Администрирование",
            "alias": "admin",
            "url": "https:\/\/habr.com\/ru\/flows\/admin\/",
            "path": "\/flows\/admin\/"
          },
          "icon": "\/\/habrastorage.org\/getpro\/habr\/hub\/6c5\/db3\/8c2\/6c5db38c23972b6c0916e91e408edff8.png",
          "path": "hub\/sys_admin\/"
        },
        {
          "id": 340,
          "rating": 192.6807,
          "is_profiled": true,
          "title": "Python",
          "alias": "python",
          "about_small": "Высокоуровневый язык программирования",
          "about": "Python (в русском языке распространено название питон) — высокоуровневый язык программирования общего назначения, ориентированный на повышение производительности разработчика и читаемости кода. Синтаксис ядра Python минималистичен. В то же время стандартная библиотека включает большой объём полезных функций.",
          "count_subscribers": 137989,
          "count_posts": 3433,
          "tags_string": "python, питон, пайтон, py, py3k",
          "is_membership": false,
          "is_company": false,
          "flow": {
            "id": 1,
            "name": "Разработка",
            "alias": "develop",
            "url": "https:\/\/habr.com\/ru\/flows\/develop\/",
            "path": "\/flows\/develop\/"
          },
          "icon": "\/\/habrastorage.org\/getpro\/habr\/hub\/1c6\/724\/437\/1c6724437b83f3d71abd08e5c2877a7a.png",
          "path": "hub\/python\/"
        },
        {
          "id": 20788,
          "rating": 157.3073,
          "is_profiled": true,
          "title": "DevOps",
          "alias": "devops",
          "about_small": "Методология разработки программного обеспечения",
          "about": "DevOps (акроним от англ. development и operations) — методология разработки программного обеспечения, нацеленная на активное взаимодействие и интеграцию специалистов по разработке и специалистов по информационно-технологическому обслуживанию. Базируется на идее о тесной взаимозависимости разработки и эксплуатации программного обеспечения, и нацелена на то, чтобы помогать организациям быстрее создавать и обновлять программные продукты и сервисы.\r\n\r\nЗадача DevOps — сделать процесс разработки и поставки программного обеспечения согласованным с эксплуатацией, часто эти задачи решаются при поддержке автоматических средств.",
          "count_subscribers": 7962,
          "count_posts": 1336,
          "tags_string": "devops",
          "is_membership": false,
          "is_company": false,
          "flow": {
            "id": 6,
            "name": "Администрирование",
            "alias": "admin",
            "url": "https:\/\/habr.com\/ru\/flows\/admin\/",
            "path": "\/flows\/admin\/"
          },
          "icon": "\/\/habrastorage.org\/getpro\/habr\/hub\/57d\/092\/3fc\/57d0923fc4dbf24622761210161f5b47.jpg",
          "path": "hub\/devops\/"
        }
      ],
      "flows": [
        {
          "id": 1,
          "name": "Разработка",
          "alias": "develop",
          "url": "https:\/\/habr.com\/ru\/flows\/develop\/",
          "path": "\/flows\/develop\/"
        },
        {
          "id": 6,
          "name": "Администрирование",
          "alias": "admin",
          "url": "https:\/\/habr.com\/ru\/flows\/admin\/",
          "path": "\/flows\/admin\/"
        }
      ],
      "is_recovery_mode": false,
      "reading_count": 65,
      "metadata": {
        "meta_image": ""
      },
      "path": "\/company\/avanpost\/blog\/498304\/",
      "full_url": "https:\/\/habr.com\/ru\/company\/avanpost\/blog\/498304\/",
      "author": {
        "id": 2146779,
        "login": "AvanpostID",
        "time_registered": "2019-08-29T15:06:01+03:00",
        "score": 12,
        "fullname": null,
        "specializm": "Пользователь",
        "sex": 0,
        "rating": 5.6,
        "vote": 0,
        "contacts": [],
        "rating_position": 737,
        "path": "\/users\/avanpostid\/",
        "geo": {
          "country": null,
          "region": null,
          "city": null
        },
        "counters": {
          "posts": 10,
          "comments": 10,
          "followed": 0,
          "followers": 17,
          "favorites": 0
        },
        "badges": [
          {
            "id": 1,
            "title": "Захабренный",
            "alias": "habred",
            "description": "Пользователь с кармой \u003E0",
            "url": null,
            "is_removable": false,
            "is_disabled": false
          }
        ],
        "avatar": "https:\/\/habrastorage.org\/getpro\/habr\/avatars\/764\/d07\/ca9\/764d07ca99e3e47e1a3f667bf78e195c.png",
        "is_readonly": false,
        "is_rc": false,
        "is_subscribed": false,
        "common_tags": [],
        "is_can_vote": true
      },
      "has_polls": false,
      "url": "https:\/\/habr.com\/ru\/company\/avanpost\/blog\/498304\/",
      "post_type": 1,
      "post_type_str": "simple",
      "vote": null,
      "is_can_vote": true,
      "voting": {
        "score": 0,
        "voteCount": {
          "total": 0,
          "positive": 0,
          "negative": 0
        },
        "vote": null,
        "reasonMap": null
      },
      "is_habred": true,
      "is_interesting": false,
      "is_favorite": false,
      "comments_new": 1
    },
    {
      "id": 498294,
      "is_corporative": 1,
      "is_tutorial": false,
      "time_published": "2020-04-21T14:01:42+03:00",
      "time_interesting": "2020-04-21T14:35:46+03:00",
      "comments_count": 0,
      "score": 9,
      "votes_count": 9,
      "favorites_count": 2,
      "lang": "ru",
      "tags_string": "распознавание объектов, машинное обучение",
      "title": "Object Detection. Распознавай и властвуй. Часть 1",
      "preview_html": "\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/5k\/b7\/xg\/5kb7xgefnpcnznbmwix4lqdme3i.jpeg\u0022\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nТехнологии компьютерного зрения позволяют в сегодняшних реалиях сделать жизнь и бизнес проще, дешевле, безопаснее. По \u003Ca href=\u0022http:\/\/www.tadviser.ru\/index.php\/%D0%A1%D1%82%D0%B0%D1%82%D1%8C%D1%8F:%D0%9A%D0%BE%D0%BC%D0%BF%D1%8C%D1%8E%D1%82%D0%B5%D1%80%D0%BD%D0%BE%D0%B5_%D0%B7%D1%80%D0%B5%D0%BD%D0%B8%D0%B5:_%D1%82%D0%B5%D1%85%D0%BD%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D0%B8,_%D1%80%D1%8B%D0%BD%D0%BE%D0%BA,_%D0%BF%D0%B5%D1%80%D1%81%D0%BF%D0%B5%D0%BA%D1%82%D0%B8%D0%B2%D1%8B\u0022 rel=\u0022nofollow\u0022\u003Eоценкам\u003C\/a\u003E разных экспертов этот рынок будет двигаться в ближайшие годы только в сторону роста, что и позволяет развиваться соответствующим технологиям как в сторону производительности, так и качества. Одним из наиболее востребованных разделов является Object Detection (обнаружение объектов) – определение объекта на изображении или в видео потоке. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nВремена, когда обнаружение объектов решалось исключительно путем классического машинного обучения (каскады, SVM...) уже прошли – сейчас в этой сфере царят подходы, основанные на Deep Learning. В 2014 году был предложен подход, существенно повлиявший на последующие исследования и разработки в этой области – R-CNN модель. Последующие его улучшения (в виде Fast R-CNN и Faster R-CNN) сделали его одним из самых точных, что и стало причиной его использования по сей день.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nПомимо R-CNN есть еще много подходов реализующих поиск объектов: семейство Yolo, SSD, RetinaNet, CenterNet… Кто-то из них предлагает альтернативный подход, а кто-то развивает текущий в сторону увеличения показателя производительности. Обсуждение почти каждого из них можно вынести в отдельную статью, по причине обилия фишек и ухищрений :) \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nК изучению предлагаю набор статей с разбором двухступенчатых Object Detection моделей. Умение разбираться в их устройстве приносит понимание базовых идей, применяемых и в других реализациях. В этом посте рассмотрим самую базовую и, соответственно, первую из них – R-CNN. \u003Cbr\u003E",
      "text_cut": "Читать дальше \u0026rarr;",
      "text_html": "\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/5k\/b7\/xg\/5kb7xgefnpcnznbmwix4lqdme3i.jpeg\u0022\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nТехнологии компьютерного зрения позволяют в сегодняшних реалиях сделать жизнь и бизнес проще, дешевле, безопаснее. По \u003Ca href=\u0022http:\/\/www.tadviser.ru\/index.php\/%D0%A1%D1%82%D0%B0%D1%82%D1%8C%D1%8F:%D0%9A%D0%BE%D0%BC%D0%BF%D1%8C%D1%8E%D1%82%D0%B5%D1%80%D0%BD%D0%BE%D0%B5_%D0%B7%D1%80%D0%B5%D0%BD%D0%B8%D0%B5:_%D1%82%D0%B5%D1%85%D0%BD%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D0%B8,_%D1%80%D1%8B%D0%BD%D0%BE%D0%BA,_%D0%BF%D0%B5%D1%80%D1%81%D0%BF%D0%B5%D0%BA%D1%82%D0%B8%D0%B2%D1%8B\u0022\u003Eоценкам\u003C\/a\u003E разных экспертов этот рынок будет двигаться в ближайшие годы только в сторону роста, что и позволяет развиваться соответствующим технологиям как в сторону производительности, так и качества. Одним из наиболее востребованных разделов является Object Detection (обнаружение объектов) – определение объекта на изображении или в видео потоке. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nВремена, когда обнаружение объектов решалось исключительно путем классического машинного обучения (каскады, SVM...) уже прошли – сейчас в этой сфере царят подходы, основанные на Deep Learning. В 2014 году был предложен подход, существенно повлиявший на последующие исследования и разработки в этой области – R-CNN модель. Последующие его улучшения (в виде Fast R-CNN и Faster R-CNN) сделали его одним из самых точных, что и стало причиной его использования по сей день.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nПомимо R-CNN есть еще много подходов реализующих поиск объектов: семейство Yolo, SSD, RetinaNet, CenterNet… Кто-то из них предлагает альтернативный подход, а кто-то развивает текущий в сторону увеличения показателя производительности. Обсуждение почти каждого из них можно вынести в отдельную статью, по причине обилия фишек и ухищрений :) \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nК изучению предлагаю набор статей с разбором двухступенчатых Object Detection моделей. Умение разбираться в их устройстве приносит понимание базовых идей, применяемых и в других реализациях. В этом посте рассмотрим самую базовую и, соответственно, первую из них – R-CNN. \u003Cbr\u003E\r\n\u003Ca name=\u0022habracut\u0022\u003E\u003C\/a\u003E\u003Cbr\u003E\r\n\u003Ch1\u003EТерминология\u003C\/h1\u003E\u003Cbr\u003E\r\n\u003Cstrong\u003EОграничивающая рамка (bounding box)\u003C\/strong\u003E – координаты, ограничивающие определенную область изображения, – чаще всего в форме прямоугольника. Может быть представлена 4 координатами в двух форматах: центрированный (\u003Cmath\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/formulas\/c1a\/65d\/eab\/c1a65deabb045fbd5990366a08ecda1d.svg\u0022 alt=\u0022$c_{x},c_{y},w,h$\u0022 data-tex=\u0022inline\u0022\u003E\u003C\/math\u003E) и обычный (\u003Cmath\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/formulas\/2c9\/6bf\/514\/2c96bf5147d3b2d967fcbdfde2f06f6b.svg\u0022 alt=\u0022$x_{min},y_{min},x_{max},y_{max}$\u0022 data-tex=\u0022inline\u0022\u003E\u003C\/math\u003E).\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cstrong\u003EГипотеза (Proposal), \u003C\/strong\u003EP – определенный регион изображения (заданный с помощью ограничивающей рамки), в котором предположительно находится объект.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cstrong\u003EEnd-to-end обучение\u003C\/strong\u003E – обучение, при котором на вход сети поступают сырые изображения, а на выходе – готовые ответы.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cstrong\u003EIoU (Intersection-over-Union)\u003C\/strong\u003E – метрика степени пересечения между двумя ограничивающими рамками.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch1\u003ER-CNN\u003C\/h1\u003E\u003Cbr\u003E\r\nОдним из первых подходов, применимых для определения нахождения объекта на картинке, является R-CNN (Region Convolution Neural Network). Его архитектура состоит из нескольких последовательно выполняемых шагов и проиллюстрирована на изображении 1:\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Col\u003E\r\n\u003Cli\u003EОпределение набора гипотез.\u003C\/li\u003E\r\n\u003Cli\u003EИзвлечение из предполагаемых регионов признаков с помощью сверточной нейронной сети и их кодирование в вектор.\u003C\/li\u003E\r\n\u003Cli\u003EКлассификация объекта внутри гипотезы на основе вектора из шага 2.\u003C\/li\u003E\r\n\u003Cli\u003EУлучшение (корректировка) координат гипотезы.\u003C\/li\u003E\r\n\u003Cli\u003EВсе повторяется, начиная с шага 2, пока не будут обработаны все гипотезы с шага 1.\u003C\/li\u003E\r\n\u003C\/ol\u003E\u003Cbr\u003E\r\nРассмотрим каждый шаг подробнее.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/gh\/oz\/x6\/ghozx6nwueqo340tvo-wwzhrup4.png\u0022\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch2\u003EПоиск гипотез\u003C\/h2\u003E\u003Cbr\u003E\r\nИмея определенное изображение на входе первым делом, оно разбивается на маленькие гипотезы разных размеров. Авторы этой \u003Ca href=\u0022https:\/\/www.learnopencv.com\/selective-search-for-object-detection-cpp-python\/\u0022\u003Eстатьи\u003C\/a\u003E используют \u003Cstrong\u003ESelective Search\u003C\/strong\u003E – верхнеуровнево, он позволяет составить набор гипотез (класс объекта пока не имеет значения), на основе сегментации определить границы объектов по интенсивности пикселей, перепаду цветов, контраста и текстур. При этом авторы отмечают, что можно использовать любой аналогичный алгоритм. Таким образом выделяется примерно 2000 разных регионов, которые частично друг друга перекрывают. Для более точной последующей обработки каждая гипотеза дополнительно расширяется на 16 пикселей во всех 4 направлениях – как бы добавляя \u003Ci\u003Eконтекст\u003C\/i\u003E.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cstrong\u003EИтог:\u003C\/strong\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003EВход: исходное изображение.\u003C\/li\u003E\r\n\u003Cli\u003EВыход: набор гипотез разного размера и соотношения сторон.\u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\u003E\r\n\u003Ch2\u003EКодирование изображения\u003C\/h2\u003E\u003Cbr\u003E\r\nКаждая гипотеза из предыдущего шага независимо и по отдельности друг от друга поступает на вход сверточной нейронной сети. В качестве нее используется архитектура AlexNet без последнего softmax-слоя. Главной задачей сети является кодирование поступаемого изображения в векторное представление, которое извлекается из последнего полносвязного \u003Ci\u003EFC7\u003C\/i\u003E слоя. Так на выходе получается 4096-размерное векторное представление. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nМожно заметить, что вход AlexNet имеет размерность 3×227×227, а размер гипотезы может быть почти любого соотношения сторон и размера. Эта проблема обходится простым сжатием или растягиванием входа до нужного размера.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cstrong\u003EИтог:\u003C\/strong\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003EВход: каждая из предложенных на предыдущем шаге гипотеза. \u003C\/li\u003E\r\n\u003Cli\u003EВыход: векторное представление для каждой гипотезы.\u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\u003E\r\n\u003Ch2\u003EКлассификация\u003C\/h2\u003E\u003Cbr\u003E\r\nПосле получения характеризующего гипотезу вектора становится возможна ее дальнейшая обработка. Для определения, какой именно объект находится в предполагаемом регионе, авторы используют классический метод классификации разделяющими плоскостями на базе SVM (Support Vector Machine – машина опорных векторов, можно смоделировать с помощью \u003Ca href=\u0022https:\/\/en.wikipedia.org\/wiki\/Hinge_loss\u0022\u003EHinge loss\u003C\/a\u003E). Причем должно быть \u003Cmath\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/formulas\/3bb\/c45\/cf5\/3bbc45cf52b65763e5056e645f2a6532.svg\u0022 alt=\u0022$N_{c}+1$\u0022 data-tex=\u0022inline\u0022\u003E\u003C\/math\u003E отдельных (здесь, \u003Cmath\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/formulas\/cd7\/93e\/6d9\/cd793e6d98de4ebe6942e292f218d5bd.svg\u0022 alt=\u0022$N_{c}$\u0022 data-tex=\u0022inline\u0022\u003E\u003C\/math\u003E обозначает количество определяемых классов объектов, а единица добавляется для отдельного определения фона) моделей, обученных по принципу OvR (One vs. Rest – один против всех, один из методов мультиклассовой классификации). По сути, решается задача бинарной классификации – есть ли конкретный класс объекта внутри предполагаемого региона или нет. Таким образом, выходом является \u003Cmath\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/formulas\/3bb\/c45\/cf5\/3bbc45cf52b65763e5056e645f2a6532.svg\u0022 alt=\u0022$N_{c}+1$\u0022 data-tex=\u0022inline\u0022\u003E\u003C\/math\u003E-размерный вектор, отображающий \u003Ci\u003Eуверенность\u003C\/i\u003E в конкретном классе содержащегося в гипотезе объекта (фон исторически обозначается нулевым классом, \u003Cmath\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/formulas\/584\/90a\/024\/58490a0240b989daecebcb47ecb9fdbf.svg\u0022 alt=\u0022$C_{i}=0$\u0022 data-tex=\u0022inline\u0022\u003E\u003C\/math\u003E).\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cstrong\u003EИтог:\u003C\/strong\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003EВход: вектор каждой из предложенных гипотез из предпоследнего слоя сети (в случае AlexNet это FC7).\u003C\/li\u003E\r\n\u003Cli\u003EВыход: после последовательного запуска каждой гипотезы, получаем матрицу размерности \u003Cmath\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/formulas\/4d3\/0ce\/884\/4d30ce8841e2b0b83f74e72df526f097.svg\u0022 alt=\u0022$2000×N_{c}$\u0022 data-tex=\u0022inline\u0022\u003E\u003C\/math\u003E, отображающую класс объекта для каждой гипотезы.\u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\u003E\r\n\u003Ch2\u003EУточнение координат гипотез\u003C\/h2\u003E\u003Cbr\u003E\r\nГипотезы, полученные на шаге 1 не всегда содержат правильные координаты (например, объект может быть неудачно «обрезан»), поэтому имеет смысл их дополнительно исправлять. По заверению авторов, это приносит дополнительные 3-4 % к метрикам. Так, гипотезы, содержащие какой-либо объект (наличие объекта определяется на шаге классификации), дополнительно обрабатываются линейной регрессией. То есть гипотезы с классом «фон» не нуждаются в дополнительной обработке регионов, ведь на самом деле там нет объекта… \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nКаждый объект, специфично для своего класса, имеет определенные размеры и соотношения сторон, поэтому, что логично, рекомендуется применять собственный регрессор на каждый класс.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nВ отличие от предыдущего шага, авторы для наилучшей работы используют на входе не вектор из слоя \u003Ci\u003EFC7\u003C\/i\u003E, а карты признаков, извлеченные из последнего MaxPooling слоя (в AlexNet это \u003Cmath\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/formulas\/90b\/726\/f1c\/90b726f1c082ac2bb52cf9a4ef238846.svg\u0022 alt=\u0022$MaxPool_{5}$\u0022 data-tex=\u0022inline\u0022\u003E\u003C\/math\u003E, размерность 256×6×6). Объяснение тут следующее – вектор сохраняет информацию о наличии объекта с какими-то характеристическими подробностями, а карта признаков наилучшим образом сохраняет информацию о местоположении объектов.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cstrong\u003EИтог:\u003C\/strong\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003EВход: карта признаков из последнего MaxPooling слоя для каждой гипотезы, которая содержит любой объект, кроме фона.\u003C\/li\u003E\r\n\u003Cli\u003EВыход: поправки к координатам ограничивающей рамки гипотезы.\u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\u003E\r\n\u003Ch2\u003EВспомогательные трюки\u003C\/h2\u003E\u003Cbr\u003E\r\nПрежде чем переходить к подробностям обучения модели, рассмотрим два необходимых трюка, которые понадобятся нам позднее.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch3\u003EОбозначение позитивных и негативных гипотез\u003C\/h3\u003E\u003Cbr\u003E\r\nПри обучении с учителем всегда необходим определенный баланс между классами. Обратное может привести к плохой точности классификации. Например, если в выборке с двумя классами первый встречается лишь в нескольких процентах случаев, то сети сложно обучиться его определять – ведь это можно интерпретировать как выброс. В случае задач Object Detection как раз присутствует такая проблема — на картинке с единственным объектом лишь несколько гипотез (из ~2000) содержат этот самый объект (\u003Cmath\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/formulas\/e41\/600\/886\/e41600886a879d3a3e28bc203bb2db8b.svg\u0022 alt=\u0022$C_{i}\u0026gt;0$\u0022 data-tex=\u0022inline\u0022\u003E\u003C\/math\u003E), а все остальные являются фоном (\u003Cmath\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/formulas\/584\/90a\/024\/58490a0240b989daecebcb47ecb9fdbf.svg\u0022 alt=\u0022$C_{i}=0$\u0022 data-tex=\u0022inline\u0022\u003E\u003C\/math\u003E). \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nПримем необходимое обозначение: гипотезы, содержащие объекты, будем называть \u003Cstrong\u003Eпозитивными\u003C\/strong\u003E (positive), а без объектов (содержащие только фон, или незначительную часть объекта) – \u003Cstrong\u003Eнегативными\u003C\/strong\u003E (negative).\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nДля того, чтобы в последующем определить пересечения между двумя регионами изображения будет использоваться метрика \u003Cstrong\u003EIntersection over Union\u003C\/strong\u003E. Она считается довольно просто: площадь пересечения двух областей делится на общую площадь регионов. На изображении ниже можно увидеть иллюстрации примеров подсчета метрики.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/hg\/xi\/zj\/hgxizjtbx6vlispj9rl8nzfvhsu.png\u0022\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nС позитивными гипотезами все понятно – если класс определен неверно, нужно штрафовать. Но как быть с негативными? Их намного больше, чем позитивных… Для начала отметим, что не все негативные гипотезы одинаково сложно распознавать. Например, случаи, содержащие только фон (\u003Ci\u003Eeasy negative\u003C\/i\u003E) гораздо проще классифицировать, чем содержащие другой объект или малую часть нужного (\u003Ci\u003Ehard negative\u003C\/i\u003E). \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nНа практике easy negative и hard negative определяются по пересечению ограничивающей рамки (как раз используется Intersection over Union) с правильным положением объекта на изображении. Например, если пересечения нет, или оно крайне мало – это easy negative (\u003Cmath\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/formulas\/584\/90a\/024\/58490a0240b989daecebcb47ecb9fdbf.svg\u0022 alt=\u0022$C_{i}=0$\u0022 data-tex=\u0022inline\u0022\u003E\u003C\/math\u003E), если большое – это hard negative или positive.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nПодход \u003Cstrong\u003EHard Negative Mining\u003C\/strong\u003E предлагает использовать для обучения только hard negative, поскольку, научившись распознавать их, мы автоматический добиваемся наилучшей работы с easy negative гипотезами. Но такая идеология будет применяться только в последующих реализациях (начиная с Fast R-CNN).\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch3\u003ENon-maximum suppression\u003C\/h3\u003E\u003Cbr\u003E\r\nДовольно часто получается так, что модель выделяет несколько гипотез с большой уверенностью указывающие на один и тот же объект. С помощью \u003Cstrong\u003ENon-maximum suppression\u003C\/strong\u003E (NMS) можно обработать такие случаи и оставить только одну, наилучшую, ограничивающую рамку. Но при этом не стоит забывать о случае, когда на изображении может быть два разных объекта одного класса. На изображении 3 проиллюстрирован эффект работы до (слева) и после (справа) работы алгоритма.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/xo\/8r\/8y\/xo8r8yprbkfhwfv9uemmpsfavve.png\u0022\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nРассмотрим алгоритм работы на одном классе (в реальности он применяется на каждый класс по отдельности):\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Col\u003E\r\n\u003Cli\u003EНа вход функция принимает набор гипотез для одного класса и порог, задающий величину максимального пересечения между гипотезами.\u003C\/li\u003E\r\n\u003Cli\u003EГипотезы сортируются по их «уверенности».\u003C\/li\u003E\r\n\u003Cli\u003EВ цикле выбирается первая гипотеза (имеет наибольшую величину уверенности) и добавляется в результирующий набор.\u003C\/li\u003E\r\n\u003Cli\u003EВ цикле выбирается следующая, вторая гипотеза (среди оставшихся после шага 3).\u003C\/li\u003E\r\n\u003Cli\u003EЕсли между выбранными гипотезами пересечение больше, чем выбранный порог (пересечение считается на основе Intersection of Union), то вторая гипотеза отбрасывается и далее не присутствует в результирующем наборе.\u003C\/li\u003E\r\n\u003Cli\u003EВсе повторяется, начиная с шага 3 до момента полного перебора гипотез.\u003C\/li\u003E\r\n\u003C\/ol\u003E\u003Cbr\u003E\r\nПсевдокод выглядит так:\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022python\u0022\u003Efunction nms(hypotheses, threshold):\n    sorted = sort(hypotheses.values, key=hypotheses.scores)\n    result = []\n    for first in sorted:\n        result.join(first)\n        without_first = sorted \/ first\n        for second in without_first:\n            if IoU(first, second) \u0026gt; threshold:\n                 sorted.remove(second)\n    return result\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch2\u003EОбучение\u003C\/h2\u003E\u003Cbr\u003E\r\nБлок выделения гипотез не подлежит обучению.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nПоскольку сеть разделена на несколько отдельных друг от друга блоков, то она не может обучаться по принципу end-to-end. Так, обучение представляет собой последовательный процесс.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch3\u003EОбучение векторного представления\u003C\/h3\u003E\u003Cbr\u003E\r\nЗа основу берётся предобученная на ImageNet сеть – такие сети уже умеют хорошо извлекать важные признаки из поступающих изображений, – остается обучить их работать с нужными классами. Для этого необходимо изменить размерность выходного слоя на \u003Cmath\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/formulas\/cd7\/93e\/6d9\/cd793e6d98de4ebe6942e292f218d5bd.svg\u0022 alt=\u0022$N_{c}$\u0022 data-tex=\u0022inline\u0022\u003E\u003C\/math\u003E и обучить уже модифицированный вариант. Первые слои можно заблокировать, поскольку они извлекают первичные (почти одинаковые для всех изображений) признаки, а последующие во время обучения адаптируются под признаки нужных классов. Так сходимость будет достигаться гораздо быстрее. Но если обучение все же идет плохо, можно разблокировать и первичные слои. Поскольку необходимо именно донастроить уже имеющиеся веса. Использовать большой темп обучения (learning rate) не рекомендуется, – можно очень быстро затереть уже имеющиеся веса.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nКогда сеть обучилась хорошо классифицировать объекты, последний слой с SoftMax активацией отбрасывается и выходом становится слой FC7, выход которого в свою очередь можно интерпретировать как векторное представление гипотезы.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nПозитивными на этом шаге считаются гипотезы, которые пересекаются с правильным положением объекта (по IoU) более чем на 0.5. Негативными же считаются все остальные. Для обновления весов используется мини-батч размерности 128, состоящий из 32 позитивных и 96 негативных гипотез.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch3\u003EОбучение классификаторов\u003C\/h3\u003E\u003Cbr\u003E\r\nНапомню, для классификации каждой гипотезы используется \u003Cmath\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/formulas\/3bb\/c45\/cf5\/3bbc45cf52b65763e5056e645f2a6532.svg\u0022 alt=\u0022$N_{c}+1$\u0022 data-tex=\u0022inline\u0022\u003E\u003C\/math\u003E SVM моделей, которые получают на вход векторное представление гипотезы, и на основе принципа \u003Ci\u003Eодин против остальных\u003C\/i\u003E (One-vs-Rest) определяют класс объекта. Обучаются они как обычные SVM модели за одним исключением – на этом шаге определение позитивов и негативов немного отличается. Здесь за негативы берутся те гипотезы, пересечение которых с правильным положением менее 0.3.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch3\u003EОбучение регрессоров\u003C\/h3\u003E\u003Cbr\u003E\r\nОбозначим:\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003E\u003Cmath\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/formulas\/158\/0e0\/ac3\/1580e0ac3f6cb72d888da5c65e942975.svg\u0022 alt=\u0022$G=(g_{x},g_{y},g_{w},g_{h})$\u0022 data-tex=\u0022inline\u0022\u003E\u003C\/math\u003E – правильные координаты объекта;\u003C\/li\u003E\r\n\u003Cli\u003E\u003Cmath\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/formulas\/95d\/99c\/f6e\/95d99cf6e615fccacc234f71bd9d0222.svg\u0022 alt=\u0022$\\hat{G}=(\\hat{g_{x}},\\hat{g_{y}},\\hat{g_{w}},\\hat{g_{h}})$\u0022 data-tex=\u0022inline\u0022\u003E\u003C\/math\u003E – исправленное положение координат гипотез (должно совпадать с \u003Cmath\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/formulas\/560\/bd9\/7f2\/560bd97f235311a36dff00db005e6ab5.svg\u0022 alt=\u0022$G$\u0022 data-tex=\u0022inline\u0022\u003E\u003C\/math\u003E);\u003C\/li\u003E\r\n\u003Cli\u003E\u003Cmath\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/formulas\/901\/a59\/092\/901a590920bd2599d513a7f605731465.svg\u0022 alt=\u0022$T=(t_{x},t_{y},t_{w},t_{y})$\u0022 data-tex=\u0022inline\u0022\u003E\u003C\/math\u003E – правильные поправки к координатам;\u003C\/li\u003E\r\n\u003Cli\u003E\u003Cmath\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/formulas\/24a\/6ed\/08b\/24a6ed08b858d105fbdc253ca89a1b3a.svg\u0022 alt=\u0022$P=(p_{x},p_{y},p_{w},p_{h})$\u0022 data-tex=\u0022inline\u0022\u003E\u003C\/math\u003E – координаты гипотезы;\u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\u003E\r\nТак регрессоры (по одному, на каждый класс) представляют собой четыре функции:\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003E\u003Cmath\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/formulas\/d4b\/681\/971\/d4b68197124e58b7d413e2b57d21dba2.svg\u0022 alt=\u0022$d_{x}(P)$\u0022 data-tex=\u0022inline\u0022\u003E\u003C\/math\u003E, \u003Cmath\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/formulas\/bf0\/1c7\/444\/bf01c744407408edca69a27bd544606f.svg\u0022 alt=\u0022$d_{y}(P)$\u0022 data-tex=\u0022inline\u0022\u003E\u003C\/math\u003E – определяют поправки к координатам центра (\u003Cmath\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/formulas\/ca5\/685\/9a9\/ca56859a9c0a213789bc5f4b3a866965.svg\u0022 alt=\u0022$x,y$\u0022 data-tex=\u0022inline\u0022\u003E\u003C\/math\u003E). Для достижения эффекта независимости от исходного размера поправка должна быть нормализованной.\u003C\/li\u003E\r\n\u003Cli\u003E\u003Cmath\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/formulas\/10a\/b7a\/bfc\/10ab7abfcb39f5dfc53772b7caf2dab6.svg\u0022 alt=\u0022$d_{w}(P)$\u0022 data-tex=\u0022inline\u0022\u003E\u003C\/math\u003E и \u003Cmath\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/formulas\/a20\/5c9\/2ef\/a205c92ef1137dccb0220cac0e5027fa.svg\u0022 alt=\u0022$d_{h}(P)$\u0022 data-tex=\u0022inline\u0022\u003E\u003C\/math\u003E – определяют поправки к ширине и высоте в логарифмическом пространстве (логарифмическое пространство используется для численной устойчивости, а деление – для определения направления поправки).\u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\u003E\r\nОбозначим как \u003Cmath\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/formulas\/5eb\/901\/772\/5eb901772366e92e4a138c81e270eb0b.svg\u0022 alt=\u0022$\\varphi_{5}(P)$\u0022 data-tex=\u0022inline\u0022\u003E\u003C\/math\u003E карту признаков, полученную из \u003Cmath\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/formulas\/90b\/726\/f1c\/90b726f1c082ac2bb52cf9a4ef238846.svg\u0022 alt=\u0022$MaxPool_{5}$\u0022 data-tex=\u0022inline\u0022\u003E\u003C\/math\u003E слоя сети (напоминаю, он имеет размерность 256×6×6, потом просто вытягивается), при подаче в сеть гипотезы, ограниченной координатами \u003Cmath\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/formulas\/c3d\/2f2\/c44\/c3d2f2c44fc42edea27de7f8f67b4829.svg\u0022 alt=\u0022$P$\u0022 data-tex=\u0022inline\u0022\u003E\u003C\/math\u003E. Будем искать преобразование \u003Cmath\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/formulas\/c3d\/2f2\/c44\/c3d2f2c44fc42edea27de7f8f67b4829.svg\u0022 alt=\u0022$P$\u0022 data-tex=\u0022inline\u0022\u003E\u003C\/math\u003E в \u003Cmath\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/formulas\/560\/bd9\/7f2\/560bd97f235311a36dff00db005e6ab5.svg\u0022 alt=\u0022$G$\u0022 data-tex=\u0022inline\u0022\u003E\u003C\/math\u003E как:\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\\begin{align}\u003Cbr\u003E\r\n\\hat{g_x} \u0026amp;= p_w d_x(P) + p_x \\\\\u003Cbr\u003E\r\n\\hat{g_y} \u0026amp;= p_h d_y(P) + p_y \\\\\u003Cbr\u003E\r\n\\hat{g_w} \u0026amp;= p_w e^{d_w(P)} \\\\\u003Cbr\u003E\r\n\\hat{g_h} \u0026amp;= p_h e^{d_h(P)}\u003Cbr\u003E\r\n\\end{align}\u003Cbr\u003E\r\nПри этом \u003Cmath\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/formulas\/26c\/2a0\/659\/26c2a0659dc3e5eaadaca3fc1f260918.svg\u0022 alt=\u0022$d_{*}(P)={w_{*}}^{T}\\varphi_{5}(P)$\u0022 data-tex=\u0022inline\u0022\u003E\u003C\/math\u003E (здесь \u003Cmath\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/formulas\/42a\/5b9\/970\/42a5b997065a371f1dd3e44efd081d54.svg\u0022 alt=\u0022$*∈(x,y,w,h)$\u0022 data-tex=\u0022inline\u0022\u003E\u003C\/math\u003E) является линейной функцией, а вектор \u003Cmath\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/formulas\/998\/b80\/161\/998b80161caa1332d3be9eb3e976e15f.svg\u0022 alt=\u0022$w_{*}$\u0022 data-tex=\u0022inline\u0022\u003E\u003C\/math\u003E ищется с помощью задачи оптимизации (ridge регрессия):\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cp\u003E\u003C\/p\u003E\u003Cp\u003E\u003Cmath\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/formulas\/6c4\/d13\/967\/6c4d13967fd5e07b245e0b084994f535.svg\u0022 alt=\u0022$w_{*}=argmax_{\\hat{w_{*}}}\\sum_{i}^{N}(T_{i_{*}}-d_{*}(P))^{2}+\\lambda \\left \\| \\hat{w_{x}} \\right \\|^{2}$\u0022 data-tex=\u0022display\u0022\u003E\u003C\/math\u003E\u003C\/p\u003E\u003Cbr\u003E\r\nДля определения поправок к координатам соберем пары между правильным положением гипотез \u003Cmath\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/formulas\/560\/bd9\/7f2\/560bd97f235311a36dff00db005e6ab5.svg\u0022 alt=\u0022$G$\u0022 data-tex=\u0022inline\u0022\u003E\u003C\/math\u003E и их текущем состоянием \u003Cmath\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/formulas\/c3d\/2f2\/c44\/c3d2f2c44fc42edea27de7f8f67b4829.svg\u0022 alt=\u0022$P$\u0022 data-tex=\u0022inline\u0022\u003E\u003C\/math\u003E, и определим значения \u003Cmath\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/formulas\/faf\/f12\/28c\/faff1228ceaab21dcf270273d087ea2e.svg\u0022 alt=\u0022$T_{*}$\u0022 data-tex=\u0022inline\u0022\u003E\u003C\/math\u003E как:\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\\begin{align}\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nT_x \u0026amp;= \\frac{g_x-p_x}{p_w} \\\\ \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nT_y \u0026amp;= \\frac{g_y-p_y}{p_h} \\\\ \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nT_w \u0026amp;= \\log{\\frac{g_w}{p_w}} \\\\ \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nT_h \u0026amp;= \\log{\\frac{g_h}{p_h}}\\qquad\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\\end{align}\u003Cbr\u003E\r\n\u003Cstrong\u003EОбозначения в формулах внутри этой статьи с целью наилучшего понимания могут расходиться с обозначениями оригинальной статьи.\u003C\/strong\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nПоскольку по итогу работы сети на выходе имеется ~2000 гипотез, они объединяются с помощью Non-maximum suppression. Авторы статьи также указывают, что если вместо SVM использовать SoftMax слой (который был откинут на втором шаге), то точность падает на ~4-4.5 % (датасет VOC 2007), но при этом отмечают, что лучшая «подгонка» весов вероятно поможет избавиться от такой проблемы.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch3\u003EВ заключение выделим основные недостатки такого подхода:\u003C\/h3\u003E\u003Cbr\u003E\r\n\u003Col\u003E\r\n\u003Cli\u003EГипотезы, предложенные на шаге 1, могут частично дублировать друг друга – разные гипотезы могут состоять из одинаковых частей, а каждая такая гипотеза отдельно обрабатывалась нейронной сетью. Так получается, что большая часть запусков сети более или менее дублирует друг друга без надобности.\u003C\/li\u003E\r\n\u003Cli\u003EНельзя использовать для real-time работы, поскольку на проход 1 изображения (кадра) тратится ~53 секунды (NVIDIA Titan Black GPU).\u003C\/li\u003E\r\n\u003Cli\u003EАлгоритм выделения гипотез никак не обучается, а поэтому дальнейшее улучшение качества почти невозможно (никто не отменял плохие гипотезы).\u003C\/li\u003E\r\n\u003C\/ol\u003E\u003Cbr\u003E\r\nНа этом разбор самой первой R-CNN модели заканчивается. Более усовершенствованные реализации (в виде Fast R-CNN и Faster R-CNN) будут разобраны в следующей статье, которую выложу в ближайшее время. Следите за обновлениями. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch2\u003EСписок литературы\u003C\/h2\u003E\u003Cbr\u003E\r\n1. \u003Ci\u003ER. Girshick, J. Donahue, T. Darrell, and J. Malik. «Rich feature hierarchies for accurate object detection and semantic segmentation.» In CVPR, 2014. \u003C\/i\u003E\u003Ca href=\u0022https:\/\/arxiv.org\/abs\/1311.2524\u0022\u003E\u003Ci\u003E\u003Cstrong\u003EarXiv:1311.2524\u003C\/strong\u003E\u003C\/i\u003E\u003C\/a\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ci\u003E2. R. Girshick, J. Donahue, T. Darrell, and J. Malik. «Region-based convolutional networks for accurate object detection and segmentation.» TPAMI, 2015\u003C\/i\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nАвтор: Сергей Михайлин, специалист машинного обучения «Инфосистемы Джет»",
      "is_comments_hide": 0,
      "editor_version": 1,
      "hubs": [
        {
          "id": 18955,
          "rating": 164.2643,
          "is_profiled": false,
          "title": "Блог компании Инфосистемы Джет",
          "alias": "jetinfosystems",
          "about_small": "Системный интегратор",
          "about": "Инфосистемы Джет",
          "count_subscribers": 18871,
          "count_posts": 211,
          "tags_string": "",
          "is_membership": false,
          "is_company": true,
          "icon": "\/\/habrastorage.org\/getpro\/habr\/company\/213\/252\/8a7\/2132528a7589625329ce040668339a57.png",
          "path": "company\/jetinfosystems\/"
        },
        {
          "id": 8000,
          "rating": 200.3577,
          "is_profiled": true,
          "title": "Алгоритмы",
          "alias": "algorithms",
          "about_small": "Все об алгоритмах",
          "about": "Пишем про полезные и не очень алгоритмы, а также изучаем уже существующие.",
          "count_subscribers": 256771,
          "count_posts": 3653,
          "tags_string": "алгоритм, алгоритмы, задачки, решения, математика, программирование",
          "is_membership": false,
          "is_company": false,
          "flow": {
            "id": 1,
            "name": "Разработка",
            "alias": "develop",
            "url": "https:\/\/habr.com\/ru\/flows\/develop\/",
            "path": "\/flows\/develop\/"
          },
          "icon": "\/\/habrastorage.org\/getpro\/habr\/hub\/61e\/bf9\/7b0\/61ebf97b08494e41ad7b7cad1e0aacc7.png",
          "path": "hub\/algorithms\/"
        },
        {
          "id": 19439,
          "rating": 240.9343,
          "is_profiled": true,
          "title": "Машинное обучение",
          "alias": "machine_learning",
          "about_small": "Основа искусственного интеллекта",
          "about": "Машинное обучение — обширный подраздел искусственного интеллекта, изучающий методы построения моделей, способных обучаться, и алгоритмов для их построения и обучения.",
          "count_subscribers": 34457,
          "count_posts": 2582,
          "tags_string": "машинное обучение, machine learning, компьютеры, искусственный интеллект",
          "is_membership": false,
          "is_company": false,
          "flow": {
            "id": 1,
            "name": "Разработка",
            "alias": "develop",
            "url": "https:\/\/habr.com\/ru\/flows\/develop\/",
            "path": "\/flows\/develop\/"
          },
          "icon": "\/\/habrastorage.org\/getpro\/habr\/hub\/882\/37a\/b33\/88237ab33b6f8acc090d443651c4f2f9.png",
          "path": "hub\/machine_learning\/"
        }
      ],
      "flows": [
        {
          "id": 1,
          "name": "Разработка",
          "alias": "develop",
          "url": "https:\/\/habr.com\/ru\/flows\/develop\/",
          "path": "\/flows\/develop\/"
        }
      ],
      "is_recovery_mode": false,
      "reading_count": 106,
      "metadata": {
        "meta_image": ""
      },
      "path": "\/company\/jetinfosystems\/blog\/498294\/",
      "full_url": "https:\/\/habr.com\/ru\/company\/jetinfosystems\/blog\/498294\/",
      "author": {
        "id": 775975,
        "login": "semihal",
        "time_registered": "2014-09-12T12:25:38+04:00",
        "score": 0,
        "fullname": "Сергей Михайлин",
        "specializm": "Data Scientist, Программист, Тестировщик",
        "sex": 1,
        "rating": 7.2,
        "vote": 0,
        "contacts": [],
        "rating_position": 653,
        "path": "\/users\/semihal\/",
        "geo": {
          "country": "Россия",
          "region": "Москва и Московская обл.",
          "city": "Москва"
        },
        "counters": {
          "posts": 1,
          "comments": 1,
          "followed": 1,
          "followers": 0,
          "favorites": 4
        },
        "badges": [],
        "avatar": "https:\/\/habr.com\/images\/avatars\/stub-user-middle.gif",
        "is_readonly": false,
        "is_rc": false,
        "is_subscribed": false,
        "common_tags": [],
        "is_can_vote": true
      },
      "has_polls": false,
      "url": "https:\/\/habr.com\/ru\/company\/jetinfosystems\/blog\/498294\/",
      "post_type": 1,
      "post_type_str": "simple",
      "vote": null,
      "is_can_vote": true,
      "voting": {
        "score": 9,
        "voteCount": {
          "total": 9,
          "positive": 9,
          "negative": 0
        },
        "vote": null,
        "reasonMap": null
      },
      "is_habred": true,
      "is_interesting": true,
      "is_favorite": false,
      "comments_new": null
    },
    {
      "id": 498298,
      "is_corporative": 1,
      "is_tutorial": false,
      "time_published": "2020-04-21T13:32:30+03:00",
      "time_interesting": "2020-04-21T14:29:52+03:00",
      "comments_count": 0,
      "score": 10,
      "votes_count": 10,
      "favorites_count": 5,
      "lang": "ru",
      "tags_string": "Миран, дата-центр \u0026quot;Миран\u0026quot;, Miran, серверы, аренда серверов, неразглашение, NDA, HackerOne, Bugcrowd, Кэти Муссури, Synack, bug bounty, баг-баунти, плата за молчание",
      "title": "Фирмы используют баг-баунти, чтобы купить молчание хакеров",
      "preview_html": "\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/ku\/mu\/sz\/kumuszf1g-ftuhk7bmx_o2pfo84.jpeg\u0022\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nПлатформы баг-баунти — HackerOne, Bugcrowd и Synack — служат посредниками между белыми хакерами и компаниями, которые хотят улучшить безопасность своих продуктов. При правильном использовании логика простая:\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Col\u003E\r\n\u003Cli\u003EХакер сообщает о найденной уязвимости.\u003C\/li\u003E\r\n\u003Cli\u003EКомпания-разработчик исправляет баг и перечисляет хакеру вознаграждение в качестве благодарности за то, что он поступил правильно.\u003C\/li\u003E\r\n\u003C\/ol\u003E\u003Cbr\u003E\r\nНо в реальности всё работает иначе. Как показало \u003Ca href=\u0022https:\/\/www.csoonline.com\/article\/3535888\/bug-bounty-platforms-buy-researcher-silence-violate-labor-laws-critics-say.html\u0022 rel=\u0022nofollow\u0022\u003Eрасследование CSO\u003C\/a\u003E, компании и платформы баг-баунти настолько перевернули раскрытие уязвимостей с ног на голову, что многие эксперты, включая бывшего директора по политике HackerOne Кэти Муссури, называют это «извращением». \u003Cbr\u003E",
      "text_cut": "Читать дальше \u0026rarr;",
      "text_html": "\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/ku\/mu\/sz\/kumuszf1g-ftuhk7bmx_o2pfo84.jpeg\u0022\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nПлатформы баг-баунти — HackerOne, Bugcrowd и Synack — служат посредниками между белыми хакерами и компаниями, которые хотят улучшить безопасность своих продуктов. При правильном использовании логика простая:\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Col\u003E\r\n\u003Cli\u003EХакер сообщает о найденной уязвимости.\u003C\/li\u003E\r\n\u003Cli\u003EКомпания-разработчик исправляет баг и перечисляет хакеру вознаграждение в качестве благодарности за то, что он поступил правильно.\u003C\/li\u003E\r\n\u003C\/ol\u003E\u003Cbr\u003E\r\nНо в реальности всё работает иначе. Как показало \u003Ca href=\u0022https:\/\/www.csoonline.com\/article\/3535888\/bug-bounty-platforms-buy-researcher-silence-violate-labor-laws-critics-say.html\u0022\u003Eрасследование CSO\u003C\/a\u003E, компании и платформы баг-баунти настолько перевернули раскрытие уязвимостей с ног на голову, что многие эксперты, включая бывшего директора по политике HackerOne Кэти Муссури, называют это «извращением». \u003Cbr\u003E\r\n\u003Ca name=\u0022habracut\u0022\u003E\u003C\/a\u003E\u003Cbr\u003E\r\nЕсли вкратце, то вместо исправления багов компании ставят на первый план подкуп хакеров, заставляя их подписывать NDA как обязательное условие выплаты вознаграждения. Это в корне меняет логику происходящего.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch2\u003EПроцедура раскрытия уязвимостей\u003C\/h2\u003E\u003Cbr\u003E\r\nПроцедура раскрытия уязвимостей (vulnerability disclosure program, VDP) — практически обязательное требование для многих фирм. Например, Федеральная торговая комиссия США рекомендует компаниям принять такие процедуры и штрафует за плохие практики безопасности. Министерство внутренней безопасности в прошлом году \u003Ca href=\u0022https:\/\/www.cyberscoop.com\/cisa-vulnerability-disclosure-order\/\u0022\u003Eприказало\u003C\/a\u003E всем гражданским федеральным агентствам внедрить процедуры раскрытия уязвимостей.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nОднако для любого агентства или компании VDP представляет собой огромную головную боль. Процедура выглядит так: исследователи безопасности сообщают вам о баге и дают максимум 90 дней, чтобы исправить его. Когда время истекает — они звонят какому-нибудь своему любимому журналисту и публикуют полную информацию об уязвимости в твиттере, а также выступают на конференции Black Hat или DEF CON, если это действительно сочный баг.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nС одной стороны, процедура раскрытия уязвимостей обеспечивает определённый баланс между интересами компании, общества и самих исследователей безопасности, которые получают признание за свою работу. Однако существует ряд компаний, которые могут быть озабочены ценой своих акций и\/или репутацией, так что они предпочтут заплатить деньги, чтобы избавиться от необходимости отчитываться перед общественностью.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nПлатформы баг-баунти предлагают организациям заманчивую альтернативу. Исследователи сообщают об уязвимостях в рамках соглашений о неразглашении (NDA). Им буквально платят за молчание. Затем компания делает что хочет. Может, исправит эти баги, о которых вы сообщили, если захочет. А может, и не исправит, но вам запрещено об этом говорить.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch2\u003EМолчание — это товар\u003C\/h2\u003E\u003Cbr\u003E\r\nМолчание — это товар. И похоже на то, что этот товар востребован на рынке. Спрос рождает предложение. Поэтому платформы баг-баунти развернули свою деятельность таким образом, чтобы предложить покупателям то, за что они готовы платить.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nБывший директор по политике HackerOne Кэти Муссури считает, что корень проблемы — в коммерциализации платформ баг-баунти, которые стремятся к экспоненциальному росту. Например, руководство HackerOne поставило цель собрать у себя на платформе 1 000 000 хакеров. Для них важно привлечь к выплате вознаграждений как можно больше компаний любого размера, на любых условиях. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/post_images\/08a\/582\/891\/08a5828915dc5e2b3c81c9c5a2287ec9.jpg\u0022\u003E\u003Cbr\u003E\r\n\u003Ci\u003E\u003Cfont color=\u0022gray\u0022\u003EКэти Муссури, бывший директор по политике HackerOne, основатель Luta Security\u003C\/font\u003E\u003C\/i\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n«Эти коммерческие платформы для поиска уязвимостей… извращают всю экосистему, и я хочу, чтобы это прекратилось, даже если сама поплачусь за это,  — \u003Ca href=\u0022https:\/\/www.csoonline.com\/article\/3535888\/bug-bounty-platforms-buy-researcher-silence-violate-labor-laws-critics-say.html\u0022\u003Eговорит\u003C\/a\u003E Муссури. Будучи одним из руководителей HackerOne, она получила опцион акций и может рассчитывать на щедрое вознаграждение в случае успешного публичного размещения акций HackerOne. — Я обращаюсь к вам вопреки своей личной финансовой выгоде».\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nДругие независимые эксперты согласны, что секретность вредит информационной безопасности: «Вознаграждения лучше всего делать прозрачными и открытыми. Чем больше вы пытаетесь засекретить их и принять NDA, тем менее эффективными они становятся, тем больше речь идёт о маркетинге, а не о безопасности», — говорит Роберт Грэм из Errata Security.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nС ним согласен Джонатан Лейтшух, который в прошлом году разгласил \u003Ca href=\u0022https:\/\/medium.com\/bugbountywriteup\/zoom-zero-day-4-million-webcams-maybe-an-rce-just-get-them-to-visit-your-website-ac75c83f4ef5\u0022\u003Eкатастрофическую уязвимость в программе видеоконференций Zoom\u003C\/a\u003E (установка веб-сервера на локалхосте без ведома пользователя с удалённым выполнением команд).\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cb\u003EПростой эксплоит, когда Zoom стоит на локалхосте:\u003C\/b\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022xml\u0022\u003E\u0026lt;img src=\u0026quot;http:\/\/localhost:19421\/launch?action=join\u0026amp;confno=492468757\u0026quot;\/\u0026gt;\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\n\u003Cb\u003EАктивация веб-камеры без разрешения пользователя:\u003C\/b\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022xml\u0022\u003E\u0026lt;iframe src=\u0026quot;https:\/\/zoom.us\/j\/492468757\u0026quot;\/\u0026gt;\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\nДжонатан Лейтшух уведомил компанию 26 марта 2019 года, но она не исправила уязвимость, поэтому ровно через 90 дней хакер опубликовал статью с описанием в открытом доступе. Информация широко разошлась и наделала шуму. После этого компания \u003Ci\u003Eмгновенно\u003C\/i\u003E выпустила патч.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cdiv class=\u0022oembed\u0022\u003E\u003Cblockquote class=\u0022twitter-tweet\u0022 data-lang=\u0022en_US\u0022\u003E\u003Cp lang=\u0022en\u0022 dir=\u0022ltr\u0022\u003EThis new \u003Ca href=\u0022https:\/\/twitter.com\/zoom_us?ref_src=twsrc%5Etfw\u0022\u003E@zoom_us\u003C\/a\u003E feature fully patches the \u003Ca href=\u0022https:\/\/twitter.com\/hashtag\/SecurityVulnerability?src=hash\u0026amp;ref_src=twsrc%5Etfw\u0022\u003E#SecurityVulnerability\u003C\/a\u003E where users were maliciously joined to a call without their permission.\u003Cbr\u003E\u003Cbr\u003EDoing this in a week is an example the kind of fast response times we want to see in a properly executed bug bounty program!\u003Cbr\u003E\u003Cbr\u003EGo Update! \u003Ca href=\u0022https:\/\/t.co\/Xrl7GXQW5r\u0022\u003Epic.twitter.com\/Xrl7GXQW5r\u003C\/a\u003E\u003C\/p\u003E\u0026mdash; Jonathan Leitschuh (@JLLeitschuh) \u003Ca href=\u0022https:\/\/twitter.com\/JLLeitschuh\/status\/1150857562117562370?ref_src=twsrc%5Etfw\u0022\u003EJuly 15, 2019\u003C\/a\u003E\u003C\/blockquote\u003E\n\u003Cscript async src=\u0022https:\/\/platform.twitter.com\/widgets.js\u0022 charset=\u0022utf-8\u0022\u003E\u003C\/script\u003E\n\u003C\/div\u003E\u003Cbr\u003E\r\nНо хакер не получил вознаграждения. «Это одна из проблемы с платформами баг-баунти в том виде, в каком они существуют прямо сейчас. Они позволяют компаниям избежать 90-дневного срока на раскрытие информации, — говорит он. — Многие из этих программ строят свой бизнес на этой идее неразглашения. В конечном итоге создаётся впечатление, что они \u003Cb\u003Eпытаются купить молчание исследователя\u003C\/b\u003E».\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch2\u003EПриватные баг-баунти\u003C\/h2\u003E\u003Cbr\u003E\r\nСоглашения о неразглашении платформ типа HackerOne \u003Ci\u003Eзапрещают даже упоминать\u003C\/i\u003E о существовании приватных программ баг-баунти. Одного твита вроде «У компании X есть приватная программа в Bugcrowd» достаточно, чтобы хакера выгнали с платформы.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nХакеров заставляют молчать кнутом и пряником. Где пряник понятно, это — деньги. Но есть и кнут: за нарушение соглашения NDA исследователя могут привлечь к ответственности, вплоть до уголовного преследования. Такая же ответственность теоретически угрожает хакерам, которые на свой страх и риск публикуют информацию об уязвимостях, не заключая никаких соглашений с компанией, а просто руководствуясь общепринятыми принципами хакерской этики и сроком давности 90 дней с момента уведомления компании.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nВ 2017 году Министерство юстиции США опубликовало \u003Ca href=\u0022https:\/\/www.justice.gov\/criminal-ccips\/page\/file\/983996\/download\u0022\u003Eруководящие принципы\u003C\/a\u003E о защите исследователей безопасности. По логике документа, суровые наказания за незаконный взлом не должны применяться к гражданину, который озабочен общественной безопасностью и производит взлом в общественных интересах, пытаясь поступить правильно. Но этот вопрос остаётся на рассмотрение суда. Если же хакер хочет гарантированную юридическую защиту от судебного преследования — он должен подписать NDA, иначе ему грозит тюремное заключение сроком на десять лет и более в соответствии с Законом о компьютерном мошенничестве и злоупотреблениях (Computer Fraud and Abuse Act, CFAA). Именно так следует понимать приватные баг-баунти.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nНапример, взять PayPal. На официальном сайте \u003Ca href=\u0022https:\/\/www.paypal.com\/us\/webapps\/mpp\/security-tools\/reporting-security-issues\u0022\u003Eуказано\u003C\/a\u003E, что каждый исследователь обязан создать аккаунт HackerOne и согласиться с условиями их приватной программы баг-баунти, включая NDA. Если вы сообщаете о баге каким-либо другим способом, PayPal отказывается гарантировать вашу безопасность и не исключает подачу иска. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nТо есть вы можете сообщить об уязвимости \u003Ci\u003Eтолько\u003C\/i\u003E подписав NDA, и никак иначе. «Предоставляя заявку или соглашаясь с условиями программы, вы соглашаетесь с тем, что не можете публично раскрывать свои выводы или содержание вашей заявки третьим лицам каким-либо образом без предварительного письменного согласия PayPal», — написано в \u003Ca href=\u0022https:\/\/hackerone.com\/paypal\u0022\u003Eдокументе\u003C\/a\u003E.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/gd\/jx\/ag\/gdjxagvfztanegqo3qhja1-beps.png\u0022\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nАналогичные приватные программы с NDA действуют и у других компаний, которые выплачивают вознаграждения через HackerOne.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nЭто неприемлемо, с точки зрения Фонда электронных рубежей: «EFF твёрдо верит, что исследователи безопасности по Первой поправке [к Конституции США] имеют право сообщать о своих исследованиях, и что раскрытие уязвимостей является очень полезным», — говорит Эндрю Крокер, старший юрист Фонда электронных рубежей. По его словам, многие ведущие исследователи безопасности отказываются работать на платформах баг-баунти из-за необходимости подписывать NDA.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nНапример, такую позицию занял Тэвис Орманди, авторитетный хакер из проекта Google Project Zero. Тэвис отказывается подписывать NDA, предпочитая электронную почту: «Они могут не читать мои отчёты, если не хотят», — \u003Ca href=\u0022https:\/\/twitter.com\/taviso\/status\/1167226491584663552\u0022\u003Eговорит он\u003C\/a\u003E. Таймер на 90 дней всё равно тикает.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/kt\/on\/ja\/ktonjaszts50ufxoyxyvm3mffbe.png\u0022\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nТэвис Орманди — не единственный исследователь безопасности, который отказывается надевать намордник, \u003Ca href=\u0022https:\/\/www.csoonline.com\/article\/3535888\/bug-bounty-platforms-buy-researcher-silence-violate-labor-laws-critics-say.html\u0022\u003Eпишет\u003C\/a\u003E CSO. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nКевин Финистерре (@d0tslash) \u003Ca href=\u0022http:\/\/www.digitalmunition.com\/WhyIWalkedFrom3k.pdf\u0022\u003Eотказался от $30 000\u003C\/a\u003E, потому что компания DJI для выплаты вознаграждения требовала подписать NDA, и не жалеет о своём решении. Потому что благодаря раскрытию информации Кевин приобрёл известность и уважение в сообществе ИБ, а в начале карьеры это дорогого стоит.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nВ конце концов, существование NDA не соответствует стандартам ISO 29147 и ISO 30111, которые определяют лучшие практики по приёму отчётов об уязвимостях, исправлению этих ошибок и публикации рекомендаций. Кэти Муссури является соавтором этих стандартов и уверяет, что приватные баг-баунти по определению не могут соответствовать этим стандартам, которые описывают для компании правила приёма и обработки информации: «Когда неразглашение является обязательным условием или условием сообщения об ошибках через платформу баг-баунти, это принципиально нарушает процесс раскрытия уязвимостей, описанный в стандарте ISO 29147, — говорит Муссури. — Цель стандарта состоит в том, чтобы обеспечить возможность поступления отчётов об уязвимости \u003Cb\u003Eи\u003C\/b\u003E [её выделение] выпуска рекомендаций для затронутых сторон».\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nТеория за раскрытие уязвимостей утверждает, что краткосрочный риск, вызванный публичным раскрытием информации, перевешивается более долгосрочными выгодами от исправления уязвимостей, лучшего информирования пользователей и системных улучшений защиты.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nК сожалению, платформы типа HackerOne не следуют этим принципам. В своём блоге, в статье \u003Ca href=\u0022https:\/\/www.hackerone.com\/blog\/Vulnerability-Disclosure-Policy-Basics-5-Critical-Components\u0022\u003E«Пять критических компонентов политики раскрытия уязвимостей\u003C\/a\u003E HackerOne объясняет клиентам, как заткнуть рот исследователям безопасности. В частности, рекомендуется не указывать срок, после которого исследователям позволено публично сообщать о своей работе:\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/gf\/tk\/eb\/gftkebmrr0-tphki2nw5y0fk-c8.png\u0022\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nПо мнению Муссури, зрелые организации могут и должны принять собственные программы раскрытия уязвимостей. Если они готовы к лавине сомнительных сообщений об ошибках, то могут по желанию установить вознаграждение баг-баунти, но посредники в лице HackerOne мало чем полезны: «Я сказала им перед уходом, — говорит Муссури, — если вы, ребята, можете упростить коммуникации между исследователями и вендорами, это хорошо. Но если пытаетесь продать контроль, то занимаетесь не тем».\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Chr\u003E\u003Cbr\u003E\r\n\u003Ca href=\u0022http:\/\/promo.miran.ru\u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/0i\/q1\/3c\/0iq13ceb1rqhy6ymre4-xvedsfu.jpeg\u0022\u003E\u003Cbr\u003E\r\n\u003C\/a\u003E",
      "is_comments_hide": 0,
      "editor_version": 1,
      "hubs": [
        {
          "id": 21124,
          "rating": 254.994,
          "is_profiled": false,
          "title": "Блог компании Дата-центр «Миран»",
          "alias": "dcmiran",
          "about_small": "Решения для аренды и размещения ИТ-инфраструктуры",
          "about": "Дата-центр «Миран»",
          "count_subscribers": 131,
          "count_posts": 71,
          "tags_string": "",
          "is_membership": false,
          "is_company": true,
          "icon": "\/\/habrastorage.org\/getpro\/habr\/company\/2bd\/077\/d42\/2bd077d429f247d38e24e5f0612293ed.png",
          "path": "company\/dcmiran\/"
        },
        {
          "id": 50,
          "rating": 1018.1441,
          "is_profiled": true,
          "title": "Информационная безопасность",
          "alias": "infosecurity",
          "about_small": "Защита данных",
          "about": "О том, как мы защищаем свою информацию - от взлома, повреждения, фишинга и т.д. Новости мира anti-virus, anti-spam, anti-spy  и т.д. Личные впечатления, опыт, мнения.",
          "count_subscribers": 522882,
          "count_posts": 10549,
          "tags_string": "безопасность, фишинг, fishing, защита, взлом, XSS, CSRF, SQL-inj, sql-инъекция, PHP-inj, DoS, DDoS, социальная инженерия, capcha, капча, sql injection, php injection, хакер, хакеры, хакерская атака",
          "is_membership": false,
          "is_company": false,
          "flow": {
            "id": 1,
            "name": "Разработка",
            "alias": "develop",
            "url": "https:\/\/habr.com\/ru\/flows\/develop\/",
            "path": "\/flows\/develop\/"
          },
          "icon": "\/\/habrastorage.org\/getpro\/habr\/hub\/135\/2db\/187\/1352db18765addaa6e0b2ac013d386d8.png",
          "path": "hub\/infosecurity\/"
        },
        {
          "id": 20686,
          "rating": 39.5066,
          "is_profiled": true,
          "title": "Управление сообществом",
          "alias": "community_management",
          "about_small": "Создание, поддержка и развитие сообщества",
          "about": "Управление сообществом",
          "count_subscribers": 17191,
          "count_posts": 450,
          "tags_string": "Управление сообществом, сообщество, управление, community, комьюнити, проекты",
          "is_membership": false,
          "is_company": false,
          "flow": {
            "id": 3,
            "name": "Менеджмент",
            "alias": "management",
            "url": "https:\/\/habr.com\/ru\/flows\/management\/",
            "path": "\/flows\/management\/"
          },
          "icon": "\/\/habrastorage.org\/getpro\/habr\/hub\/85d\/0ba\/490\/85d0ba490c6cb811701c16f899729b8d.png",
          "path": "hub\/community_management\/"
        },
        {
          "id": 20738,
          "rating": 145.04,
          "is_profiled": false,
          "title": "Законодательство в IT",
          "alias": "business-laws",
          "about_small": "Следим за тем, как регулируют IT-индустрию",
          "about": "Хаб об изменениях в законодательстве, влияющих на условия ведения бизнеса в индустрии высоких технологий.",
          "count_subscribers": 115200,
          "count_posts": 3368,
          "tags_string": "законы, закон, законодательство, бизнес, компании",
          "is_membership": false,
          "is_company": false,
          "flow": {
            "id": 3,
            "name": "Менеджмент",
            "alias": "management",
            "url": "https:\/\/habr.com\/ru\/flows\/management\/",
            "path": "\/flows\/management\/"
          },
          "icon": "\/\/habrastorage.org\/getpro\/habr\/hub\/a57\/348\/ade\/a57348ade2b5c33e99e869aaee204c3f.png",
          "path": "hub\/business-laws\/"
        },
        {
          "id": 22026,
          "rating": 156.8426,
          "is_profiled": false,
          "title": "IT-компании",
          "alias": "itcompanies",
          "about_small": "Компании из индустрии №1",
          "about": "Хаб про IT-компании",
          "count_subscribers": 441178,
          "count_posts": 8762,
          "tags_string": "IT, компании",
          "is_membership": false,
          "is_company": false,
          "flow": {
            "id": 7,
            "name": "Научпоп",
            "alias": "popsci",
            "url": "https:\/\/habr.com\/ru\/flows\/popsci\/",
            "path": "\/flows\/popsci\/"
          },
          "icon": "\/\/habrastorage.org\/getpro\/geektimes\/hub\/dfb\/d32\/674\/dfbd326740d2d30fba37f441919619f5.png",
          "path": "hub\/itcompanies\/"
        }
      ],
      "flows": [
        {
          "id": 1,
          "name": "Разработка",
          "alias": "develop",
          "url": "https:\/\/habr.com\/ru\/flows\/develop\/",
          "path": "\/flows\/develop\/"
        },
        {
          "id": 3,
          "name": "Менеджмент",
          "alias": "management",
          "url": "https:\/\/habr.com\/ru\/flows\/management\/",
          "path": "\/flows\/management\/"
        },
        {
          "id": 7,
          "name": "Научпоп",
          "alias": "popsci",
          "url": "https:\/\/habr.com\/ru\/flows\/popsci\/",
          "path": "\/flows\/popsci\/"
        }
      ],
      "is_recovery_mode": false,
      "reading_count": 855,
      "metadata": {
        "meta_image": ""
      },
      "path": "\/company\/dcmiran\/blog\/498298\/",
      "full_url": "https:\/\/habr.com\/ru\/company\/dcmiran\/blog\/498298\/",
      "author": {
        "id": 1503469,
        "login": "Data_center_MIRAN",
        "time_registered": "2017-06-27T12:36:16+03:00",
        "score": 91,
        "fullname": "Дата-центр \u0026quot;Миран\u0026quot;",
        "specializm": "Серверы, стойки, VPS",
        "sex": 0,
        "rating": 170.8,
        "vote": 0,
        "contacts": [],
        "rating_position": 0,
        "path": "\/users\/data_center_miran\/",
        "geo": {
          "country": "Россия",
          "region": "Санкт-Петербург и область",
          "city": "Санкт-Петербург"
        },
        "counters": {
          "posts": 60,
          "comments": 6,
          "followed": 0,
          "followers": 44,
          "favorites": 0
        },
        "badges": [
          {
            "id": 1,
            "title": "Захабренный",
            "alias": "habred",
            "description": "Пользователь с кармой \u003E0",
            "url": null,
            "is_removable": false,
            "is_disabled": false
          },
          {
            "id": 3,
            "title": "Автор",
            "alias": "author",
            "description": "Пользователь, опубликовавший 10 и более топиков; рейтинг каждого топика должен быть более 50 баллов",
            "url": null,
            "is_removable": false,
            "is_disabled": false
          }
        ],
        "avatar": "https:\/\/habrastorage.org\/getpro\/habr\/avatars\/c93\/cd3\/933\/c93cd3933012bcefcc7414b9e2ec718d.png",
        "is_readonly": false,
        "is_rc": false,
        "is_subscribed": false,
        "common_tags": [],
        "is_can_vote": true
      },
      "has_polls": false,
      "url": "https:\/\/habr.com\/ru\/company\/dcmiran\/blog\/498298\/",
      "post_type": 1,
      "post_type_str": "simple",
      "vote": null,
      "is_can_vote": true,
      "voting": {
        "score": 10,
        "voteCount": {
          "total": 10,
          "positive": 10,
          "negative": 0
        },
        "vote": null,
        "reasonMap": null
      },
      "is_habred": true,
      "is_interesting": true,
      "is_favorite": false,
      "comments_new": null
    },
    {
      "id": 497886,
      "is_corporative": 0,
      "is_tutorial": false,
      "time_published": "2020-04-21T13:07:01+03:00",
      "time_interesting": null,
      "comments_count": 0,
      "score": 0,
      "votes_count": 0,
      "favorites_count": 3,
      "lang": "ru",
      "tags_string": "ios development, ios разработка, ios programming, swift, swift  разработка, swift development, validation, validator",
      "title": "Валидация полей iOS — быстро и просто",
      "preview_html": "\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/dl\/m7\/op\/dlm7opjmmejtv0z6ckspsc_ig7o.jpeg\u0022 alt=\u0022image\u0022 align=\u0022left\u0022\u003EВалидация полей ввода — едва ли не самая распространенная задача в мобильных приложениях. Каждое приложение которое имеет форму авторизации и регистрации, также имеет некоторое количество средств ввода информации со стороны пользователя, которые порождают вполне ожидаемый садистско — изощренный ажиотаж тестировщиков. Продвинутая, технически-грамотная общность разработчиков научилась эффективно \u003Cs\u003Eс ними\u003C\/s\u003E с ним бороться путем встраивания регулярных выражений в исходный код. \u003Cbr\u003E",
      "text_cut": "Читать дальше \u0026rarr;",
      "text_html": "\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/dl\/m7\/op\/dlm7opjmmejtv0z6ckspsc_ig7o.jpeg\u0022 alt=\u0022image\u0022 align=\u0022left\u0022\u003EВалидация полей ввода — едва ли не самая распространенная задача в мобильных приложениях. Каждое приложение которое имеет форму авторизации и регистрации, также имеет некоторое количество средств ввода информации со стороны пользователя, которые порождают вполне ожидаемый садистско — изощренный ажиотаж тестировщиков. Продвинутая, технически-грамотная общность разработчиков научилась эффективно \u003Cs\u003Eс ними\u003C\/s\u003E с ним бороться путем встраивания регулярных выражений в исходный код. \u003Cbr\u003E\r\n\u003Ca name=\u0022habracut\u0022\u003E\u003C\/a\u003E\u003Cbr\u003E\r\nКак правило, когда нужно ограничится регистрацией и авторизацией, не требуется прилагать особые усилия для достижения поставленной цели — код переносится из одного проекта в другой, практически не претерпевая изменений. И, что особо важно, без увеличения человеко-часов на дальнейшее сопровождение этого кода. Но мир не был бы столь прост, если бы не творческие порывы UI\/UX дизайнеров, которые склонны вопреки устоявшейся традиции, логике и здравому смыслу изобретать новые способы взаимодействия с конечным пользователем, размещая на форме несколько, на их взгляд, необходимых элементов управления, доступность которых зависит от декартового множества условий проверки валидности большого количества полей ввода и других управляющих контролов. К сожалению, и эту ситуацию, вряд ли можно назвать редкой.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nРаздражение разработчика нарастает пропорционально тому, как часто ему приходится нарушать DRY принципы: с одной стороны профессиональная гордость не позволяет идти на компромиссы, а с другой — копипаст кода — наиболее эффективный способ избежать длительного цикла тестирования — отладки. Однообразный скопипасщенный код значительно проще поддерживать, чем, идеологически выверенный уникальный «велосипед». Поиск же альтернативы не только растрачивает время творчества разработчика, но и добавляет зависимости в проект.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nВместе с тем, iOS SDK представляет некоторые крайне недооцененные возможности, которые легко масштабируются на множество задач связанных не только с валидацией — декларативное программирование сильно облегчает жизнь разработчика. Конечно же, автору известен непримиримый стан \u003Cs\u003Eлюбителей\u003C\/s\u003E друзей использования «неразбавленного» кода, но, поскольку профессиональная деятельность по верстке интерфейсов у автора статьи начиналась с разработки графического UI еще для MS DOS, то, большого желания тратить время на создание очередного совершенного класса — не возникает, и если при равной ценности можно использовать мышь — предпочтение будет отдано мыши. Соответственно, здесь изложено как минимизировать количество кода, чтоб ускорить и упростить процесс разработки.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cdiv class=\u0022spoiler\u0022 role=\u0022button\u0022 tabindex=\u00220\u0022\u003E\n                        \u003Cb class=\u0022spoiler_title\u0022\u003EДисклеймер:\u003C\/b\u003E\n                        \u003Cdiv class=\u0022spoiler_text\u0022\u003EЧтоб проиллюстрировать излагаемый механизм, будет создан минималистический проект. В реальном проекте используемые классы несколько более насыщенные и покрывают больший функционал. Доработка их для Ваших приложений не составит труда, зато уменьшение количество кода — повысит ясность излагаемой идеи.\u003Cbr\u003E\r\n\u003C\/div\u003E\n                    \u003C\/div\u003E\u003Cbr\u003E\r\n\u003Cb\u003EТипичная минимальная задача выглядит следующим образом:\u003C\/b\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nИмеется поля ввода логина и пароля, и кнопка авторизации. Необходимо чтоб кнопка авторизации меняла состояние (isEnable) в зависимости от того, что содержится в полях ввода.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cb\u003EНесколько более расширенная версия этой задачи выглядит так:\u003C\/b\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nИмеем поля ввода email, password и phone number, а так же две кнопки — регистрация и запрос SMS кода на введенный телефон. Кнопка регистрации должна быть доступна только когда введены правильные данные в каждое из полей. А кнопка запроса кода — когда валидно поле номера телефона.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cb\u003EТипичное решение\u003C\/b\u003E — создание взаимозависимых флагов путем комбинации операторов «if» и «switch» в одном вью-контроллере. Сложность будет нарастать с увеличением количества контролов вовлеченных в процесс. Значительно более продвинутым решением будет создание машины состояний. Решение отличное — но трудоемкое, к тому же, имеющее высокий порог вхождение — а это, отнюдь не то, что хочется реализовать ленивому (АКА «истинному») разработчику.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cdiv class=\u0022spoiler\u0022 role=\u0022button\u0022 tabindex=\u00220\u0022\u003E\n                        \u003Cb class=\u0022spoiler_title\u0022\u003EЛема о ленивом разработчике\u003C\/b\u003E\n                        \u003Cdiv class=\u0022spoiler_text\u0022\u003E\u003Ci\u003EМы знаем, что разработчик должен быть ленив, потому что всю трудоемкую и повторяющуюся работу должен выполнять компьютер. Если разработчик любит выполнять много работы («по кругу» ), то это уже спорт или билдинг, но не девелопмент.\u003C\/i\u003E\u003Cbr\u003E\r\n\u003C\/div\u003E\n                    \u003C\/div\u003E\u003Cbr\u003E\r\n\u003Cb\u003EОбщая идея предлагаемого состоит в следующем:\u003C\/b\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nСуществует класс для поля ввода и класс менеджера валидации. Поле ввода унаследован, как и ожидается, от UITextField. Менеджер валидации — наследуется от UIControl, содержит в себе коллекцию валидируемых элементов (совершенно не обязательно это должны быть потомки UITextField) и реализует паттерн «наблюдатель». Кроме того, он выступает менеджером для других элементов управления, которые должны менять свой статус доступности при изменении состояния валидируемых элементов. Другими словами, если поле содержит невалидный email, кнопка регистрации должна быть недоступна.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cdiv style=\u0022text-align:center;\u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/xi\/tt\/7g\/xitt7g_qwtiu_rdbg-rhx_1oug4.png\u0022\u003E\u003C\/div\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nПоля ввода самовалидируемые — они могут ответить на вопрос валидные ли содержащиеся в них данные, и изменить свое состояние. Некоторые разработчики предпочитают использовать отдельный класс валидатора (и его потомки) для валидации полей ввода, но такая практика лишает возможности в полной мере насладится декларативностью и масштабируемостью переносимого кода. Для нас важно, чтоб поле ввода или любой другой валидируемый контрол поддерживало простой интерфейс вида:\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022swift\u0022\u003E@objc protocol IValidatable : class {\n    varisValid: Bool { get }\n}\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/py\/ii\/zc\/pyiizcxavc47l631fj9scai8ryu.jpeg\u0022 align=\u0022right\u0022\u003E Для добавления валидации в Ваш проект необходимо добавить 4 файла из примера размещенного в \u003Ca href=\u0022https:\/\/github.com\/DemonSoft\/validation\/archive\/master.zip\u0022 rel=\u0022nofollow\u0022\u003Eрепозитории GitHub\u003C\/a\u003E.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003EКласс \u003Cb\u003EDSTextField\u003C\/b\u003E реализует поле ввода с индикацией процесса валидации.\u003C\/li\u003E\r\n\u003Cli\u003EКласс \u003Cb\u003EDSValidationManager\u003C\/b\u003E представляет собой наблюдателя, который и обеспечивает нужную нам функциональность.\u003C\/li\u003E\r\n\u003Cli\u003EРасширение \u003Cb\u003EStringOptional+Utils\u003C\/b\u003E — содержит всего один метод, который использует регулярное выражение для проверки того, является ли текст текущей строки валидным.\u003C\/li\u003E\r\n\u003Cli\u003E\u003Cb\u003EUIView+Layer\u003C\/b\u003E — просто удобный способ добавить рамочку заданной ширины к любому потомку UIView.\u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\u003E\r\nСтрого говоря, если Вы захотите реализовать аналогичным образом валидацию для любого другого элемента управления, то, скорее всего, Вам потребуется только \u003Cb\u003EDSValidationManager.\u003C\/b\u003E Остальное используется только ради Вашего удобства.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nПроцесс валидации показан на видео (gif). \u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cdiv style=\u0022text-align:center;\u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/ds\/ha\/5j\/dsha5jc7u50qf_h1plwksphdoha.gif\u0022\u003E\u003C\/div\u003E\u003Cbr\u003E\r\nКак видно, перед началом ввода поле находится в дефолтном состоянии, а валидация происходит по мере ввода данных. Если покинуть поле до завершения валидации, над полем появляется надпись, уведомляющая об ошибке. Кнопка регистрации будет недоступна до тех пор, пока оба поля не станут валидными.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nАналогичная ситуация складывается и на втором экране (который становится доступным только после активации регистрации). Но на втором экране валидация полей и кнопок происходит независимо — кнопка регистрации становится доступной только если все поля провалидизировались. В то же время кнопка отправки SMS доступна уже тогда, когда валидно поле с номером телефона.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cb\u003EА теперь фокус:\u003C\/b\u003E Во всем проекте содержится только один класс для вью-контроллера, тот самый, который был создан XCode при создании проекта из шаблона. Он совершенно пустой. Но даже он не используется. В этом не сложно убедиться при помощи диспетчера.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/71\/yo\/hg\/71yohgaltaumlkvssjfhdky6wzi.jpeg\u0022\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nВнимательный читатель заметил, что справа от респондера находится Объект из стандартной палитры компонентов XCode. Для него параметр Class переопределен классом \u003Cb\u003EDSValidationManager\u003C\/b\u003E. Такой же трюк проделан и для полей ввода, с той лишь разницей, что там используется класс \u003Cb\u003EDSTextField\u003C\/b\u003E.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nТеперь все наше программирование сводится к следующим простым действиям:\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Col\u003E\r\n\u003Cli\u003EСвязать коллекцию verifiedControls из ValidationManager с полями ввода.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cdiv style=\u0022text-align:center;\u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/lh\/n_\/fu\/lhn_fuw8x1htw5zhfkgvfkuvf5c.jpeg\u0022\u003E\u003C\/div\u003E\u003Cbr\u003E\r\n\u003Cdiv style=\u0022text-align:center;\u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/oa\/jt\/0r\/oajt0rvzv05avyyt1shuihukdj8.jpeg\u0022\u003E\u003C\/div\u003E\u003C\/li\u003E\r\n\u003Cli\u003EСвязать коллекцию managedControls из ValidationManager с кнопкой, которой нужно управлять.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cdiv style=\u0022text-align:center;\u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/sn\/5r\/zs\/sn5rzsgoycpntng8ogadslty7ze.jpeg\u0022\u003E\u003C\/div\u003E\u003Cbr\u003E\r\n\u003Cdiv style=\u0022text-align:center;\u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/py\/kf\/lj\/pykfljwpykcfd108oq02zqg6pvy.jpeg\u0022\u003E\u003C\/div\u003E\u003C\/li\u003E\r\n\u003Cli\u003EСвязать поля ввода в обратную сторону с ValidationManager, сделав его делегатом.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cdiv style=\u0022text-align:center;\u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/y0\/fn\/dm\/y0fndmyvohjq6ezorijkyd29ljs.jpeg\u0022\u003E\u003C\/div\u003E\u003C\/li\u003E\r\n\u003Cli\u003EВ поле ввода задать регулярное выражение для валидации и сообщение об ошибке, а так же, другие кастомные и стандартные свойства через стандартный диспетчер XCode. В принципе, все кроме регулярного выражения можно оставить «как есть». Оно единственное требует задействовать клавиатуру, и то, только для того, чтоб скопипастить формулу из тырнета. Если сообщение об ошибке отсутствует, то оно просто не будет показано на экране.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cdiv style=\u0022text-align:center;\u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/_n\/xy\/nl\/_nxynlbcisajrpzfoezwykgf8xy.jpeg\u0022\u003E\u003C\/div\u003E\u003C\/li\u003E\r\n\u003C\/ol\u003E\u003Cbr\u003E\r\nКод \u003Cb\u003EDSValidationManager\u003C\/b\u003E до безобразия примитивен.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022swift\u0022\u003Eimport UIKit\n\n@objc protocol IValidationManager : class {\n    func verificated()\n}\n\n@objc protocol IValidatable : class {\n    var isValid: Bool { get }\n}\n\nclass DSValidationManager : UIControl, IValidationManager\n{\n    @IBOutlet var verifiedControls: [UIControl]?\n    @IBOutlet var managedControls: [UIControl]?\n\n    private (set) var valid : Bool = false {\n        didSet {\n            self.sendActions(for: .valueChanged)\n        }\n    }\n    \n    overrideinit(frame: CGRect) {\n        super.init(frame: frame)\n        self.verificated()\n    }\n    \n    required init?(coder: NSCoder) {\n        super.init(coder: coder)\n        self.verificated()\n    }\n\n    func verificated() {\n        self.checkVerifiedControls()\n        self.controlsAction()\n    }\n\n    private func checkVerifiedControls() {\n        guard let list:[IValidatable] = self.verifiedControls?.filter({$0 isIValidatable}) as? [IValidatable]\n            else { return }\n        self.valid = list.filter({!$0.isValid}).count==0\n    }\n    \n    private func controls Action() {\n        guard let list = self.managedControls else { return }\n        for item in list {\n            item.isEnabled = self.valid\n        }\n    }\n}\n\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\nКак видно, он получает уведомление от одной коллекции, и воздействует на другую. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nНаблюдателем его делает свойство, которое мы даже не рассматривали в этом примере. Вы можете перетащить связь с объекта ValidationManager прямо в контроллер, добавить там событие, аналогичное нажатию на кнопку, и обрабатывать состояние менеджера непосредственно во-вью контроллере. Если очень этого хотите. Это бывает полезно, в том случае, когда следует не просто заблокировать элемент управления, а еще выполнить какую-нибудь полезную работу (к примеру, сыграть марш или показать AlertView).\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nИз всего кода TextEdit следует отметить только то, что поле должно позаботится о том, чтоб правильно выставить свойство «\u003Cb\u003EisValid\u003C\/b\u003E», и дернуть метода «\u003Cb\u003Everified()\u003C\/b\u003E» у своего делегата. Однако, обратите внимание, что в поле ввода используется не ссылка на объект менеджера, а коллекция. Это позволяет привязать поле ввода к нескольким менеджерам. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nСоответственно, метод нужно будет дернуть у каждого из делегатов.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022swift\u0022\u003E    var isValid: Bool {\n        return self.text.verification(self.expression, required:self.valueRequired)\n    }\n\n    @IBOutlet var validateDelegates: [IValidationManager]?\n\n    private func handleDelegateAction(_ sender: UITextField) {\n        guard let list = self.validateDelegates else { return }\n\n        for validateDelegate in list {\n            validateDelegate.verificated()\n        }\n    }\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\nТеперь, если Вам потребуется сверстать новую форму с полями ввода, Вам даже не нужно будет выставлять кастомные значения свойств — достаточно будет скопировать нужные Runtime аттрибуты скопом и применить их к новому полю (не забудьте только заменить название класса).\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cdiv style=\u0022text-align:center;\u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/bx\/lv\/ux\/bxlvuxtf5dzjngxyt_h-iq555q4.jpeg\u0022\u003E\u003C\/div\u003E\u003Cbr\u003E\r\nВообще говоря, трюк с использованием «объекта» в заголовке формы можно использовать значительно шире, чем просто для валидации полей — он c реактивной скоростью превращает MVC в MVVM без какого-либо Rx. Наиболее частое его применение — реализации сетевого обмена и уведомлений об изменениях в модели CoreData.",
      "is_comments_hide": 0,
      "editor_version": 1,
      "hubs": [
        {
          "id": 548,
          "rating": 51.92,
          "is_profiled": true,
          "title": "Разработка под iOS",
          "alias": "ios_dev",
          "about_small": "Популярная мобильная ОС",
          "about": "Apple iOS (ранее называвшаяся iPhone OS) — операционная система, разработанная компанией Apple на основе Mac OS X для мобильных устройств: iPhone, iPod Touch, iPad. Входит в семейство операционных систем Apple OS X, к которому так же относится и ОС для настольных компьютеров — Mac OS X.",
          "count_subscribers": 116785,
          "count_posts": 2752,
          "tags_string": "ios development, ios разработка, itunes",
          "is_membership": false,
          "is_company": false,
          "flow": {
            "id": 1,
            "name": "Разработка",
            "alias": "develop",
            "url": "https:\/\/habr.com\/ru\/flows\/develop\/",
            "path": "\/flows\/develop\/"
          },
          "icon": "\/\/habrastorage.org\/getpro\/habr\/hub\/5a4\/9bc\/47a\/5a49bc47adf8de9e59bbf0a78b821ef9.png",
          "path": "hub\/ios_dev\/"
        },
        {
          "id": 19039,
          "rating": 36.4668,
          "is_profiled": true,
          "title": "Swift",
          "alias": "swift",
          "about_small": "Открытый объектно-ориентированный язык",
          "about": "Swift — открытый мультипарадигменный объектно-ориентированный язык программирования общего назначения. Создан компанией Apple в первую очередь для разработчиков iOS и OS X. Swift работает с фреймворками Cocoa и Cocoa Touch и совместим с основной кодовой базой Apple, написанной на Objective-C. Swift задумывался как более безопасный язык в сравнении с Objective-C. Язык поддерживается в среде программирования Xcode 6;[4] программы на нем компилируются при помощи Apple LLVM и используют рантайм Objective-C, что делает возможным использование обоих языков (а также pure С и С++) в рамках одной программы. Был анонсирован на конференции разработчиков WWDC 2014.",
          "count_subscribers": 37635,
          "count_posts": 535,
          "tags_string": "swift",
          "is_membership": false,
          "is_company": false,
          "flow": {
            "id": 1,
            "name": "Разработка",
            "alias": "develop",
            "url": "https:\/\/habr.com\/ru\/flows\/develop\/",
            "path": "\/flows\/develop\/"
          },
          "icon": "\/\/habrastorage.org\/getpro\/habr\/hub\/ce4\/aee\/96a\/ce4aee96ac5cce42451f98cf8ce12031.png",
          "path": "hub\/swift\/"
        }
      ],
      "flows": [
        {
          "id": 1,
          "name": "Разработка",
          "alias": "develop",
          "url": "https:\/\/habr.com\/ru\/flows\/develop\/",
          "path": "\/flows\/develop\/"
        }
      ],
      "is_recovery_mode": false,
      "reading_count": 161,
      "metadata": {
        "meta_image": "https:\/\/habrastorage.org\/webt\/dl\/m7\/op\/dlm7opjmmejtv0z6ckspsc_ig7o.jpeg"
      },
      "path": "\/post\/497886\/",
      "full_url": "https:\/\/habr.com\/ru\/post\/497886\/",
      "author": {
        "id": 189940,
        "login": "Demtriy",
        "time_registered": "2012-04-29T12:12:59+04:00",
        "score": 10,
        "fullname": null,
        "specializm": null,
        "sex": 0,
        "rating": 0,
        "vote": 0,
        "contacts": [],
        "rating_position": 0,
        "path": "\/users\/demtriy\/",
        "geo": {
          "country": null,
          "region": null,
          "city": null
        },
        "counters": {
          "posts": 9,
          "comments": 44,
          "followed": 1,
          "followers": 9,
          "favorites": 223
        },
        "badges": [
          {
            "id": 1,
            "title": "Захабренный",
            "alias": "habred",
            "description": "Пользователь с кармой \u003E0",
            "url": null,
            "is_removable": false,
            "is_disabled": false
          }
        ],
        "avatar": "https:\/\/habr.com\/images\/avatars\/stub-user-middle.gif",
        "is_readonly": false,
        "is_rc": false,
        "is_subscribed": false,
        "common_tags": [],
        "is_can_vote": true
      },
      "has_polls": false,
      "url": "https:\/\/habr.com\/ru\/post\/497886\/",
      "post_type": 1,
      "post_type_str": "simple",
      "vote": null,
      "is_can_vote": true,
      "voting": {
        "score": 0,
        "voteCount": {
          "total": 0,
          "positive": 0,
          "negative": 0
        },
        "vote": null,
        "reasonMap": null
      },
      "is_habred": true,
      "is_interesting": false,
      "is_favorite": false,
      "comments_new": null
    },
    {
      "id": 498288,
      "is_corporative": 0,
      "is_tutorial": false,
      "time_published": "2020-04-21T12:56:59+03:00",
      "time_interesting": "2020-04-21T13:07:23+03:00",
      "comments_count": 13,
      "score": 10,
      "votes_count": 12,
      "favorites_count": 4,
      "lang": "ru",
      "tags_string": "Транспорт, урбанистика, метробус, BRT, скоростной автобус, LRT, скоростной трамвай, метро, город.",
      "title": "Вашему городу нужен метробус",
      "preview_html": "\u003Cp\u003EУдивительно, но метробусы успешны в сотнях городах по всему миру, а в России ими и не пахнет. Кажется, это единственное решение для транспорта в наших городах. Разбираемся.\u003C\/p\u003E\u003Cbr\/\u003E\r\n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/3c\/2t\/-z\/3c2t-zlrxj7g4zcj731bdhjyix8.jpeg\u0022\/\u003E\u003C\/p\u003E",
      "text_cut": "Читать дальше \u0026rarr;",
      "text_html": "\u003Cp\u003EУдивительно, но метробусы успешны в сотнях городах по всему миру, а в России ими и не пахнет. Кажется, это единственное решение для транспорта в наших городах. Разбираемся.\u003C\/p\u003E\u003Cbr\/\u003E\r\n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/3c\/2t\/-z\/3c2t-zlrxj7g4zcj731bdhjyix8.jpeg\u0022\/\u003E\u003C\/p\u003E\u003Ca name=\u0022habracut\u0022\u003E\u003C\/a\u003E\u003Cbr\/\u003E\r\n\u003Ch2 id=\u0022kakoy-esche-metrobus-dayte-luchshe-metropoliten\u0022\u003EКакой еще метробус? Дайте лучше метрополитен!\u003C\/h2\u003E\u003Cbr\/\u003E\r\n\u003Cp\u003EРоссийские эксперты по транспорту говорят: плох тот город, который не мечтает о метрополитене (на самом деле, нет, но об этом позже). Метрополитен – желанный вид транспорта, удобный, быстрый, безопасный, надежный. Метро, в отличие от наземного транспорта, никак не зависит от пробок, которые являются головной болью всех крупных городов. Не зависит оно и от времени года и погоды. Кроме того, в России метрополитен является неким признаком столичного статуса. Если в городе есть метро, значит он преуспел. Казалось бы, есть деньги – надо строить. Нет денег – остается мечтать и терпеть транспортные проблемы. Но так ли все просто?\u003C\/p\u003E\u003Cbr\/\u003E\r\n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/zg\/nm\/ar\/zgnmarycjiou_0_srq6xexmhytg.jpeg\u0022\/\u003E\u003C\/p\u003E\u003Cbr\/\u003E\r\n\u003Cp\u003EНачнем с того, что метрополитен – это очень-очень дорого. В Москве, где строительство метро поставлено на поток, один километр пути с одной станцией стоит около 7 млрд рублей, в случае неглубокого заложения – около 4,5 млрд рублей. Города в России, которые могут себе позволить такое, можно пересчитать по пальцам. И мало просто построить метрополитен, он требует постоянного финансирования и создает нагрузку на бюджет. \u003C\/p\u003E\u003Cbr\/\u003E\r\n\u003Cp\u003EНекачественное планирование, бесконтрольная застройка и угасание промышленности сильно изменило ситуацию в городах, и теперь направления линий метро не всегда соответствуют направлению мощных пассажиропотоков. Для мегаполисов вроде Москвы и Петербурга это не столь актуально, поскольку тут передвигается достаточно много людей практически во всех направлениях. В других городах это приводит к неэффективной работе метро. Проблемы возникают и с новыми линиями, которые строятся без должного обоснования. (Новосибирск планирует строить ветку метро дублирующую скоростной трамвай). В некоторых городах (Омск, Красноярск, Челябинск) метрополитен начали строить, но так и не запустили. Незавершенные сооружения висят мертвым грузом и, словно черная дыра, затягивают в пустоту бюджетные деньги. \u003C\/p\u003E\u003Cbr\/\u003E\r\n\u003Cp\u003EВдобавок ко всему этому метрополитен в России был и остается труднодоступным для маломобильных групп населения. Едва ли кто-то в жизни избегает ситуаций, в которых он становится маломобильным, и таких людей в ежедневном потоке пассажиров едва ли не большинство! Все они испытывают серьезные проблемы, спускаясь под землю и поднимаясь. \u003C\/p\u003E\u003Cbr\/\u003E\r\n\u003Cdiv class=\u0022spoiler\u0022 role=\u0022button\u0022 tabindex=\u00220\u0022\u003E\n                        \u003Cb class=\u0022spoiler_title\u0022\u003EКто такие маломобильные?\u003C\/b\u003E\n                        \u003Cdiv class=\u0022spoiler_text\u0022\u003E\u003Cp\u003EПринято считать, что маломобильные – это в основном инвалиды-колясочники, которых как будто бы в городе мало, и не совсем понятно почему нужно приспосабливать транспорт ради них. Но на самом деле к маломобильным относятся все, кому трудно ходить по лестницам, сложно пользоваться эскалаторами: родители с детьми, люди в возрасте, травмированные и ослабленные граждане всех возрастов, а также люди с тяжелыми чемоданами и другими вещами\u003C\/p\u003E\u003C\/div\u003E\n                    \u003C\/div\u003E\u003Cbr\/\u003E\r\n\u003Cp\u003EМетрополитен в текущем виде несправедлив по отношению к горожанам, обслуживая молодых, сильных и здоровых и подвергая дискриминации как раз тех, кто больше всех нуждается в транспорте. Приспособить его для маломобильных групп еще ни один город в России не смог, поскольку для этого нужны большие финансовые вложения и организационные изменения.\u003C\/p\u003E\u003Cbr\/\u003E\r\n\u003Cp\u003EМетрополитен – хорошая вещь, но подходит он только тем городам, которые действительно его «заслужили». То есть, достигли такого уровня развития, при котором люди перемещаются в огромном количестве в разные стороны, и наземный транспорт уже не справляется, несмотря на все возможные меры. Также от городов требуется очень качественное планирование, для которого нужны лучшие специалисты. Иначе метрополитен становится обузой, истощающей бюджет и мешающей развитию города.\u003C\/p\u003E\u003Cbr\/\u003E\r\n\u003Ch2 id=\u0022a-chto-esli-sdelat-skorostnoy-tramvay-legkorelsovyy-transport\u0022\u003EА что если сделать скоростной трамвай (легкорельсовый транспорт)?\u003C\/h2\u003E\u003Cbr\/\u003E\r\n\u003Cp\u003EЛРТ трамвайного типа – неплохая идея, соответствующая мировым трендам. Современный трамвай имеет высокую провозную способность, может быстро ездить, достаточно надежен, долговечен и безопасен. Это как поезд, только легкий (потому и называется «легкорельсовый транспорт»). При этом он может ходить прямо по улицам, избегая пробок (если пути отделены от потока) и доступен для маломобильных групп (если подвижной состав имеет низкий пол, а остановки – с платформами).\u003C\/p\u003E\u003Cbr\/\u003E\r\n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/af\/cj\/e3\/afcje3iqmc8t-b7yhcmy56hxvai.jpeg\u0022\/\u003E\u003C\/p\u003E\u003Cbr\/\u003E\r\n\u003Cp\u003EВ то время как в России признаком «крутости» городов является непосильный для большинства из них метрополитен, то многие города мира «самоутверждаются», строя хороший, современный наземный рельсовый транспорт. Это, конечно, быстрее, проще и дешевле, чем метро, это – экологично, модно и красиво. Но построить хороший трамвай – все еще достаточно дорого и сложно, чтобы быть панацеей. Есть примеры, когда города не осиливают и этого (Куяба, Гронинген, Ливерпуль). В бразильской Куябе начали строить систему LRT, но строительство не закончили и уже больше 5 лет закупленные составы простаивают в депо. Возможности запустить движение нет, средств на достраивание системы тоже нет, тендер на достройку системы также не дал результатов. В Гронингене, Ливерпуле, Лидсе и других городах проекты были признаны слишком дорогими и отменены.\u003C\/p\u003E\u003Cbr\/\u003E\r\n\u003Cp\u003EЕсть и в России уникальная система «метротрама» в Волгограде, которая, как бы, – и метро, и ЛРТ сразу. Но и она сейчас чувствует себя не очень хорошо (за 15 лет пассажиропоток упал в 4 раза, средств на обновление парка нет, город планирует отдать МУП «Метроэлектротранс» в концессию, так как средств на обновление состава у него нет). В остальном же в России трамвайные системы по большей части пребывают в упадке, в лучшем случае их поддерживают и едва-едва развивают (Краснодар, Екатеринбург), в худшем случае – ликвидируют (Воронеж, Тверь, Иваново, Рязань, Астрахань). Многие города находятся на грани потери своей трамвайной системы (как, например, Калининград, Липецк или Севастополь, где осталось по одному едва живому маршруту) и могут вот-вот повторить судьбу Твери. Как показывает международный опыт, избавиться от трамвая очень легко, а вот создавать трамвайную систему с нуля очень трудно и долго. \u003C\/p\u003E\u003Cbr\/\u003E\r\n\u003Cp\u003EХороший современный трамвай можно увидеть разве что в Москве, где сумели частично модернизировать существующую систему, и Санкт-Петербурге, где в основном все остается как было, но появился первый в России частный трамвай «Чижик», соответствующий мировым стандартам современного трамвая. \u003C\/p\u003E\u003Cbr\/\u003E\r\n\u003Cdiv class=\u0022spoiler\u0022 role=\u0022button\u0022 tabindex=\u00220\u0022\u003E\n                        \u003Cb class=\u0022spoiler_title\u0022\u003EУ «Чижика» есть свои проблемы\u003C\/b\u003E\n                        \u003Cdiv class=\u0022spoiler_text\u0022\u003E\u003Cp\u003EВ 2016 году Санкт-Петербург и «Транспортная концессионная компания» заключили соглашение, по которому инвестор в Красногвардейском районе построил вместо старых линий новые, закупил вагоны, построил трамвайное депо и теперь обслуживает 4 маршрута. Срок соглашения составляет 30 лет, но на текущий момент, когда система уже работает на полную мощность, пассажиропоток меньше необходимого для самоокупаемости проекта минимума на 30%. Инвестор в ближайшее время не сможет получать высокую прибыль и уменьшить срок окупаемости проекта. Правительство города также недовольно необходимостью компенсировать убытки концессионеру.\u003C\/p\u003E\u003C\/div\u003E\n                    \u003C\/div\u003E\u003Cbr\/\u003E\r\n\u003Cp\u003EТрамвай, при всех его неоспоримых достоинствах, на данный момент также недоступен для большинства российских городов, как по экономическим причинам, так и по причине отсутствия компетенций для организации этого достаточно сложного вида транспорта. Города, в которых есть трамвай, должны всеми силами стараться его сохранить и модернизировать, но вот создавать полностью новые трамвайные системы едва ли кто-то сумеет в ближайшие годы.\u003C\/p\u003E\u003Cbr\/\u003E\r\n\u003Ch2 id=\u0022i-chto-zhe-delat\u0022\u003EИ что же делать?\u003C\/h2\u003E\u003Cbr\/\u003E\r\n\u003Cp\u003EСлава Богу, транспортные проблемы, с которыми сталкиваются российские города, совсем не новы. Многие города мира через это прошли многие десятилетия назад, и мы запросто можем опираться на их опыт. Развитие автомобильного транспорта в начале 20-го века погубило трамвай во многих городах, и понадобилось полстолетия, чтобы осознать, что это была ошибка. Разумеется, нуждаются в магистральном транспорте и те города, в которых трамвая никогда не было. Но даже мировые лидеры антирейтинга по транспортным заторам находят решение, когда в городе перманентный транспортный коллапс, бюджет трещит по швам, а население уже точит вилы.\u003C\/p\u003E\u003Cbr\/\u003E\r\n\u003Cp\u003EВсем нам знаком самый обычный автобус, который есть во всех более-менее цивилизованных городах. Обычно это просто железная коробка с окнами, которая ездит по дорогам вместе с другими машинами, также стоит в пробках и попадает в аварии. Достоинство лишь в том, что туда влезает много народу, и это недорого.\u003C\/p\u003E\u003Cbr\/\u003E\r\n\u003Cp\u003EВ идеале, конечно, автобус должен быть комфортным и доступным для маломобильных, но что толку от такого автобуса, если он стоит в пробках? Все, кто имеют такую возможность, предпочитают терять время в пробках, сидя в личном автомобиле, чем стоять в переполненном автобусе, и это совершенно естественно. Но что, если автобус будет ходить почти так же быстро как метро, будет так же легко доступен для пассажиров, как трамвай и, в тоже время, не будет требовать от города больших вложений? Фантастика? Нет, это – и есть метробус, который также называют BRT (Bus rapid transit, скоростной автобусный транспорт). \u003C\/p\u003E\u003Cbr\/\u003E\r\n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/1w\/ln\/y9\/1wlny9hglutlvqrsbl0d1s1qyzw.jpeg\u0022\/\u003E\u003C\/p\u003E\u003Cbr\/\u003E\r\n\u003Ch4 id=\u0022metrobus-eto-bystree-i-deshevle\u0022\u003EМетробус это быстрее и дешевле\u003C\/h4\u003E\u003Cbr\/\u003E\r\n\u003Cp\u003EНа строительство системы метробуса необходимо около 3-х лет с начала планирования проекта, в условиях российских реалий реализация проекта может вырасти, но не более чем до 5 лет, но это однозначно быстрее реализации трамвая, где срок от 5 до 10 лет. Стоимость проекта метробуса в 2-4 раза ниже проекта скоростного трамвая, не говоря уже о метро. По цене двух станций метро можно построить полноценную систему метробуса, связывающую весь город. Такая выгода возникает за счёт низкой стоимости подвижного состава и инфраструктуры для линий метробуса [\u003Ca href=\u0022https:\/\/www.steergroup.com\/insights\/lrt-versus-brt-which-better-option\u0022\u003EИсточник\u003C\/a\u003E].\u003C\/p\u003E\u003Cbr\/\u003E\r\n\u003Cp\u003EЧтобы организовать наземный магистральный транспорт, городу придется смириться с тем, что часть дефицитного городского пространства нужно отдать исключительно под него. Но если посмотреть, как используется это пространство сейчас, можно обнаружить, что не такое уж оно и дефицитное, просто нужно немного упорядочить движение и парковку на дорогах.\u003C\/p\u003E\u003Cbr\/\u003E\r\n\u003Ch4 id=\u0022chto-zhe-v-rezultate-poluchaet-gorod\u0022\u003EЧто же в результате получает город?\u003C\/h4\u003E\u003Cbr\/\u003E\r\n\u003Col\u003E\r\n\u003Cli\u003EПровозная способность метробуса может быть очень большой, даже больше, чем у некоторых систем скоростного трамвая (35 000 пассажиров\/час в одном направлении против 20 000-25 000 пассажиров\/час в одном направлении); \u003C\/li\u003E\r\n\u003Cli\u003EСредняя скорость движения сравнима со скоростью скоростного трамвая (около 25-30 км\/час), а с учетом доступности остановок – и со скоростью передвижения на метро.\u003C\/li\u003E\r\n\u003Cli\u003EЛинии метробуса могут использоваться для проезда экстренных служб.\u003C\/li\u003E\r\n\u003C\/ol\u003E\u003Cbr\/\u003E\r\n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/5e\/dv\/ys\/5edvys5mveeqimihhtvakz078x4.jpeg\u0022\/\u003E\u003C\/p\u003E\u003Cbr\/\u003E\r\n\u003Ch4 id=\u0022lozhka-dyogtya\u0022\u003EЛожка дёгтя\u003C\/h4\u003E\u003Cbr\/\u003E\r\n\u003Cp\u003EКак и у любого другого вида транспорта, у метробуса есть как преимущества, так и недостатки. О преимуществах уже сказано достаточно, что же касается недостатков, то они состоят в следующем: \u003C\/p\u003E\u003Cbr\/\u003E\r\n\u003Col\u003E\r\n\u003Cli\u003EЖизненный цикл подвижного состава и инфраструктуры не велик. У автобусов он составляет порядка 10-12 лет, у дорожного полотна – 20-25 лет (с ремонтом покрытия, как минимум, каждые 5 лет). В то время как у скоростного трамвая и его инфраструктуры жизненный цикл значительно дольше.\u003C\/li\u003E\r\n\u003Cli\u003EНесмотря на то, что создание системы метробуса значительно уменьшает выбросы в атмосферу (особенно если используется троллейбусный или электробусный подвижной состав), это все же не самый экологичный вид транспорта.\u003C\/li\u003E\r\n\u003Cli\u003EМетробус имеет ограниченную эффективность. Потолок провозной способности (которая не может быть увеличена за счет увеличения количества и размера вагонов, как у рельсового транспорта) достигается очень быстро. Как показывает опыт Куритибы, Боготы, Лимы и Лагоса, если просто построить метробус и больше ничего не делать, автобусы быстро переполняются, инфраструктура разрушается, наступает коллапс системы.\u003C\/li\u003E\r\n\u003C\/ol\u003E\u003Cbr\/\u003E\r\n\u003Ch2 id=\u0022super-kratkiy-gayd-po-tomu-kak-sdelat-krutoy-metrobus\u0022\u003EСупер краткий гайд по тому как сделать крутой метробус\u003C\/h2\u003E\u003Cbr\/\u003E\r\n\u003Cp\u003EЧтобы эти недостатки не испортили жизнь горожанам и не создавали проблем администрации, нужно планировать магистральный транспорт с умом и быть готовыми его постоянно развивать и совершенствовать.\u003C\/p\u003E\u003Cbr\/\u003E\r\n\u003Ch4 id=\u0022shag-pervyy\u0022\u003EШаг первый\u003C\/h4\u003E\u003Cbr\/\u003E\r\n\u003Cp\u003EСоздание системы магистрального транспорта стоит начинать с автобусного транспорта, выделяя для него коридоры, строя платформы и устанавливая «умные» светофоры. \u003C\/p\u003E\u003Cbr\/\u003E\r\n\u003Ch4 id=\u0022shag-vtoroy\u0022\u003EШаг второй\u003C\/h4\u003E\u003Cbr\/\u003E\r\n\u003Cp\u003EЧтобы избежать проблем с экологией и повысить эффективность, запустив систему, нужно почти сразу начинать переходить на электричество, сооружая подстанции, кабельные линии и прочую инфраструктуру. \u003C\/p\u003E\u003Cbr\/\u003E\r\n\u003Ch4 id=\u0022shag-tretiy\u0022\u003EШаг третий\u003C\/h4\u003E\u003Cbr\/\u003E\r\n\u003Cp\u003EЧтобы система хорошо работала, нужно чтобы она была удобна для пассажиров. Магистральный общественный транспорт подразумевает пересадки с простых подвозящих маршрутов, поэтому нужно создавать удобные пересадочные узлы.\u003C\/p\u003E\u003Cbr\/\u003E\r\n\u003Ch4 id=\u0022shag-chetvyortyy\u0022\u003EШаг четвёртый\u003C\/h4\u003E\u003Cbr\/\u003E\r\n\u003Cp\u003EПо мере роста пассажиропотока и появления стабильной прибыли, нужно начинать строительство трамвайных путей по выделенным коридорам, чтобы иметь возможность запустить более производительный легкорельсовый транспорт и сократить расходы на ремонт дорожной инфраструктуры. Возможны промежуточные решения, когда шинный транспорт движется по специальным направляющим, но это – скорее экзотика. Все это может легко сочетаться с внедрением беспилотного управления.\u003C\/p\u003E\u003Cbr\/\u003E\r\n\u003Cp\u003EВ конце концов мы получаем мощную и, в тоже время, гибкую систему, с которой можно еще долгие годы обходиться без дорогостоящего метрополитена даже с многомиллионным населением.\u003C\/p\u003E\u003Cbr\/\u003E\r\n\u003Cp\u003EАвтор – Илья Левашев, транспортный аналитик в ОТСЛаб.\u003C\/p\u003E",
      "is_comments_hide": 0,
      "editor_version": 1,
      "hubs": [
        {
          "id": 22004,
          "rating": 156.8272,
          "is_profiled": false,
          "title": "Транспорт",
          "alias": "transport",
          "about_small": "Ездит или летает?",
          "about": "Хаб про транспорт будущего",
          "count_subscribers": 22607,
          "count_posts": 1880,
          "tags_string": "транспорт",
          "is_membership": false,
          "is_company": false,
          "flow": {
            "id": 7,
            "name": "Научпоп",
            "alias": "popsci",
            "url": "https:\/\/habr.com\/ru\/flows\/popsci\/",
            "path": "\/flows\/popsci\/"
          },
          "icon": "\/\/habrastorage.org\/getpro\/geektimes\/hub\/656\/c42\/85a\/656c4285af372d89e1b0636d79521885.png",
          "path": "hub\/transport\/"
        },
        {
          "id": 22024,
          "rating": 10.1645,
          "is_profiled": false,
          "title": "Урбанизм",
          "alias": "urban",
          "about_small": "Как устроены города",
          "about": "Направление в градостроительстве XX века, утверждающее необходимость создания и развития больших городов.",
          "count_subscribers": 18942,
          "count_posts": 378,
          "tags_string": "урбанизм, урбанистика, урбан",
          "is_membership": false,
          "is_company": false,
          "flow": {
            "id": 7,
            "name": "Научпоп",
            "alias": "popsci",
            "url": "https:\/\/habr.com\/ru\/flows\/popsci\/",
            "path": "\/flows\/popsci\/"
          },
          "icon": "\/\/habrastorage.org\/getpro\/geektimes\/hub\/94a\/85a\/578\/94a85a57823586d9bac5bc4b9cd11238.png",
          "path": "hub\/urban\/"
        }
      ],
      "flows": [
        {
          "id": 7,
          "name": "Научпоп",
          "alias": "popsci",
          "url": "https:\/\/habr.com\/ru\/flows\/popsci\/",
          "path": "\/flows\/popsci\/"
        }
      ],
      "reading_count": 1516,
      "path": "\/post\/498288\/",
      "full_url": "https:\/\/habr.com\/ru\/post\/498288\/",
      "author": {
        "id": 1977237,
        "login": "LevashevIlia",
        "time_registered": "2019-02-20T21:59:24+03:00",
        "score": 4,
        "fullname": "Левашев Илья",
        "specializm": "GIS-специалист, транспортный аналитик",
        "sex": 1,
        "rating": 5,
        "vote": 0,
        "contacts": [],
        "rating_position": 776,
        "path": "\/users\/levashevilia\/",
        "geo": {
          "country": "Россия",
          "region": "Санкт-Петербург и область",
          "city": "Санкт-Петербург"
        },
        "counters": {
          "posts": 1,
          "comments": 0,
          "followed": 1,
          "followers": 0,
          "favorites": 7
        },
        "badges": [
          {
            "id": 1,
            "title": "Захабренный",
            "alias": "habred",
            "description": "Пользователь с кармой \u003E0",
            "url": null,
            "is_removable": false,
            "is_disabled": false
          }
        ],
        "avatar": "https:\/\/habrastorage.org\/getpro\/habr\/avatars\/60c\/805\/ffb\/60c805ffb1034a89403167a5546e45db.jpg",
        "is_readonly": false,
        "is_rc": false,
        "is_subscribed": false,
        "common_tags": [],
        "is_can_vote": true
      },
      "has_polls": false,
      "url": "https:\/\/habr.com\/ru\/post\/498288\/",
      "post_type": 11,
      "post_type_str": "sandbox",
      "vote": null,
      "is_can_vote": true,
      "voting": {
        "score": 10,
        "voteCount": {
          "total": 12,
          "positive": 11,
          "negative": 1
        },
        "vote": null,
        "reasonMap": null
      },
      "is_habred": true,
      "is_interesting": true,
      "is_favorite": false,
      "is_recovery_mode": false,
      "comments_new": 13
    },
    {
      "id": 498282,
      "is_corporative": 0,
      "is_tutorial": true,
      "time_published": "2020-04-21T12:54:24+03:00",
      "time_interesting": "2020-04-21T13:07:19+03:00",
      "comments_count": 1,
      "score": 10,
      "votes_count": 10,
      "favorites_count": 11,
      "lang": "ru",
      "tags_string": "google, site, инструкция",
      "title": "[инструкция] Создание аккаунта и сайта на платформе Google Site",
      "preview_html": "\u003Cblockquote\u003EСпасибо пользователю \u003Ca href=\u0022https:\/\/habr.com\/ru\/users\/exosphere\/\u0022 class=\u0022user_link\u0022\u003EExosphere\u003C\/a\u003E за помощь и конструктивную критику\u003C\/blockquote\u003E\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/th\/g0\/t0\/thg0t0rfqjktpafmfcegy_n9tas.png\u0022 alt=\u0022image\u0022\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nЧасто возникает необходимость структурировать информацию, создать какой то банк данных, который будет доступен по сети интернет. Однако при этом нет необходимости создавать полноценный сайт или изменять текущий. Такая необходимость стала особенно актуальна в период вынужденного дистанционного обучения в период эпидемии COVID-19 у образовательных организаций. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nУ обычных организаций такая потребность возникает при необходимости структурировать инструкции, обучающие материалы, какие-то внутренние инструкции. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nКомпания Гугл создала удобный конструктор для создания таких «быстрых сайтов» с очень низким порогом вхождения и легкостью работы. На примере создания банка видеоуроков для образовательной организации, я покажу как можно очень оперативно сделать минисайт.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nПри написании инструкции будем исходить из того, что пользователь не знает, что такое Гугл, и что именно нужно выполнять.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nНачнем.\u003Cbr\u003E",
      "text_cut": "Читать дальше \u0026rarr;",
      "text_html": "\u003Cblockquote\u003EСпасибо пользователю \u003Ca href=\u0022https:\/\/habr.com\/ru\/users\/exosphere\/\u0022 class=\u0022user_link\u0022\u003EExosphere\u003C\/a\u003E за помощь и конструктивную критику\u003C\/blockquote\u003E\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/th\/g0\/t0\/thg0t0rfqjktpafmfcegy_n9tas.png\u0022 alt=\u0022image\u0022\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nЧасто возникает необходимость структурировать информацию, создать какой то банк данных, который будет доступен по сети интернет. Однако при этом нет необходимости создавать полноценный сайт или изменять текущий. Такая необходимость стала особенно актуальна в период вынужденного дистанционного обучения в период эпидемии COVID-19 у образовательных организаций. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nУ обычных организаций такая потребность возникает при необходимости структурировать инструкции, обучающие материалы, какие-то внутренние инструкции. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nКомпания Гугл создала удобный конструктор для создания таких «быстрых сайтов» с очень низким порогом вхождения и легкостью работы. На примере создания банка видеоуроков для образовательной организации, я покажу как можно очень оперативно сделать минисайт.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nПри написании инструкции будем исходить из того, что пользователь не знает, что такое Гугл, и что именно нужно выполнять.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nНачнем.\u003Cbr\u003E\r\n\u003Ca name=\u0022habracut\u0022\u003E\u003C\/a\u003E\u003Cbr\u003E\r\n\u003Ch2\u003EСоздание аккаунта Google\u003C\/h2\u003E\u003Cbr\u003E\r\nПерейдите на сайт \u003Ca href=\u0022https:\/\/www.google.ru\/\u0022 rel=\u0022nofollow\u0022\u003EGoogle\u003C\/a\u003E \u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/5p\/1g\/ia\/5p1gialkbpw7msbfioonmcpyfhg.jpeg\u0022 alt=\u0022image\u0022\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nДалее выберите из возможных вариантов:\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Col\u003E\r\n\u003Cli\u003EЕсли у Вас есть аккаунт Google — введите логин (номер телефона) и пароль, и войдите в свой аккаунт. После успешного входа можете перейти к разделу \u003Cb\u003EСоздание сайта\u003C\/b\u003E данной инструкции.\u003C\/li\u003E\r\n\u003Cli\u003EЕсли у Вас отсутствует аккаунт Google, Вам нужно его создать. Перейдите к разделу \u003Cb\u003EСоздать аккаунт\u003C\/b\u003E\u003C\/li\u003E\r\n\u003C\/ol\u003E\u003Cbr\u003E\r\n\u003Ch3\u003EСоздать аккаунт в Гугл\u003C\/h3\u003E\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/uo\/hs\/rp\/uohsrp2iyvl0mulltbravndgtpk.png\u0022 alt=\u0022image\u0022\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nДля этого заполните все поля и нажмите кнопку \u003Cb\u003EДалее\u003C\/b\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/cq\/n4\/z-\/cqn4z-anpl39y5nz4vrvsybepws.png\u0022 alt=\u0022image\u0022\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nВведите свой номер телефона и нажмите кнопку \u003Cb\u003EДалее\u003C\/b\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/x7\/fk\/5h\/x7fk5hzypdhxvxqdehzbaolnaqc.png\u0022 alt=\u0022image\u0022\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nЗаполните все поля и нажмите кнопку \u003Cb\u003EДалее\u003C\/b\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nДалее Вам нужно подтвердить свой аккаунт по коду, подтвердить лицензионное соглашение и т.п. Соглашаясь со всеми пунктами Вы закончите регистрацию.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nПоздравляю, Вы создали аккаунт в Гугл и теперь можете использовать нужные инструменты.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch2\u003EСоздание сайта\u003C\/h2\u003E\u003Cbr\u003E\r\nДля создания сайта Вам нужно перейти в раздел Гугл Диск\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/post_images\/e3b\/f4c\/1ea\/e3bf4c1ea1375749e3aafc5669e62483.jpg\u0022 alt=\u0022image\u0022\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nДля создания сайта нажмите кнопку \u003Cb\u003EСоздать+\u003C\/b\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/wz\/jr\/26\/wzjr268yozngfpv-vncdhsq3nsg.png\u0022 alt=\u0022image\u0022\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nВ выпадающем списке выберите пункт Ещё и затем Google Сайт\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/_l\/7l\/w7\/_l7lw7phpyd9beoyhja7xxnzfy4.png\u0022 alt=\u0022image\u0022\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nВаш сайт создан\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/xe\/4j\/h6\/xe4jh6salm5bfj1adh-zjssz3lg.png\u0022 alt=\u0022image\u0022\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nДалее Вам нужно его наполнить информацией и Опубликовать.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch2\u003EНаполнение сайта\u003C\/h2\u003E\u003Cbr\u003E\r\nСайт наполняется поэтапно. Для начала главные и единые вещи для сайта:\u003Cbr\u003E\r\nЗаголовок (название)\u003Cbr\u003E\r\nИзображение\u003Cbr\u003E\r\nЗаголовок страницы\u003Cbr\u003E\r\nМеню (главное меню)\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch3\u003E1. Заголовок\u003C\/h3\u003E\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/rz\/5e\/as\/rz5eas7pbjowyzboxzvg-4tnne0.png\u0022 alt=\u0022image\u0022\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nЗаголовок — это краткое и емкое название Вашего ресурса. Оно должно быть коротким и полностью передавать смысл Вашего ресурса.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch3\u003E2. Изображение\u003C\/h3\u003E\u003Cbr\u003E\r\nИзображение — это картинка, которая подменит собой картинку верхней части страницы сайта, по умолчанию темную.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch3\u003E3. Заголовок страницы\u003C\/h3\u003E\u003Cbr\u003E\r\nЗаголовок страницы — текст в центральной части страницы. В данной инструкции это фраза “Литературное чтение”. Оно должно полностью объяснять посетителю сайта, содержание страницы, на которую посетитель перешел.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nМенять содержание верхней части страницы можно вручную, путем нажатия на сам объект. Или используя всплывающие элементы управления, которые появляются, если нажать левой клавишей мыши (ЛКМ) на элемент.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/av\/fc\/gs\/avfcgsrqqo01tulh31qz_b_rhew.png\u0022 alt=\u0022image\u0022\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nНа данном изображении под цифрой 1 показаны кнопки для изменения вида Заголовка страницы.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch3\u003E4. Меню (главное меню)\u003C\/h3\u003E\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/h0\/xq\/3m\/h0xq3m-2k5vna9xyr_rp-zvjw4i.png\u0022 alt=\u0022image\u0022\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nГлавное — оно формируется автоматически, на основе тех страниц, которые Вы создаете.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nЕсть важное правило — Пользователь должен достигать нужной информации сделав не более 3 нажатий (переходов) Таким образом, продумайте структуру страниц таким образом, чтобы у неё было не более 3 уровней.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch3\u003EЭлементы управления\u003C\/h3\u003E\u003Cbr\u003E\r\nРассмотрим все элементы управления сайтом.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/k2\/ie\/w7\/k2iew7s82m6khjrhlu8gu6ncccu.jpeg\u0022 alt=\u0022image\u0022\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch4\u003E1. Кнопки истории действий\u003C\/h4\u003E\u003Cbr\u003E\r\nЭтими кнопками Вы можете отменять ошибочное действие.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch4\u003E2. Просмотр\u003C\/h4\u003E\u003Cbr\u003E\r\nЭта кнопка позволяет просматривать Ваш сайт в зависимости от устройства — ПК\/планшет\/смартфон.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch4\u003E3. Копировать ссылку на опубликованный сайт\u003C\/h4\u003E\u003Cbr\u003E\r\nЭта кнопка позволяет скопировать ссылку на опубликованный сайт, для отправки пользователям или для вставки на сайте организации. Опубликованным сайт становиться после нажатия кнопки №7 “Опубликовать”. Все изменения, которые Вы вносите на сайте при его наполнении сохраняются не в опубликованной версии сайта, а в Черновике. Из черновика данные переносятся только после нажатия кнопки №7 Опубликовать.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch4\u003E4. Открыть доступ\u003C\/h4\u003E\u003Cbr\u003E\r\nЭта кнопка позволяет организовать совместную работу над сайтом Вашим сотрудникам. Таким образом Вы можете организовать работу над сайтом сразу несколькими сотрудниками. В оптимальном варианте — все учителя и иные сотрудники смогут работать над сайтом, что значительно сокращает время его наполнения.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cb\u003EПример\u003C\/b\u003E. Для формирования урока №30 (ссылка) мне потребовалось:\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003E10 минут на поиск и копирование теста с вопросами и ответами из сети Интернет. (учитываем, что я не специалист и у меня не было материалов по данному уроку).\u003C\/li\u003E\r\n\u003Cli\u003E10 минут на оформление теста через Гугл-формы \u003C\/li\u003E\r\n\u003Cli\u003E10 минут на поиск видеоуроков и оформление страницы\u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\u003E\r\nТаким образом — без наличия начальных материалов для создания урока, мне потребовалось не более 30 минут на создание урока и оценочных материалов. Т.к. у учителей есть материалы к урокам, а также они более меня разбираются в вопросе — подготовка видеоурока и оценочных материалов будет менее 30 минут. И ограничена скоростью работы пользователя за ПК.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/qs\/-w\/ah\/qs-wahapqpu7xroxot_npadragg.png\u0022 alt=\u0022image\u0022\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nЗдесь Вы можете настроить права доступа к наполнению сайта, его видимости в опубликованном виде. Всё интуитивно понятно.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch4\u003E5. Настройки\u003C\/h4\u003E\u003Cbr\u003E\r\nЭта кнопка позволяет менять настройки Вашего сайта. Так же подключить собственный URL для сайта или подключить Аналитику для сбора статистики посещения. Настройки по умолчанию удовлетворят большинство пользователей.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/eq\/i_\/8o\/eqi_8obwzjtrj_eyaphbv90jhgi.png\u0022 alt=\u0022image\u0022\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch4\u003E6. Дополнительно\u003C\/h4\u003E\u003Cbr\u003E\r\nЭта кнопка позволяет менять дополнительные настройки Вашего сайта.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch4\u003E7. Опубликовать\u003C\/h4\u003E\u003Cbr\u003E\r\nЭта кнопка позволяет опубликовать, т.е. сделать доступным для просмотра Ваш сайт. Опубликованным сайт становиться после нажатия кнопки №7 “Опубликовать”. Все изменения, которые Вы вносите на сайте при его наполнении сохраняются не в опубликованной версии сайта, а в Черновике. Из черновика данные переносятся только после нажатия кнопки №7 Опубликовать.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch4\u003E8. Панель навигации \u003C\/h4\u003E\u003Cbr\u003E\r\nЭтот раздел позволяет переключаться между основными инструментами создания сайта.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch4\u003E9. Панель инструментов\u003C\/h4\u003E\u003Cbr\u003E\r\nЭтот раздел включает в себя инструменты для работы с шаблоном сайта. Инструменты будут меняться в зависимости от выбранного выше раздела навигации.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch4\u003E10. Дополнительные кнопки управления блоком\u003C\/h4\u003E\u003Cbr\u003E\r\nКогда Вы выделяете блок, сбоку появляются дополнительные кнопки управления блоком. Они позволяют перемещать блоки выше\/ниже, создавать копию блока или удалять его.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch3\u003EСоздание меню и структуры сайта\u003C\/h3\u003E\u003Cbr\u003E\r\nДля банка уроков я использовал структуру:\u003Cbr\u003E\r\nНазвание раздела (Видеоурок) -\u0026gt; Название предмета (Математика) -\u0026gt; Параллель (3 класс)\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/qd\/bz\/jp\/qdbzjpjs1yqemtmbklwtjmeg8rq.png\u0022 alt=\u0022image\u0022\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nДля создания структуры страниц Вы можете выполнить следующие шаги:\u003Cbr\u003E\r\nПереходите в раздел Страницы в правой части экрана\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/d2\/a5\/qe\/d2a5qest40jwniszosu_2zhm_v0.png\u0022 alt=\u0022image\u0022\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nВ открывшемся окне Вы увидите страницы Вашего сайта\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/ca\/9p\/sk\/ca9pskld-tblqbuxhvlvaidsg3u.png\u0022 alt=\u0022image\u0022\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nОбратите внимание — на данной картинке страницы Главная и Видеоурок являются страницами одного уровня. Страницы с названиями предметов являются дочерними (подстраницами) по отношению к странице Видеоуроки. Она же является для них Родительской страницей.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nСтраницу первого уровня создается путем нажатия на кнопку с плюсиком в нижней части панели. Этой же кнопкой можно создавать подстраницы. Поэтому её лучше всего использовать только для создания страниц первого уровня.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/jq\/ue\/rb\/jquerbewa8vsspsmwmgg5cnajz0.png\u0022 alt=\u0022image\u0022\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nВведите название страницы. Я назвал её Видеоурок.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nПосле создания страницы у Вас она автоматически добавиться в главное меню. Так же она откроется перед Вами. На текущий момент её можно оставить пустой. Переходим к созданию подстраницы.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nВыделите родительскую страницу однократным нажатием клавиши мышки. Выделенная страница сменит цвет с серого на синий и будет обведена синей рамкой.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/mb\/v_\/lj\/mbv_ljjbe4apijccnllea9wnzyk.png\u0022 alt=\u0022image\u0022\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nСправа появится три точки дополнительного меню. Нажмите их.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/a2\/ww\/2q\/a2ww2q-orxdtifzcu8zdjl16_ue.png\u0022 alt=\u0022image\u0022\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nВам нужно выбрать пункт Создать подстраницу. Аналогично выше, Вам будет предложено назвать её. В нашем случае я дал ей название параллели (3 класс).\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nВ главном меню автоматически добавится нужный пункт.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nИтак, Вы добавили страницу на которой можно размещать материалы.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch3\u003EДобавление материала на страницу\u003C\/h3\u003E\u003Cbr\u003E\r\nПри открытой странице переходим в раздел \u003Cb\u003EВставка\u003C\/b\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nВам будет доступна панель вставки различных элементов страницы. Весь их список можно увидеть прокручивая панель инструментов вниз. Ниже на картинке представлены основные инструменты, которые нам пригодятся.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/ew\/tn\/kn\/ewtnknpnwo3o2hlxxbwhjiy3ose.png\u0022 alt=\u0022image\u0022\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nПервое, что мы вставляем — название урока. Для этого выбираем инструмент “Текстовое поле”.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/f8\/x6\/vu\/f8x6vukdugnthkkdcnpe3fs47ow.png\u0022 alt=\u0022image\u0022\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nДобавим его на страницу дважды щелкнув по нему. Откроется окно для ввода текста:\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/mf\/ms\/mz\/mfmsmz0tkjbmlgttbbw_ihidh5c.png\u0022 alt=\u0022image\u0022\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nПод названием урока мы можем вставить еще одно текстовое поле и добавить к нему описание урока, перечислив номера заданий из учебника или рабочей тетради.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nТаким образом сразу после названия урока будет идти план работы с описанием рабочих заданий и домашнего задания. Там же можно добавить краткую инструкцию по выполнению задания и способа передачи результатов преподавателю.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nДалее вставляем макет для структурированного представления видеоурока. К примеру мы добавим два ролика по теме урока. Для этого выбираем макет с двумя разделами.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/9l\/px\/fr\/9lpxfrd-u2_szksr_zm4b6ljsve.png\u0022 alt=\u0022image\u0022\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nДвойным нажатием добавляем его на страницу\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/oo\/sa\/5s\/oosa5ssfyuag6mjyj-x7cufvrsm.png\u0022 alt=\u0022image\u0022\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nДалее добавляем элемент, нажав на круглую кнопку с плюсиком.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/y-\/i8\/8r\/y-i88rqnv_gai7zyc-x9xcc90fc.png\u0022 alt=\u0022image\u0022\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nТеперь мы можем добавить любой элемент. Загрузить с ПК. Вставить картинку (актуально для предмета ИЗО или история).\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nОбъект на Диске — позволяет добавить документ с Гугл-диск, такое как таблица, текстовый документ или презентацию. А также тестирование.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nМы вставляем видео урока, выбрав пункт меню YouTube.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nВ открывшемся окне Вы можете найти видео или выбрать из тех, которые Вы загрузили на Ютуб в данной учетной записи. Таким образом Вы можете вставить на сайт видео, которого нет на Ютубе. Просто загрузив его в данном профиле на Ютуб. К примеру, если преподаватель записал собственный урок для учеников.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/jm\/qt\/ng\/jmqtngw0hcolex8m1ulpwbfo9j4.png\u0022 alt=\u0022image\u0022\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nМы выберем урок из тех, что нам подходят по тематике и уже есть на Ютубе.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nНабрав в поисковой строке тему нужного урока нажимаем кнопку поиска и получаем список результатов. Из списка выбираем нужный урок. Кнопка Выбрать внизу экрана становиться активной. Нажав на нее Вы добавляете на сайт видео.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/mf\/fl\/it\/mfflitloi5zngxlezmkqbhxpi_4.png\u0022 alt=\u0022image\u0022\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nИтак, видео добавлено на страницу Вашего сайта. Теперь осталось добавить название и описание.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/x6\/af\/1e\/x6af1e4uhsi9n37tppcubqehc3q.png\u0022 alt=\u0022image\u0022\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nНазываете Вы его так, как Вам удобно.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cb\u003EВажно! \u003C\/b\u003EВ описании необходимо указать автора или канал, с которого Вы взяли видео. Не смотря на то, что Вы на своем сайте разместили лишь ссылку на видео, необходимо вставить и ссылку на автора. Отсутствие указание на автора — дурной тон и крайне не приветствуется сообществом. Так же может вызвать определенные репрессии со стороны автора. Уважайте чужой труд.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nВо втором разделе мы добавим тестирование на сайт, для получения обратной связи от учеников.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nТакже мы можем разместить ссылку на папку Диска, чтобы ученики могли загружать туда свои работы.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch3\u003EПубликация сайта\u003C\/h3\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nНаполнив сайт материалами, его нужно Опубликовать. Нажав соответствующую кнопку. Таким образом все Ваши изменения станут доступными для просмотра.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch3\u003EОтправка ссылки на урок Ученику\u003C\/h3\u003E\u003Cbr\u003E\r\nДля того, чтобы облегчить и упорядочить работу учеников, посылать им лучше ссылку сразу на урок.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nПосле публикации перейдите на нужную страницу Вашего сайта и не нажимая, наведите курсор на название урока. Справа появится значек ссылки, на рисунке он обведен квадратиком.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/bt\/s_\/qf\/bts_qfduvw_ft8ukixsyzvu-rlw.png\u0022 alt=\u0022image\u0022\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nСкопируйте её правой клавишей мыши и можете отправить Ученику. Перейдя по ней, Ученик сразу попадет на урок, даже если их несколько на странице.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ca href=\u0022https:\/\/sites.google.com\/view\/uo-timash\/%D0%B2%D0%B8%D0%B4%D0%B5%D0%BE%D1%83%D1%80%D0%BE%D0%BA\/%D1%80%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9-%D1%8F%D0%B7%D1%8B%D0%BA\/3-%D0%BA%D0%BB%D0%B0%D1%81%D1%81?authuser=0#h.1mrwyblmr68m\u0022 rel=\u0022nofollow\u0022\u003EСсылка для примера\u003C\/a\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nДалее я расскажу как сделать папку для сбора работ Учеников и как сделать Тестирование и сбором результатов.",
      "is_comments_hide": 0,
      "editor_version": 1,
      "hubs": [
        {
          "id": 20698,
          "rating": 32.7074,
          "is_profiled": true,
          "title": "Веб-аналитика",
          "alias": "web_analytics",
          "about_small": "Измерение, сбор, анализ и представление информации",
          "about": "Веб-аналитика",
          "count_subscribers": 22303,
          "count_posts": 627,
          "tags_string": "Веб-аналитика",
          "is_membership": false,
          "is_company": false,
          "flow": {
            "id": 4,
            "name": "Маркетинг",
            "alias": "marketing",
            "url": "https:\/\/habr.com\/ru\/flows\/marketing\/",
            "path": "\/flows\/marketing\/"
          },
          "icon": "\/\/habrastorage.org\/getpro\/habr\/hub\/f0c\/262\/1fb\/f0c2621fbcdbe6ad994bdff586a20ea3.png",
          "path": "hub\/web_analytics\/"
        },
        {
          "id": 20710,
          "rating": 34.0615,
          "is_profiled": false,
          "title": "Интернет-маркетинг",
          "alias": "internetmarketing",
          "about_small": "Аспекты традиционного маркетинга в Интернете",
          "about": "Интернет-маркетинг как он есть",
          "count_subscribers": 15697,
          "count_posts": 1526,
          "tags_string": "internet, marketing",
          "is_membership": false,
          "is_company": false,
          "flow": {
            "id": 4,
            "name": "Маркетинг",
            "alias": "marketing",
            "url": "https:\/\/habr.com\/ru\/flows\/marketing\/",
            "path": "\/flows\/marketing\/"
          },
          "icon": "\/\/habrastorage.org\/getpro\/habr\/hub\/88d\/843\/ea0\/88d843ea06f5e311c224be84e7b11afe.png",
          "path": "hub\/internetmarketing\/"
        }
      ],
      "flows": [
        {
          "id": 4,
          "name": "Маркетинг",
          "alias": "marketing",
          "url": "https:\/\/habr.com\/ru\/flows\/marketing\/",
          "path": "\/flows\/marketing\/"
        }
      ],
      "is_recovery_mode": false,
      "reading_count": 461,
      "metadata": {
        "meta_image": ""
      },
      "path": "\/post\/498282\/",
      "full_url": "https:\/\/habr.com\/ru\/post\/498282\/",
      "author": {
        "id": 377239,
        "login": "defond",
        "time_registered": "2013-05-20T18:54:02+04:00",
        "score": 25,
        "fullname": "Фондомакин Дмитрий",
        "specializm": null,
        "sex": 1,
        "rating": 8.8,
        "vote": 0,
        "contacts": [],
        "rating_position": 584,
        "path": "\/users\/defond\/",
        "geo": {
          "country": "Россия",
          "region": "Краснодарский край",
          "city": "Краснодар"
        },
        "counters": {
          "posts": 3,
          "comments": 55,
          "followed": 29,
          "followers": 9,
          "favorites": 2
        },
        "badges": [
          {
            "id": 1,
            "title": "Захабренный",
            "alias": "habred",
            "description": "Пользователь с кармой \u003E0",
            "url": null,
            "is_removable": false,
            "is_disabled": false
          }
        ],
        "avatar": "https:\/\/habr.com\/images\/avatars\/stub-user-middle.gif",
        "is_readonly": false,
        "is_rc": false,
        "is_subscribed": false,
        "common_tags": [],
        "is_can_vote": true
      },
      "has_polls": false,
      "url": "https:\/\/habr.com\/ru\/post\/498282\/",
      "post_type": 1,
      "post_type_str": "simple",
      "vote": null,
      "is_can_vote": true,
      "voting": {
        "score": 10,
        "voteCount": {
          "total": 10,
          "positive": 10,
          "negative": 0
        },
        "vote": null,
        "reasonMap": null
      },
      "is_habred": true,
      "is_interesting": true,
      "is_favorite": false,
      "comments_new": 1
    },
    {
      "id": 498284,
      "is_corporative": 0,
      "is_tutorial": false,
      "time_published": "2020-04-21T12:46:42+03:00",
      "time_interesting": "2020-04-21T13:07:17+03:00",
      "comments_count": 0,
      "score": 7,
      "votes_count": 7,
      "favorites_count": 21,
      "lang": "ru",
      "tags_string": "английский, самообразование, дистанционное обучение, материалы, советы",
      "title": "Как оптимизировать изучение английского",
      "preview_html": "\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/kl\/lx\/9w\/kllx9wnhfy0sbsphedii2oozlhw.jpeg\u0022\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nНи для кого не секрет, что знание английского на хорошем уровне — уже \u003Ci\u003Emust-have\u003C\/i\u003E для современного человека. В нынешней реальности с бешеным темпом жизни, напряженной работой и попыткой найти work-life balance, чтобы выучить язык чаще всего приходится прибегать к помощи репетитора или групповых курсов. Но это еще не гарантия того, что язык будет выучен. Английский по расписанию 2 или 3 раза в неделю не обеспечит нужного уровня, если не оптимизировать процесс обучения. На самом деле вполне реалистично и самому подтянуть английский, без помощи специалиста (но это займет больше времени, с хорошим преподавателем можно ускорить данный процесс).\u003Cbr\u003E",
      "text_cut": "Читать дальше \u0026rarr;",
      "text_html": "\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/kl\/lx\/9w\/kllx9wnhfy0sbsphedii2oozlhw.jpeg\u0022\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nНи для кого не секрет, что знание английского на хорошем уровне — уже \u003Ci\u003Emust-have\u003C\/i\u003E для современного человека. В нынешней реальности с бешеным темпом жизни, напряженной работой и попыткой найти work-life balance, чтобы выучить язык чаще всего приходится прибегать к помощи репетитора или групповых курсов. Но это еще не гарантия того, что язык будет выучен. Английский по расписанию 2 или 3 раза в неделю не обеспечит нужного уровня, если не оптимизировать процесс обучения. На самом деле вполне реалистично и самому подтянуть английский, без помощи специалиста (но это займет больше времени, с хорошим преподавателем можно ускорить данный процесс).\u003Cbr\u003E\r\n\u003Ca name=\u0022habracut\u0022\u003E\u003C\/a\u003E\u003Cbr\u003E\r\n\u003Cu\u003EМои советы для тех, кто изучает английский сам или с преподавателем\u003C\/u\u003E:\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n1) Выбирайте \u003Ci\u003Eаутентичные \u003C\/i\u003Eучебники и книги для чтения. \u003Cbr\u003E\r\nПовидав огромное количество учебников за свою жизнь, делюсь списком наилучших. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003EДля \u003Ci\u003Eобщего курса разговорного языка\u003C\/i\u003E — \u003Cb\u003ESpeak Out 2d edition\u003C\/b\u003E (всегда берите свежее издание). Естественно, для начала нужно определить свой уровень и подобрать учебник согласно уровню (A1 — beginner, A2 — elementary, B1 — intermediate, B2 — upper-intermediate, C1 — advanced). Speak Out уровня C2 (proficient) не существует.\u003C\/li\u003E\r\n\u003Cli\u003EА также \u003Cb\u003EKeynote \u003C\/b\u003Eи \u003Cb\u003EPerspectives\u003C\/b\u003E, которые основаны на лучших презентациях из сайта \u003Ci\u003ETed.com\u003C\/i\u003E. Благодаря широте охвата и злободневности тем, эти учебники подойдут и тем, кому нужен общий английский, и тем, кому — бизнес английский. \u003C\/li\u003E\r\n\u003Cli\u003EДля сугубо \u003Ci\u003Eбизнес английского\u003C\/i\u003E 2 моих любимых учебника — \u003Cb\u003EBusiness Result\u003C\/b\u003E и \u003Cb\u003EIn Company\u003C\/b\u003E.\u003C\/li\u003E\r\n\u003Cli\u003EЧто касается \u003Ci\u003Eграмматики \u003C\/i\u003Eи \u003Ci\u003Eлексики\u003C\/i\u003E, есть бесчисленное множество прекрасных книг с правилами и упражнениями и все они мало чем отличаются. Главное, чтоб были \u003Ci\u003Eбританские \u003C\/i\u003Eили \u003Ci\u003Eамериканские\u003C\/i\u003E авторы.\u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\u003E\r\n2) Определившись с учебником, необходимо перейти к выбору \u003Cb\u003Eинтернет ресурсов\u003C\/b\u003E.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003EДля видео это безусловно — \u003Cb\u003ETed talks\u003C\/b\u003E. \u003Ci\u003EВидео-материалы\u003C\/i\u003E самые эффективные, поскольку большую часть времени в реальной жизни мы тратим на живое общение, когда мы и видим, и слышим человека (текстам и телефонным звонкам уделяется меньше времени). Следовательно, довольно эффективным будет просмотр новостей и сериалов. Мой выбор с точки зрения пользы для языка: сериал \u003Cb\u003EModern Family\u003C\/b\u003E. А также можно выбрать знаменитость, которая известна своими вдохновляющими речами. Например, \u003Ci\u003EBrian Tracy, Anthony Robbins, Bill Gates, Richard Branson\u003C\/i\u003E, etc. На пользу пойдут и влоггеры.\u003C\/li\u003E\r\n\u003Cli\u003EЧто касается \u003Ci\u003Eаудио-материалов\u003C\/i\u003E — непременно \u003Cb\u003Ebbc 6-minute English\u003C\/b\u003E.\u003C\/li\u003E\r\n\u003Cli\u003EБез чтения тоже не обойтись. Есть много онлайн журналов, среди которых одни из моих любимых — \u003Cb\u003EGuardian\u003C\/b\u003E, \u003Cb\u003EForbes\u003C\/b\u003E, \u003Cb\u003ENew York Times\u003C\/b\u003E, \u003Cb\u003EHuffington Post\u003C\/b\u003E, \u003Cb\u003EMedium\u003C\/b\u003E. \u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\u003E\r\n3) Говоря о словарях, наихудший вариант — \u003Cb\u003EGoogle translate\u003C\/b\u003E, но почему-то он очень часто используется. Достойная альтернатива гугл переводчику — \u003Cb\u003Emultitran \u003C\/b\u003Eлибо \u003Cb\u003Econtext.reverso\u003C\/b\u003E, где можно найти реальные тексты с данным словом и перевод в контексте. Однако, на мой взгляд, лучше как можно реже прибегать к переводу, а использовать вместо этого дефиницию слова в \u003Ci\u003Eтолковом \u003C\/i\u003EEnglish-English (а не English-Russian) словаре. Лучшие среди них \u003Cb\u003EOxford\u003C\/b\u003E, \u003Cb\u003ECambridge\u003C\/b\u003E, \u003Cb\u003EMerriam Webster\u003C\/b\u003E и т. д.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n4) Существует множество различных \u003Ci\u003Eприложений \u003C\/i\u003Eдля изучения языка. Как показывает практика, студенты любят скачивать их в большом количестве, но используют крайне редко. Мой совет, найти то самое 1 оптимальное приложение и использовать только его на какое-то время (например, месяц), а потом скачать другое, если возникнет желание. То же самое касается и соц сетей — предложений бесчисленное множество, а выбрать надо самое подходящее. Вот к примеру моя Инстаграм страница \u003Cb\u003Eeliza.business.english\u003C\/b\u003E.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/wf\/ie\/29\/wfie29t3wl4ayoy3mpepscldol4.jpeg\u0022 alt=\u0022image\u0022\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n5) Чтобы подтянуть \u003Ci\u003Eразговорный \u003C\/i\u003Eанглийский, можно найти человека, который тоже заинтересован в изучении английского и практиковать устную речь вместе. От ошибок не оградится, но польза будет для \u003Cu\u003Eбеглости речи\u003C\/u\u003E и \u003Cu\u003Eустранения языкового барьера\u003C\/u\u003E.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n6) Нужно организовать \u003Cb\u003Eграфик занятий\u003C\/b\u003E, выбирая наиболее продуктивное время. Кто-то лучше соображает с утра, а кто-то вечером, но лишь единицы — днем, во время сиесты.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n7) С преподавателем можно заниматься 1 или 2, или 3 раза в неделю, но это не отменяет \u003Ci\u003Eсамостоятельной инициативы\u003C\/i\u003E. Главное, чтобы обучение было в удовольствие. Тогда можно будет совместить приятное с полезным, и изучение языка превратится из education в \u003Cb\u003Eedutainment \u003C\/b\u003E(education + entertainment). А если занятие нравится, время на него всегда находится. У каждого человека есть свое хобби (если такого нет, то пора приобрести) — значит английский можно связать со своим увлечением. В онлайн журналах можно выбирать только те темы, которые нравятся. Например, если вы любите готовить или вам нравится отслеживать спортивные мероприятия, то наверняка приятным и полезным будет прочтение статей об этом. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\n8) Язык — это прежде всего слова, а потом связующая их грамматика. Поэтому, \u003Cu\u003Eрасширение словарного запаса\u003C\/u\u003E — основа эффективного изучения любого иностранного языка. Существует много способов запоминать новые слова, и надо выбрать самый действенный для вас способ. Некоторым студентам нравится группировать слова по смыслу и запоминать целые списки (Furniture, Fruits, Vegetables, Types of Accommodation, etc.). Самое эффективное — \u003Ci\u003Eсоставлять с новым словами предложения о себе\u003C\/i\u003E и запоминать их, а также постоянно возвращаться к ранее изученным словам и использовать в речи. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\n9) Хочу подчеркнуть насущную проблему ВСЕХ изучающих английский: \u003Cb\u003Eорфографические ошибки\u003C\/b\u003E. Данная проблема проистекает из того, что мало кто сейчас пишет ручкой в тетрадке. Чаще всего мы печатаем текст (на телефоне, на компьютере) и программа \u003Ci\u003Espellcheck \u003C\/i\u003Eделает всё за нас. До появления калькуляторов, люди напрягали мозги, чтобы в уме делать простые математические операции. Так же и spellcheck затуманивает бдительность и атрофируются орфографические способности. Таким образом, я призываю вернуться к старомодному методу писать от руки. Чем больше, тем лучше. Слова и их написание запомнятся лучше!\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n10) Переходите на дистанционное обучение. При нынешних обстоятельствах \u003Cb\u003Eонлайн обучение\u003C\/b\u003E — единственный выход чему-то обучаться вообще. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nИндивидуальные занятия онлайн имеют \u003Cu\u003Eряд преимуществ\u003C\/u\u003E, которыми нельзя пренебрегать, учитывая обстановку в мире. Среди них: \u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003Eэкономия времени \u003C\/li\u003E\r\n\u003Cli\u003Eэкономия денежных средств благодаря отсутствию необходимости куда-то ехать \u003C\/li\u003E\r\n\u003Cli\u003Eизучение языка в зоне комфорта (из своего дома)\u003C\/li\u003E\r\n\u003Cli\u003Eнулевой риск инфицирования\u003C\/li\u003E\r\n\u003Cli\u003Eгибкий график — намного легче переносить время урока, либо отменять занятия\u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\u003E\r\nПодытоживая всё вышесказанное, важно подчеркнуть, что \u003Cu\u003Eсамое главное для изучающих\u003C\/u\u003E:\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n1) \u003Ci\u003Eжелание \/ стремление \/ энтузиазм\u003C\/i\u003E (делать не только домашнее задание “от сих до сих”)\u003Cbr\u003E\r\n2) \u003Ci\u003Eудовольствие от процесса\u003C\/i\u003E (если что-то нам нравится, мы не замечаем, как летит время, и в результате, оказывается, что на любимое занятие уходит внушительное количество времени, а для освоения языка необходимо действительно очень много времени).\u003Cbr\u003E\r\n3) \u003Ci\u003Eрегулярная практика всех аспектов — reading, writing, speaking, listening\u003C\/i\u003E (ведь наша память селективна и в ней задерживается только то, чем мы пользуемся более менее регулярно).\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nСпасибо за внимание! А какие методы самые эффективные для вас?",
      "is_comments_hide": 0,
      "editor_version": 1,
      "hubs": [
        {
          "id": 22006,
          "rating": 348.6173,
          "is_profiled": false,
          "title": "Изучение языков",
          "alias": "learning_languages",
          "about_small": "Говорим не только на родном",
          "about": "Хаб об изучение языков",
          "count_subscribers": 8232,
          "count_posts": 406,
          "tags_string": "языки, изучение",
          "is_membership": false,
          "is_company": false,
          "flow": {
            "id": 7,
            "name": "Научпоп",
            "alias": "popsci",
            "url": "https:\/\/habr.com\/ru\/flows\/popsci\/",
            "path": "\/flows\/popsci\/"
          },
          "icon": "\/\/habrastorage.org\/getpro\/geektimes\/hub\/778\/325\/a2d\/778325a2d86596b796e5596eddc9354f.png",
          "path": "hub\/learning_languages\/"
        }
      ],
      "flows": [
        {
          "id": 7,
          "name": "Научпоп",
          "alias": "popsci",
          "url": "https:\/\/habr.com\/ru\/flows\/popsci\/",
          "path": "\/flows\/popsci\/"
        }
      ],
      "is_recovery_mode": false,
      "reading_count": 531,
      "metadata": {
        "meta_image": ""
      },
      "path": "\/post\/498284\/",
      "full_url": "https:\/\/habr.com\/ru\/post\/498284\/",
      "author": {
        "id": 2329421,
        "login": "ElizaMarabyan",
        "time_registered": "2020-04-07T12:06:02+03:00",
        "score": 3,
        "fullname": "Eliza Marabyan",
        "specializm": "English tutor, translator, blogger",
        "sex": 2,
        "rating": 36.1,
        "vote": 0,
        "contacts": [],
        "rating_position": 143,
        "path": "\/users\/elizamarabyan\/",
        "geo": {
          "country": "Беларусь",
          "region": "Минская обл.",
          "city": "Минск"
        },
        "counters": {
          "posts": 3,
          "comments": 30,
          "followed": 0,
          "followers": 14,
          "favorites": 0
        },
        "badges": [
          {
            "id": 1,
            "title": "Захабренный",
            "alias": "habred",
            "description": "Пользователь с кармой \u003E0",
            "url": null,
            "is_removable": false,
            "is_disabled": false
          }
        ],
        "avatar": "https:\/\/habrastorage.org\/getpro\/habr\/avatars\/32d\/28a\/82e\/32d28a82e9c37c1009d5b9453ced69d1.jpg",
        "is_readonly": false,
        "is_rc": false,
        "is_subscribed": false,
        "common_tags": [],
        "is_can_vote": true
      },
      "has_polls": false,
      "url": "https:\/\/habr.com\/ru\/post\/498284\/",
      "post_type": 1,
      "post_type_str": "simple",
      "vote": null,
      "is_can_vote": true,
      "voting": {
        "score": 7,
        "voteCount": {
          "total": 7,
          "positive": 7,
          "negative": 0
        },
        "vote": null,
        "reasonMap": null
      },
      "is_habred": true,
      "is_interesting": true,
      "is_favorite": false,
      "comments_new": null
    },
    {
      "id": 498278,
      "is_corporative": 1,
      "is_tutorial": false,
      "time_published": "2020-04-21T12:45:10+03:00",
      "time_interesting": "2020-04-21T12:51:27+03:00",
      "comments_count": 5,
      "score": 19,
      "votes_count": 19,
      "favorites_count": 3,
      "lang": "ru",
      "tags_string": "книга",
      "title": "Издательство Питер. Весенняя распродажа",
      "preview_html": "\u003Ca href=\u0022https:\/\/habr.com\/ru\/company\/piter\/blog\/498278\/\u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/jf\/yv\/0p\/jfyv0pzr-jx1plone51nqhecgfk.jpeg\u0022 alt=\u0022image\u0022\u003E\u003C\/a\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nПривет, Хаброжители! На этой неделе у нас большие скидки. Подробности внутри.\u003Cbr\u003E\r\n\u003Cbr\u003E",
      "text_cut": "Читать дальше \u0026rarr;",
      "text_html": "\u003Ca href=\u0022https:\/\/habr.com\/ru\/company\/piter\/blog\/498278\/\u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/jf\/yv\/0p\/jfyv0pzr-jx1plone51nqhecgfk.jpeg\u0022 alt=\u0022image\u0022\u003E\u003C\/a\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nПривет, Хаброжители! На этой неделе у нас большие скидки. Подробности внутри.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ca name=\u0022habracut\u0022\u003E\u003C\/a\u003E\u003Cbr\u003E\r\n\u003Ca href=\u0022https:\/\/www.piter.com\/collection\/top-prodazh?_gs_cttl=120\u0026amp;gs_direct_link=1\u0026amp;gsaid=42817\u0026amp;gsmid=29789\u0026amp;gstid=c\u0022\u003E\u003Cdiv style=\u0022text-align:center;\u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/8l\/iq\/gk\/8liqgkjvb9l2lfhiuhs8u88253e.jpeg\u0022 alt=\u0022image\u0022\u003E\u003C\/div\u003E\u003C\/a\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nВ хронологическом порядке \u003Ca href=\u0022https:\/\/www.piter.com\/collection\/top-prodazh?_gs_cttl=120\u0026amp;gs_direct_link=1\u0026amp;gsaid=42817\u0026amp;gsmid=29789\u0026amp;gstid=c\u0022\u003Eпредставлены книги\u003C\/a\u003E, вызвавшие интерес читателей за последние 3 мес.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nОтдельные категории на сайте — Бестселлеры \u003Ca href=\u0022https:\/\/www.piter.com\/collection\/bestsellery-oreilly?page_size=\u0026amp;order=descending_age\u0026amp;q=\u0026amp;only_available=true?_gs_cttl=120\u0026amp;gs_direct_link=1\u0026amp;gsaid=42817\u0026amp;gsmid=29789\u0026amp;gstid=c\u0022\u003EO\u0027Reilly\u003C\/a\u003E, \u003Ca href=\u0022https:\/\/www.piter.com\/collection\/head-first-oreilly?page_size=\u0026amp;order=descending_age\u0026amp;q=\u0026amp;only_available=true?_gs_cttl=120\u0026amp;gs_direct_link=1\u0026amp;gsaid=42817\u0026amp;gsmid=29789\u0026amp;gstid=c\u0022\u003EHead First O\u0027Reilly\u003C\/a\u003E, \u003Ca href=\u0022https:\/\/www.piter.com\/collection\/bestsellery-manning?page_size=\u0026amp;order=descending_age\u0026amp;q=\u0026amp;only_available=true?_gs_cttl=120\u0026amp;gs_direct_link=1\u0026amp;gsaid=42817\u0026amp;gsmid=29789\u0026amp;gstid=c\u0022\u003EManning\u003C\/a\u003E, \u003Ca href=\u0022https:\/\/www.piter.com\/collection\/bestsellery-no-starch-press?page_size=\u0026amp;order=descending_age\u0026amp;q=\u0026amp;only_available=true?_gs_cttl=120\u0026amp;gs_direct_link=1\u0026amp;gsaid=42817\u0026amp;gsmid=29789\u0026amp;gstid=c\u0022\u003ENo Starch Press\u003C\/a\u003E, \u003Ca href=\u0022https:\/\/www.piter.com\/collection\/bestsellery-packt?page_size=\u0026amp;order=descending_age\u0026amp;q=\u0026amp;only_available=true?_gs_cttl=120\u0026amp;gs_direct_link=1\u0026amp;gsaid=42817\u0026amp;gsmid=29789\u0026amp;gstid=c\u0022\u003EPackt Publishing\u003C\/a\u003E, \u003Ca href=\u0022https:\/\/www.piter.com\/collection\/klassika-computer-science?page_size=\u0026amp;order=descending_age\u0026amp;q=\u0026amp;only_available=true?_gs_cttl=120\u0026amp;gs_direct_link=1\u0026amp;gsaid=42817\u0026amp;gsmid=29789\u0026amp;gstid=c\u0022\u003EКлассика Computer Science\u003C\/a\u003E, \u003Ca href=\u0022https:\/\/www.piter.com\/collection\/programmirovanie-dlya-detey?page_size=\u0026amp;order=descending_age\u0026amp;q=\u0026amp;only_available=true?_gs_cttl=120\u0026amp;gs_direct_link=1\u0026amp;gsaid=42817\u0026amp;gsmid=29789\u0026amp;gstid=c\u0022\u003Eпрограммирование для детей\u003C\/a\u003E, научно-популярная серия \u003Ca href=\u0022https:\/\/www.piter.com\/collection\/new-science?page_size=\u0026amp;order=descending_age\u0026amp;q=\u0026amp;only_available=true?_gs_cttl=120\u0026amp;gs_direct_link=1\u0026amp;gsaid=42817\u0026amp;gsmid=29789\u0026amp;gstid=c\u0022\u003ENew Science\u003C\/a\u003E.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nУсловия акции: 21—26 апреля, скидка 40% на все бумажные книги по купону — \u003Cb\u003EБумажная книга\u003C\/b\u003E, скидка 50% на все электронные книги по купону — \u003Cb\u003EЭлектронная книга\u003C\/b\u003E",
      "is_comments_hide": 0,
      "editor_version": 1,
      "hubs": [
        {
          "id": 17823,
          "rating": 227.1674,
          "is_profiled": false,
          "title": "Блог компании Издательский дом «Питер»",
          "alias": "piter",
          "about_small": "",
          "about": "Издательский дом «Питер»",
          "count_subscribers": 3338,
          "count_posts": 653,
          "tags_string": "",
          "is_membership": false,
          "is_company": true,
          "icon": "\/\/habrastorage.org\/getpro\/habr\/company\/e4d\/50a\/630\/e4d50a630923dbf6e6b786d26b9da6d7.png",
          "path": "company\/piter\/"
        },
        {
          "id": 19309,
          "rating": 24.8436,
          "is_profiled": false,
          "title": "Профессиональная литература",
          "alias": "lib",
          "about_small": "Полезное чтиво",
          "about": "Профессиональная литература для IT-специалистов.",
          "count_subscribers": 25895,
          "count_posts": 1166,
          "tags_string": "литература, книги",
          "is_membership": false,
          "is_company": false,
          "flow": {
            "id": 1,
            "name": "Разработка",
            "alias": "develop",
            "url": "https:\/\/habr.com\/ru\/flows\/develop\/",
            "path": "\/flows\/develop\/"
          },
          "icon": "\/\/habrastorage.org\/getpro\/geektimes\/hub\/538\/72e\/15b\/53872e15b6716c38bec1ac09833668c2.png",
          "path": "hub\/lib\/"
        }
      ],
      "flows": [
        {
          "id": 1,
          "name": "Разработка",
          "alias": "develop",
          "url": "https:\/\/habr.com\/ru\/flows\/develop\/",
          "path": "\/flows\/develop\/"
        }
      ],
      "is_recovery_mode": false,
      "reading_count": 1012,
      "metadata": {
        "meta_image": ""
      },
      "path": "\/company\/piter\/blog\/498278\/",
      "full_url": "https:\/\/habr.com\/ru\/company\/piter\/blog\/498278\/",
      "author": {
        "id": 224938,
        "login": "ph_piter",
        "time_registered": "2012-09-04T18:18:34+04:00",
        "score": 198,
        "fullname": null,
        "specializm": null,
        "sex": 0,
        "rating": 91.9,
        "vote": 0,
        "contacts": [],
        "rating_position": 0,
        "path": "\/users\/ph_piter\/",
        "geo": {
          "country": null,
          "region": null,
          "city": null
        },
        "counters": {
          "posts": 632,
          "comments": 1040,
          "followed": 0,
          "followers": 547,
          "favorites": 9
        },
        "badges": [
          {
            "id": 1,
            "title": "Захабренный",
            "alias": "habred",
            "description": "Пользователь с кармой \u003E0",
            "url": null,
            "is_removable": false,
            "is_disabled": false
          },
          {
            "id": 7,
            "title": "Старожил",
            "alias": "oldresident",
            "description": "Пользователь, зарегистрированный более 3-х лет назад, с кармой больше 50",
            "url": null,
            "is_removable": false,
            "is_disabled": false
          },
          {
            "id": 102,
            "title": "Бета-тестер",
            "alias": "tester",
            "description": "Участвует в тестировании новой функциональности",
            "url": "https:\/\/habr.com\/beta\/welcome\/",
            "is_removable": false,
            "is_disabled": false
          }
        ],
        "avatar": "https:\/\/habrastorage.org\/getpro\/habr\/avatars\/3be\/b11\/2b0\/3beb112b076924a916b27c845d88dcfa.jpg",
        "is_readonly": false,
        "is_rc": false,
        "is_subscribed": false,
        "common_tags": [],
        "is_can_vote": true
      },
      "has_polls": false,
      "url": "https:\/\/habr.com\/ru\/company\/piter\/blog\/498278\/",
      "post_type": 1,
      "post_type_str": "simple",
      "vote": null,
      "is_can_vote": true,
      "voting": {
        "score": 19,
        "voteCount": {
          "total": 19,
          "positive": 19,
          "negative": 0
        },
        "vote": null,
        "reasonMap": null
      },
      "is_habred": true,
      "is_interesting": true,
      "is_favorite": false,
      "comments_new": 5
    },
    {
      "id": 497986,
      "is_corporative": 1,
      "is_tutorial": false,
      "time_published": "2020-04-21T12:30:02+03:00",
      "time_interesting": "2020-04-21T12:55:32+03:00",
      "comments_count": 0,
      "score": 10,
      "votes_count": 10,
      "favorites_count": 13,
      "lang": "ru",
      "tags_string": "JavaScript, разработка",
      "title": "Мониторинг всей памяти, используемой веб-страницей: performance.measureMemory()",
      "preview_html": "Автор статьи, перевод которой мы сегодня публикуем, рассказывает о том, как мониторить память, выделяемую веб-страницам. Внимательное отношение к памяти страниц, работающих в продакшне, помогает поддерживать производительность веб-проектов на высоком уровне.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ca href=\u0022https:\/\/habr.com\/ru\/company\/ruvds\/blog\/497986\/\u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/uj\/ux\/6i\/ujux6ittjoa4u5aoapnuhggx4ca.jpeg\u0022\u003E\u003C\/a\u003E\u003Cbr\u003E",
      "text_cut": "Читать дальше \u0026rarr;",
      "text_html": "Автор статьи, перевод которой мы сегодня публикуем, рассказывает о том, как мониторить память, выделяемую веб-страницам. Внимательное отношение к памяти страниц, работающих в продакшне, помогает поддерживать производительность веб-проектов на высоком уровне.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ca href=\u0022https:\/\/habr.com\/ru\/company\/ruvds\/blog\/497986\/\u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/uj\/ux\/6i\/ujux6ittjoa4u5aoapnuhggx4ca.jpeg\u0022\u003E\u003C\/a\u003E\u003Cbr\u003E\r\n\u003Ca name=\u0022habracut\u0022\u003E\u003C\/a\u003E\u003Cbr\u003E\r\nБраузеры автоматически управляют памятью, выделяемой веб-страницам. Когда страница создаёт объект, браузер, используя свои внутренние механизмы, выделяет память для хранения этого объекта. Так как память — это не бесконечный ресурс, браузер периодически выполняет процедуру сборки мусора, в ходе которой обнаруживаются ненужные объекты и очищается занимаемая ими памяти. Процесс обнаружения таких объектов, правда, не идеален. Было \u003Ca href=\u0022https:\/\/en.wikipedia.org\/wiki\/Halting_problem\u0022\u003Eдоказано\u003C\/a\u003E, что абсолютно точное и полное выявление таких объектов — неразрешимая задача. В результате браузеры заменяют идею поиска «ненужных объектов» на идею поиска «недостижимых объектов». Если веб-страница не может обратиться к объекту через имеющиеся у неё переменные и поля других объектов, достижимых для неё, это значит, что браузер может безопасно очистить память, занимаемую таким объектом. Разница между «ненужным» и «недостижимым» приводит к утечкам памяти, что проиллюстрировано в следующем примере:\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022javascript\u0022\u003Econst object = { a: new Array(1000), b: new Array(2000) };\nsetInterval(() =\u0026gt; console.log(object.a), 1000);\n\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\nЗдесь имеется большой ненужный массив \u003Ccode\u003Eb\u003C\/code\u003E, но браузер не освобождает занимаемую им память из-за того, что он достижим через свойство объекта \u003Ccode\u003Eobject.b\u003C\/code\u003E в коллбэке. В результате память, занимаемая этим массивом, «утекает».\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nУтечки памяти — это \u003Ca href=\u0022https:\/\/docs.google.com\/presentation\/d\/14uV5jrJ0aPs0Hd0Ehu3JPV8IBGc3U8gU6daLAqj6NrM\/edit#slide=id.p\u0022\u003Eраспространённое\u003C\/a\u003E явление в веб-разработке. Они очень легко появляются в программах, когда, например, разработчики забывают отменить подписку на прослушиватель событий, когда случайно захватывают объекты в элементе \u003Ccode\u003Eiframe\u003C\/code\u003E, когда забывают закрыть воркер, когда собирают объекты в массивах. Если на веб-странице есть утечки памяти, это приводит к тому, что со временем растёт потребление памяти страницей. Такая страница кажется пользователям медленной и неповоротливой.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nПервый шаг в решении этой проблемы заключается в выполнении измерений. Новый API \u003Ca href=\u0022https:\/\/github.com\/WICG\/performance-measure-memory\u0022\u003Eperformance.measureMemory()\u003C\/a\u003E позволяет разработчикам измерять уровень использования памяти веб-страницами в продакшне и, в результате, выявлять утечки памяти, проскользнувшие через локальные тесты.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch2\u003E\u003Cfont color=\u0022#3AC1EF\u0022\u003EЧем новый API performance.measureMemory() отличается от старого performance.memory?\u003C\/font\u003E\u003C\/h2\u003E\u003Cbr\u003E\r\nЕсли вы знакомы с существующим нестандартным API \u003Ccode\u003Eperformance.memory\u003C\/code\u003E, то вас, возможно, интересует вопрос о том, чем новый API отличается от старого. Главное отличие заключается в том, что старый API возвращает размер JavaScript-кучи, а новый оценивает использование памяти всей веб-страницей. Это различие оказывается важным в том случае, когда Chrome организует совместное использование кучи несколькими веб-страницами (или несколькими экземплярами одной и той же страницы). В таких случаях результаты, возвращаемые старым API, могут быть искажены. Так как старый API определён в терминах, специфичных для реализации, таких, как «куча», его стандартизация — безнадёжное дело.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nЕщё одно отличие заключается в том, что в Chrome новый API производит измерения памяти при сборке мусора. Это уменьшает «шум» в результатах измерений, но может потребовать некоторого времени, необходимого для получения результатов. Обратите внимание на то, что создатели других браузеров могут решить реализовать новый API без привязки к сборке мусора.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch2\u003E\u003Cfont color=\u0022#3AC1EF\u0022\u003EРекомендуемые способы использования нового API\u003C\/font\u003E\u003C\/h2\u003E\u003Cbr\u003E\r\nИспользование памяти веб-страницами зависит от возникновения событий, от действий пользователя, от сборки мусора. Именно поэтому API \u003Ccode\u003Eperformance.measureMemory()\u003C\/code\u003E предназначен для исследования уровня использования памяти в продакшне. Результаты вызова этого API в тестовом окружении менее полезны. Вот примеры вариантов его использования:\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003EВыявление случаев замедления работы приложения в ходе развёртывания новой версии веб-страницы при обнаружении новых утечек памяти.\u003C\/li\u003E\r\n\u003Cli\u003EA\/B-тестирование новой возможности, направленное на оценку её воздействия на память и на обнаружение утечек памяти.\u003C\/li\u003E\r\n\u003Cli\u003EСопоставление использования памяти и длительности сессии для подтверждения наличия или отсутствия утечек памяти.\u003C\/li\u003E\r\n\u003Cli\u003EСопоставление использования памяти с метриками, характеризующими пользователя. Это позволяет понять воздействие уровня использования памяти на работу с приложением.\u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\u003E\r\n\u003Ch2\u003E\u003Cfont color=\u0022#3AC1EF\u0022\u003EБраузерная совместимость\u003C\/font\u003E\u003C\/h2\u003E\u003Cbr\u003E\r\nСейчас рассматриваемый API поддерживается только в Chrome 83, по схеме Origin Trial. Результаты, возвращаемые API, сильно зависят от реализации, так как разные браузеры используют разные способы представления объектов в памяти и разные способы оценки уровня использования памяти. Браузеры могут исключать из учёта некоторые области памяти в том случае, если полный учёт всей используемой памяти является неоправданно сложной или невыполнимой задачей. В итоге можно сказать, что результаты, выдаваемые этим API в разных браузерах, не поддаются сравнению. Сравнивать имеет смысл лишь результаты, полученные в одном и том же браузере.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch2\u003E\u003Cfont color=\u0022#3AC1EF\u0022\u003EТекущий ход работ\u003C\/font\u003E\u003C\/h2\u003E\u003Cbr\u003E\r\n\u003Cdiv class=\u0022scrollable-table\u0022\u003E\u003Ctable\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003E\u003Cstrong\u003EШаг\u003C\/strong\u003E\u003C\/td\u003E\r\n\u003Ctd\u003E\u003Cstrong\u003EСостояние\u003C\/strong\u003E\u003C\/td\u003E\r\n\u003C\/tr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003E1. Создание пояснений к API\u003Cbr\u003E\r\n\u003C\/td\u003E\r\n\u003Ctd\u003E\u003Ca href=\u0022https:\/\/github.com\/WICG\/performance-measure-memory\u0022\u003EЗавершено\u003C\/a\u003E\u003C\/td\u003E\r\n\u003C\/tr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003E2. Создание черновика спецификации\u003Cbr\u003E\r\n\u003C\/td\u003E\r\n\u003Ctd\u003EВыполняется\u003C\/td\u003E\r\n\u003C\/tr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003E3. Сбор отзывов и доработка проекта\u003Cbr\u003E\r\n\u003C\/td\u003E\r\n\u003Ctd\u003EВыполняется\u003C\/td\u003E\r\n\u003C\/tr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003E4. Испытания по схеме Origin Trial\u003Cbr\u003E\r\n\u003C\/td\u003E\r\n\u003Ctd\u003E\u003Ca href=\u0022https:\/\/developers.chrome.com\/origintrials\/#\/view_trial\/1281274093986906113\u0022\u003EВыполняется\u003C\/a\u003E\u003C\/td\u003E\r\n\u003C\/tr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003E5. Запуск\u003Cbr\u003E\r\n\u003C\/td\u003E\r\n\u003Ctd\u003EНе начат\u003C\/td\u003E\r\n\u003C\/tr\u003E\r\n\u003C\/table\u003E\u003C\/div\u003E\u003Cbr\u003E\r\n\u003Ch2\u003E\u003Cfont color=\u0022#3AC1EF\u0022\u003EИспользование performance.measureMemory()\u003C\/font\u003E\u003C\/h2\u003E\u003Cbr\u003E\r\n\u003Ch3\u003E\u003Cfont color=\u0022#3AC1EF\u0022\u003E▍Включение поддержки на этапе Origin Trial\u003C\/font\u003E\u003C\/h3\u003E\u003Cbr\u003E\r\nAPI \u003Ccode\u003Eperformance.measureMemory()\u003C\/code\u003E доступен в Chrome 83 по схеме Origin Trial. Ожидается, что эта фаза завершится с выходом Chrome 84.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nПрограмма Origin Trial позволяет разработчикам пользоваться новыми возможностями Chrome и делиться с веб-сообществом отзывами об удобстве, практичности и эффективности этих возможностей. Подробности об этой программе можно почитать \u003Ca href=\u0022https:\/\/github.com\/GoogleChrome\/OriginTrials\/blob\/gh-pages\/developer-guide.md\u0022\u003Eздесь\u003C\/a\u003E. Подписаться на участие в программе можно на \u003Ca href=\u0022https:\/\/developers.chrome.com\/origintrials\/#\/trials\/active\u0022\u003Eстранице\u003C\/a\u003E регистрации.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch3\u003E\u003Cfont color=\u0022#3AC1EF\u0022\u003E▍Регистрация в программе Origin Trial\u003C\/font\u003E\u003C\/h3\u003E\u003Cbr\u003E\r\n\u003Col\u003E\r\n\u003Cli\u003E\u003Ca href=\u0022https:\/\/developers.chrome.com\/origintrials\/#\/view_trial\/1281274093986906113\u0022\u003EЗапросите\u003C\/a\u003E токен для интересующей вас возможности.\u003C\/li\u003E\r\n\u003Cli\u003EДобавьте токен на страницы экспериментального проекта. Существует 2 способа это сделать:\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003EДобавьте \u003Ccode\u003E\u0026lt;meta\u0026gt;\u003C\/code\u003E-тег \u003Ccode\u003Eorigin-trial\u003C\/code\u003E в заголовок каждой страницы. Например, это может выглядеть так: \u003Ccode\u003E\u0026lt;meta http-equiv=\u0026quot;origin-trial\u0026quot; content=\u0026quot;TOKEN_GOES_HERE\u0026quot;\u0026gt;\u003C\/code\u003E.\u003C\/li\u003E\r\n\u003Cli\u003EЕсли у вас есть доступ к настройкам сервера — может добавить токен с использованием HTTP-заголовка \u003Ccode\u003EOrigin-Trial\u003C\/code\u003E. В результате в заголовке ответа должно появиться нечто, подобное следующему: \u003Ccode\u003EOrigin-Trial: TOKEN_GOES_HERE\u003C\/code\u003E.\u003C\/li\u003E\r\n\u003C\/ul\u003E\u003C\/li\u003E\r\n\u003C\/ol\u003E\u003Cbr\u003E\r\n\u003Ch3\u003E\u003Cfont color=\u0022#3AC1EF\u0022\u003E▍Включение новой возможности через флаги Chrome\u003C\/font\u003E\u003C\/h3\u003E\u003Cbr\u003E\r\nДля того чтобы поэкспериментировать с \u003Ccode\u003Eperformance.measureMemory()\u003C\/code\u003E, обойдясь при этом без токена Origin Trial, нужно включить флаг \u003Ccode\u003E#experimental-web-platform-features\u003C\/code\u003E в \u003Ccode\u003Echrome:\/\/flags\u003C\/code\u003E.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch3\u003E\u003Cfont color=\u0022#3AC1EF\u0022\u003E▍Проверка возможности использования API\u003C\/font\u003E\u003C\/h3\u003E\u003Cbr\u003E\r\nВызов функции \u003Ccode\u003Eperformance.measureMemory()\u003C\/code\u003E может завершиться неудачно, с выдачей ошибки \u003Ca href=\u0022https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/API\/DOMException#exception-SecurityError\u0022\u003ESecurityError\u003C\/a\u003E. Это может произойти в том случае, если окружение не удовлетворяет требованиям по безопасности, касающимся утечек информации. В процессе Origin Trial-тестирования в Chrome этот API требует включения возможности \u003Ca href=\u0022https:\/\/developers.google.com\/web\/updates\/2018\/07\/site-isolation\u0022\u003ESite Isolation\u003C\/a\u003E. Когда API будет готов к обычному использованию, он будет полагаться на свойство \u003Ca href=\u0022https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/API\/WindowOrWorkerGlobalScope\/crossOriginIsolated\u0022\u003EcrossOriginIsolated\u003C\/a\u003E. Веб-страница может работать в таком режиме, установив заголовки \u003Ca href=\u0022https:\/\/docs.google.com\/document\/d\/1zDlfvfTJ_9e8Jdc8ehuV4zMEu9ySMCiTGMS9y0GU92k\/edit\u0022\u003ECOOP и COEP\u003C\/a\u003E.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nВот пример кода:\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022javascript\u0022\u003Eif (performance.measureMemory) {\n  let result;\n  try {\n    result = await performance.measureMemory();\n  } catch (error) {\n    if (error instanceof DOMException \u0026amp;\u0026amp;\n        error.name === \u0026quot;SecurityError\u0026quot;) {\n      console.log(\u0026quot;The context is not secure.\u0026quot;);\n    } else {\n      throw error;\n    }\n  }\n  console.log(result);\n}\n\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\n\u003Ch3\u003E\u003Cfont color=\u0022#3AC1EF\u0022\u003E▍Локальное тестирование\u003C\/font\u003E\u003C\/h3\u003E\u003Cbr\u003E\r\nChrome выполняет измерение памяти при сборке мусора. Это означает, что обращение к API не приводит к мгновенному разрешению промиса. Для получения результата нужно дождаться следующего сеанса сборки мусора. API принудительно запускает сборку мусора по прошествии определённого тайм-аута, который в настоящее время установлен на 20 секунд. Если запустить Chrome с флагом командной строки \u003Ccode\u003E--enable-blink-features=\u0027ForceEagerMeasureMemory\u0027\u003C\/code\u003E, то тайм-аут будет снижен до нуля, что полезно для целей локальной отладки и локального тестирования.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch2\u003E\u003Cfont color=\u0022#3AC1EF\u0022\u003EПример\u003C\/font\u003E\u003C\/h2\u003E\u003Cbr\u003E\r\nНовый API рекомендуется использовать, определяя глобальный монитор памяти, который измеряет уровень использования памяти всей страницы и отправляет результаты на сервер, где они могут быть агрегированы и проанализированы. Самый простой способ организации работы с этим API заключается в проведении периодических измерений. Например, они могут выполняться каждые \u003Ccode\u003EM\u003C\/code\u003E минут. Это, правда, вносит в данные искажения, так как пики в использовании памяти могут приходиться на периоды между измерениями. Следующий пример демонстрирует то, как, с использованием \u003Ca href=\u0022https:\/\/en.wikipedia.org\/wiki\/Poisson_point_process\u0022\u003Eпроцесса Пуассона\u003C\/a\u003E, производить измерения, свободные от систематических ошибок. Этот подход гарантирует то, что сеансы измерений могут, с равной вероятностью, прийтись на любой момент времени (\u003Ca href=\u0022https:\/\/performance-measure-memory.glitch.me\/\u0022\u003Eвот\u003C\/a\u003E демонстрация этого подхода, \u003Ca href=\u0022https:\/\/glitch.com\/edit\/#!\/performance-measure-memory?path=script.js:1:0\u0022\u003Eвот\u003C\/a\u003E — исходный код).\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nСначала объявим функцию, которая планирует следующий запуск сеанса измерения объёма потребляемой памяти с использованием функции \u003Ccode\u003EsetTimeout()\u003C\/code\u003E со случайно задаваемым интервалом. Эта функция должна быть вызвана после загрузки страницы в окно браузера.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022javascript\u0022\u003Efunction scheduleMeasurement() {\n  if (!performance.measureMemory) {\n    console.log(\u0026quot;performance.measureMemory() is not available.\u0026quot;);\n    return;\n  }\n  const interval = measurementInterval();\n  console.log(\u0026quot;Scheduling memory measurement in \u0026quot; +\n      Math.round(interval \/ 1000) + \u0026quot; seconds.\u0026quot;);\n  setTimeout(performMeasurement, interval);\n}\n\n\/\/ Начать измерения после загрузки страницы в браузере.\nwindow.onload = function () {\n  scheduleMeasurement();\n}\n\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\nФункция \u003Ccode\u003EmeasurementInterval()\u003C\/code\u003E находит случайный интервал, выраженный в миллисекундах, задаваемый таким образом, чтобы одно измерение проводилось бы примерно каждые пять минут. Если вам интересны математические концепции, на которых основана эта функция — почитайте об \u003Ca href=\u0022https:\/\/en.wikipedia.org\/wiki\/Exponential_distribution#Computational_methods\u0022\u003Eэкспоненциальном распределении\u003C\/a\u003E.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022javascript\u0022\u003Efunction measurementInterval() {\n  const MEAN_INTERVAL_IN_MS = 5 * 60 * 1000;\n  return -Math.log(Math.random()) * MEAN_INTERVAL_IN_MS;\n}\n\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\nВ итоге асинхронная функция \u003Ccode\u003EperformMeasurement()\u003C\/code\u003E вызывает наш API, записывает результат и планирует следующее измерение.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022javascript\u0022\u003Easync function performMeasurement() {\n  \/\/ 1. Вызов performance.measureMemory().\n  let result;\n  try {\n    result = await performance.measureMemory();\n  } catch (error) {\n    if (error instanceof DOMException \u0026amp;\u0026amp;\n        error.name === \u0026quot;SecurityError\u0026quot;) {\n      console.log(\u0026quot;The context is not secure.\u0026quot;);\n      return;\n    }\n    \/\/ Повторный выброс других ошибок.\n    throw error;\n  }\n  \/\/ 2. Запись результата.\n  console.log(\u0026quot;Memory usage:\u0026quot;, result);\n  \/\/ 3. Планирование следующего измерения.\n  scheduleMeasurement();\n}\n\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\nРезультаты измерений могут выглядеть так:\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022javascript\u0022\u003E\/\/ То, что выводится в консоль:\n{\n  bytes: 60_000_000,\n  breakdown: [\n    {\n      bytes: 40_000_000,\n      attribution: [\u0026quot;https:\/\/foo.com\u0026quot;],\n      userAgentSpecificTypes: [\u0026quot;Window\u0026quot;, \u0026quot;JS\u0026quot;]\n    },\n    {\n      bytes: 20_000_000,\n      attribution: [\u0026quot;https:\/\/foo.com\/iframe\u0026quot;],\n      userAgentSpecificTypes: [\u0026quot;Window\u0026quot;, \u0026quot;JS\u0026quot;]\n    }\n  ]\n}\n\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\nОценка общего уровня использования памяти выводится в поле \u003Ccode\u003Ebytes\u003C\/code\u003E. При выводе этой оценки используются \u003Ca href=\u0022https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/JavaScript\/Reference\/Lexical_grammar#Numeric_separators\u0022\u003Eразделители\u003C\/a\u003E разрядов чисел. Эти значения сильно зависят от реализации. Если они получены для разных браузеров, то сравнивать их нельзя. То, как они получаются, может различаться даже в разных версиях одного и того же браузера. Пока длится программа Origin Trial — в возвращаемые значения входят показатели использования JavaScript-памяти главным окном, показатели использования памяти элементов \u003Ccode\u003Eiframe\u003C\/code\u003E с того же сайта, и показатели связанных окон. Когда API будет готов, это значение будет представлять собой сведения о памяти, потребляемой JavaScript, DOM, всеми элементами \u003Ccode\u003Eiframe\u003C\/code\u003E, связанными окнами и веб-воркерами.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nСписок \u003Ccode\u003Ebreakdown\u003C\/code\u003E даёт более подробную информацию об используемой памяти. Каждая запись описывает некий фрагмент памяти и связывает этот фрагмент с набором окон, элементов \u003Ccode\u003Eiframe\u003C\/code\u003E или воркеров, идентифицируемых с помощью URL. В поле \u003Ccode\u003EuserAgentSpecificTypes\u003C\/code\u003E перечисляются типы памяти, определяемые особенностями реализации.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nВажно рассматривать эти списки в общем виде и не пытаться, опираясь на особенности некоего браузера, анализировать всё, основываясь на них. Например, некоторые браузеры могут возвращать пустой список \u003Ccode\u003Ebreakdown\u003C\/code\u003E или пустые поля \u003Ccode\u003Eattribution\u003C\/code\u003E. Другие браузеры могут возвращать в элементе \u003Ccode\u003Eattribution\u003C\/code\u003E по несколько URL, указывая на то, что они не могут точно определить, какому из этих URL принадлежит память.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch2\u003E\u003Cfont color=\u0022#3AC1EF\u0022\u003EОбратная связь\u003C\/font\u003E\u003C\/h2\u003E\u003Cbr\u003E\r\n\u003Ca href=\u0022https:\/\/www.w3.org\/community\/webperfs\/\u0022\u003EWeb Performance Community Group\u003C\/a\u003E и команда разработчиков Chrome рады будут узнать о том, что вы думаете о \u003Ccode\u003Eperformance.measureMemory()\u003C\/code\u003E, и узнать о вашем опыте использования этого API.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch2\u003E\u003Cfont color=\u0022#3AC1EF\u0022\u003EПоделитесь с нами своими идеями об устройстве API\u003C\/font\u003E\u003C\/h2\u003E\u003Cbr\u003E\r\nЕсть ли в этом API что-то такое, что работает не так, как ожидается? Может, в нём не хватает чего-то такого, что нужно вам для реализации вашей идеи? Откройте новую задачу в \u003Ca href=\u0022https:\/\/github.com\/WICG\/performance-measure-memory\/issues\u0022\u003Eтрекере\u003C\/a\u003E проекта или прокомментируйте существующую задачу.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch2\u003E\u003Cfont color=\u0022#3AC1EF\u0022\u003EСообщите о проблеме с реализацией\u003C\/font\u003E\u003C\/h2\u003E\u003Cbr\u003E\r\nНашли ошибку в реализации Chrome? А может, оказалось, что реализация отличается от спецификации? Сделайте запись об ошибке здесь: \u003Ca href=\u0022https:\/\/bugs.chromium.org\/p\/chromium\/issues\/entry?components=Blink%3EPerformanceAPIs\u0022\u003Enew.crbug.com\u003C\/a\u003E. Постарайтесь включить как можно больше деталей в своё сообщение, включите в него простую инструкцию о том, как воспроизвести ошибку, и укажите, что проблема имеет отношение к \u003Ccode\u003EBlink\u0026gt;PerformanceAPIs\u003C\/code\u003E. Для демонстрации ошибок очень хорошо подходит \u003Ca href=\u0022https:\/\/glitch.com\/\u0022\u003EGlitch\u003C\/a\u003E.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch2\u003E\u003Cfont color=\u0022#3AC1EF\u0022\u003EПоддержите нас\u003C\/font\u003E\u003C\/h2\u003E\u003Cbr\u003E\r\nПланируете пользоваться \u003Ccode\u003Eperformance.measureMemory()\u003C\/code\u003E? Если так — расскажите об этом. Такие рассказы помогают команде разработчиков Chrome расставлять приоритеты. Эти рассказы показывают создателям других браузеров важность поддержки новых возможностей. Если хотите — отправьте твит \u003Ca href=\u0022https:\/\/twitter.com\/chromiumdev\u0022\u003E@ChromiumDev\u003C\/a\u003E и расскажите нам о том, где и как вы пользуетесь новым API.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cb\u003EУважаемые читатели!\u003C\/b\u003E Пробовали ли вы \u003Ccode\u003Eperformance.measureMemory()\u003C\/code\u003E?\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ca href=\u0022https:\/\/ruvds.com\/ru-rub\/#order\u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/iq\/fi\/b4\/iqfib45pgphfrxv--zfemt0qnmw.jpeg\u0022\u003E\u003C\/a\u003E",
      "is_comments_hide": 0,
      "editor_version": 1,
      "hubs": [
        {
          "id": 19791,
          "rating": 2160.2253,
          "is_profiled": false,
          "title": "Блог компании RUVDS.com",
          "alias": "ruvds",
          "about_small": "RUVDS – хостинг VDS\/VPS серверов",
          "about": "RUVDS.com",
          "count_subscribers": 16567,
          "count_posts": 480,
          "tags_string": "",
          "is_membership": false,
          "is_company": true,
          "icon": "\/\/habrastorage.org\/getpro\/habr\/company\/5f8\/ece\/f58\/5f8ecef58d48004476cb1e01c12f914e.png",
          "path": "company\/ruvds\/"
        },
        {
          "id": 91,
          "rating": 430.8306,
          "is_profiled": true,
          "title": "Разработка веб-сайтов",
          "alias": "webdev",
          "about_small": "Делаем веб лучше",
          "about": "Веб-разработка — процесс создания веб-сайта или веб-приложения. Основными этапами процесса являются веб-дизайн, вёрстка страниц, программирование для веб на стороне клиента и сервера, а также конфигурирование веб-сервера.",
          "count_subscribers": 535724,
          "count_posts": 11960,
          "tags_string": "web development",
          "is_membership": false,
          "is_company": false,
          "flow": {
            "id": 1,
            "name": "Разработка",
            "alias": "develop",
            "url": "https:\/\/habr.com\/ru\/flows\/develop\/",
            "path": "\/flows\/develop\/"
          },
          "icon": "\/\/habrastorage.org\/getpro\/habr\/hub\/2a2\/ac7\/3dd\/2a2ac73dd5cddc6e05b47a3d502b4c0d.png",
          "path": "hub\/webdev\/"
        },
        {
          "id": 357,
          "rating": 213.386,
          "is_profiled": true,
          "title": "JavaScript",
          "alias": "javascript",
          "about_small": "Прототипно-ориентированный язык программирования",
          "about": "JavaScript (аббр. JS) — прототипно-ориентированный сценарный язык программирования. Является реализацией языка ECMAScript (стандарт ECMA-262). JavaScript обычно используется как встраиваемый язык для программного доступа к объектам приложений.",
          "count_subscribers": 136084,
          "count_posts": 6346,
          "tags_string": "javascript, ECMAScript, ECMA, ECMA-262, prototype.js, jQuery, Dojo, Google Closure Compiler, JSON, Backbone, underscore, knockoutjs, JSONP",
          "is_membership": false,
          "is_company": false,
          "flow": {
            "id": 1,
            "name": "Разработка",
            "alias": "develop",
            "url": "https:\/\/habr.com\/ru\/flows\/develop\/",
            "path": "\/flows\/develop\/"
          },
          "icon": "\/\/habrastorage.org\/getpro\/habr\/hub\/2b3\/99b\/964\/2b399b964d456f3ad1bfddc0346b60d4.png",
          "path": "hub\/javascript\/"
        }
      ],
      "flows": [
        {
          "id": 1,
          "name": "Разработка",
          "alias": "develop",
          "url": "https:\/\/habr.com\/ru\/flows\/develop\/",
          "path": "\/flows\/develop\/"
        }
      ],
      "is_recovery_mode": false,
      "reading_count": 253,
      "metadata": {
        "meta_image": ""
      },
      "path": "\/company\/ruvds\/blog\/497986\/",
      "full_url": "https:\/\/habr.com\/ru\/company\/ruvds\/blog\/497986\/",
      "author": {
        "id": 1220775,
        "login": "ru_vds",
        "time_registered": "2016-04-06T15:32:27+03:00",
        "score": 226.5,
        "fullname": null,
        "specializm": "Пользователь",
        "sex": 0,
        "rating": 839.6,
        "vote": 0,
        "contacts": [],
        "rating_position": 0,
        "path": "\/users\/ru_vds\/",
        "geo": {
          "country": null,
          "region": null,
          "city": null
        },
        "counters": {
          "posts": 869,
          "comments": 377,
          "followed": 1,
          "followers": 1136,
          "favorites": 933
        },
        "badges": [
          {
            "id": 1,
            "title": "Захабренный",
            "alias": "habred",
            "description": "Пользователь с кармой \u003E0",
            "url": null,
            "is_removable": false,
            "is_disabled": false
          },
          {
            "id": 5,
            "title": "Легенда",
            "alias": "legend",
            "description": "Пользователь, опубликовавший 30 и более топиков; рейтинг каждого топика должен быть более 50 баллов",
            "url": null,
            "is_removable": false,
            "is_disabled": false
          },
          {
            "id": 7,
            "title": "Старожил",
            "alias": "oldresident",
            "description": "Пользователь, зарегистрированный более 3-х лет назад, с кармой больше 50",
            "url": null,
            "is_removable": false,
            "is_disabled": false
          },
          {
            "id": 11,
            "title": "Переводчик",
            "alias": "translator",
            "description": "Пользователь, опубликовавший не менее 5 переводов, которые набрали более 50 баллов",
            "url": null,
            "is_removable": false,
            "is_disabled": false
          }
        ],
        "avatar": "https:\/\/habrastorage.org\/getpro\/habr\/avatars\/e36\/812\/d3d\/e36812d3de38eb3d479d7a13228717ef.png",
        "is_readonly": false,
        "is_rc": false,
        "is_subscribed": false,
        "common_tags": [],
        "is_can_vote": true
      },
      "has_polls": false,
      "url": "https:\/\/habr.com\/ru\/company\/ruvds\/blog\/497986\/",
      "source_author": "Ulan Degenbaev",
      "source_link": "https:\/\/web.dev\/monitor-total-page-memory-usage\/",
      "post_type": 2,
      "post_type_str": "translation",
      "vote": null,
      "is_can_vote": true,
      "voting": {
        "score": 10,
        "voteCount": {
          "total": 10,
          "positive": 10,
          "negative": 0
        },
        "vote": null,
        "reasonMap": null
      },
      "is_habred": true,
      "is_interesting": true,
      "is_favorite": false,
      "comments_new": null
    },
    {
      "id": 498270,
      "is_corporative": 0,
      "is_tutorial": false,
      "time_published": "2020-04-21T12:23:59+03:00",
      "time_interesting": null,
      "comments_count": 5,
      "score": 3,
      "votes_count": 3,
      "favorites_count": 2,
      "lang": "ru",
      "tags_string": "рекрутинг в it, рекрутинговые агентства",
      "title": "Каких IT-специалистов нанимают в экономический кризис и пандемию?",
      "preview_html": "Несмотря на то, что многие компании временно приостановили поиск новых сотрудников, в IT-сфере сохраняется достаточно высокий спрос на IT-специалистов. В статье я расскажу о том, какие разработчики пользуются особой популярностью даже в условиях кризиса.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nСписок составлен на основании трех источников. Это тематические каналы в мессенджере Telegram, вакансии в LinkedIn, а также размещенные не позднее, чем месяц назад вакансии на HeadHunter. Ключевую роль в составлении списка сыграла личная статистика моего агентства: я сравнила количество запросов на подбор за 2020 год с количеством заявок на те же специальности в 2019 году. (период: январь — апрель). \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nВ список специальностей, которые переживают бум даже в период эпидемии вошли: Android разработчики, Python и Ruby on Rails программисты. Но самый настоящий фурор вызывают Golang (Go) программисты, спрос на которых за последние три месяца ощутимо вырос. Давайте по порядку и с цифрами (ведь без них любые слова — пустой звук). \u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ci\u003EСтатистика актуальна только для России. \u003C\/i\u003E\u003Cbr\u003E",
      "text_cut": "Читать дальше \u0026rarr;",
      "text_html": "Несмотря на то, что многие компании временно приостановили поиск новых сотрудников, в IT-сфере сохраняется достаточно высокий спрос на IT-специалистов. В статье я расскажу о том, какие разработчики пользуются особой популярностью даже в условиях кризиса.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nСписок составлен на основании трех источников. Это тематические каналы в мессенджере Telegram, вакансии в LinkedIn, а также размещенные не позднее, чем месяц назад вакансии на HeadHunter. Ключевую роль в составлении списка сыграла личная статистика моего агентства: я сравнила количество запросов на подбор за 2020 год с количеством заявок на те же специальности в 2019 году. (период: январь — апрель). \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nВ список специальностей, которые переживают бум даже в период эпидемии вошли: Android разработчики, Python и Ruby on Rails программисты. Но самый настоящий фурор вызывают Golang (Go) программисты, спрос на которых за последние три месяца ощутимо вырос. Давайте по порядку и с цифрами (ведь без них любые слова — пустой звук). \u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ci\u003EСтатистика актуальна только для России. \u003C\/i\u003E\u003Cbr\u003E\r\n\u003Ca name=\u0022habracut\u0022\u003E\u003C\/a\u003E\u003Cbr\u003E\r\n\u003Ch2\u003E Особенности работы со статистикой\u003C\/h2\u003E\u003Cbr\u003E\r\nПрежде чем вы перейдете к списку, прошу вас обратить внимание на то, как следует воспринимать данные. HeadHunter и LinkedIn не являются очень показательными для IT-сферы, поскольку большинство работодателей не размещают вакансии в этих каналах. Эти площадки удобны скорее для активного поиска кандидатов. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nСкорее всего, у вас возник вопрос, зачем я привожу статистику из этих каналов, если она не несет серьезной информационной нагрузки? Тут все просто: несмотря на то, что количество опубликованных вакансий на HeadHunter и LinkedIn несколько искажает реальные цифры, эти площадки позволяют сравнить специальности между собой и выяснить, какие из них наиболее популярны на рынке. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nК сожалению, статистику из Telegram в отчете я отразить не могу, поскольку все вакансии, которые публикуют в мессенджере, отследить невозможно. Все же канал серьезно помог в составлении списка: \u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003Eон является одним из самых популярных каналов для IT-рекрутинга в России;\u003C\/li\u003E\r\n\u003Cli\u003Eмоя команда активно работает с мессенджером, поэтому знает, как часто и в каких количествах публикуются новые вакансии на подбор IT-специалистов. \u003C\/li\u003E\r\n\u003C\/ul\u003E \u003Cbr\u003E\r\nСпасибо, что прочитали этот важный раздел. Теперь можно переходить к списку :) \u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch2\u003EAndroid разработчики\u003C\/h2\u003E\u003Cbr\u003E\r\nНачнем с общей статистики. На HeadHunter за последний месяц разместили 595 новых предложений на подбор Android разработчиков, на LinkedIn — 8. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nНепосредственно в мою компанию за последние три месяца поступило 35 запросов на подбор программистов, создающих приложения на Android. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nВ сравнении с тем же периодом за 2019 год, мы получили на 17 заявок больше. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/post_images\/227\/97f\/c97\/22797fc97c027783cb5c4b1badaedde3.jpg\u0022 alt=\u0022image\u0022\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cblockquote\u003EИнтересный факт: по данным HeadHunter, зарплата Android разработчиков колеблется от 90 000 рублей до 7000$. Самая дорогая вакансия открыта для работы в немецкой компании.\u003C\/blockquote\u003E \u003Cbr\u003E\r\n\u003Ch2\u003EGo (Golang) программисты\u003C\/h2\u003E\u003Cbr\u003E\r\nРазработанный компанией Google и впервые появившейся в 2009 году, язык программирования Go сегодня активно распространяет свое влияние в российской IT-индустрии. За последний месяц на HeadHunter разместили 485 вакансий, из них 63 только за последние сутки.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nИнтересно, что в большинстве вакансий указан опыт всего 1-3 года. Есть компании, которые готовы рассматривать специалистов без опыта. Таких набралось 38. Скорее всего причина кроется в том, что это достаточно “молодой” для российского IT-рынка язык, и компании обратили на него внимание буквально полгода назад. На LinkedIn я нашла несколько активных вакансий для Golang программистов. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nВ мое агентство поступило 47 запросов на подбор Go разработчиков, и, по правде говоря, это колоссальные цифры для моей компании. К примеру, в тот же период в прошлом году мои рекрутеры искали всего 5 Go разработчиков. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/post_images\/a56\/353\/e90\/a56353e90977fd79fb23d0a84fa5dbe7.jpg\u0022 alt=\u0022image\u0022\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nС чем связан такой ажиотаж на Go программистов сказать пока трудно. Вполне вероятно, корреляции между пандемией и ростом спроса нет никакой, но факт остается фактом — это одна из самых популярных в моей компании вакансий. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cblockquote\u003EК слову, год назад я писала \u003Ca href=\u0022https:\/\/habr.com\/ru\/post\/452186\/\u0022\u003Eисследование\u003C\/a\u003E для читателей Habr, которое было посвящено редким языкам программирования. В черновом варианте исследования я упомянула Golang, но в конечном счете он не вошел в список (а жаль, представляете, какое занимательное наблюдение получилось бы?:) \u003Cbr\u003E\r\n\u003C\/blockquote\u003E\u003Cbr\u003E\r\n\u003Ch2\u003EPython разработчики\u003C\/h2\u003E\u003Cbr\u003E\r\nЯ знаю, что читатели Habr не очень доверяют статистике Stackoverflow, но все же, уж очень хочется упомянуть, что в \u003Ca href=\u0022https:\/\/insights.stackoverflow.com\/survey\/2019#most-popular-technologies\u0022 rel=\u0022nofollow\u0022\u003Eсвежем рейтинге \u003C\/a\u003Eсамых популярных языков программирования, Python занимает четвертую строчку, опередив Java, C++, PHP. А еще он является вторым после Rust в списке самых любимых языков среди разработчиков. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cblockquote\u003EИнтересный факт: уже третий год подряд Python активно прокладывает себе дорожку в ТОП-3 самых популярных языков программирования, из года в год занимая все более высокие позиции. \u003Cbr\u003E\r\n\u003C\/blockquote\u003E\u003Cbr\u003E\r\nЕсли говорить про запросы на Headhunter, то цифры там впечатляющие: на сегодняшний день 757 компаний ищет Python разработчиков. На LinkedIn — 14. Эти данные относятся непосредственно к специальности: предложений для тех, кто знает язык, но готов работать на другой IT-должности, вроде Data Scientist или Product owner, намного больше. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch2\u003ERuby on Rails девелоперы\u003C\/h2\u003E\u003Cbr\u003E\r\nПо данным HeadHunter всего мы можем найти 566 вакансий, в названии или описании которых упоминается знание Ruby on Rails. Исключительно Ruby on Rails программистов ищут 103 компании. На LinkedIn мы можем найти 10 активных вакансий. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nСтатистика моего агентства за январь-апрель 2020 в сравнении с запросами прошлого года сообщает о том, что спрос на Ruby on Rails разработчиков вырос в 5 раз (15 запросов в этом году в сравнении с 3 запросами в прошлом).\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/post_images\/f4e\/50f\/9cf\/f4e50f9cfba565d48aa982cd9cf678cf.jpg\u0022 alt=\u0022image\u0022\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cblockquote\u003EИнтересный факт: зарплата специалистов, владеющих Ruby on Rails, колеблется от 100 000 рублей до 10 000$. \u003C\/blockquote\u003E\u003Cbr\u003E\r\n\u003Ch2\u003EДругие специальности\u003C\/h2\u003E\u003Cbr\u003E\r\nЕсть специальности, спрос на которые не вырос, но все равно остается на достаточно высоком уровне. Это C++ программисты, а также Java разработчики. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nНа Headhunter мы можем найти 759 активных вакансий для C++ программистов, и 2127 предложений для разработчиков, пишущих на Java. На LinkedIn висит 37 предложений для С++ разработчиков, и около 80 для Java девелоперов. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cblockquote\u003EИнтересный факт: C++ программисту предлагают самую высокую зарплату в сравнении с другими специалистами из списка. Самое высокое вознаграждение на Headhunter — 10 000 евро. \u003Cbr\u003E\r\n\u003C\/blockquote\u003E\u003Cbr\u003E\r\n\u003Ch2\u003EЧто происходит с наймом в IT-компаниях: живая трансляция\u003C\/h2\u003E\u003Cbr\u003E\r\nНедавно команда проекта Podbor.io создала программу: каждый, кому интересна ситуация с кадрами в той или иной компании ( чаще всего IT), может зайти и в режиме онлайн проверить, что происходит с персоналом.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nКроме того, можно добавить собственную компанию и указать, что происходит у вас. Делюсь \u003Ca href=\u0022https:\/\/podbor.io\/hiring-freeze\u0022 rel=\u0022nofollow\u0022\u003Eссылкой\u003C\/a\u003E на платформу. Возможно, вам это будет полезно. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch2\u003EВывод\u003C\/h2\u003E\u003Cbr\u003E\r\nЕсли судить по данным, собранным на HeadHunter и в LinkedIn и, получается, что самой популярной специальностью из списка являются Python разработчики. За ними следуют Android и Ruby on Rails программисты, и только в конце стоит Golang. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/post_images\/b9d\/d3f\/6a3\/b9dd3f6a32f08eef31d475239903deb1.jpg\u0022 alt=\u0022image\u0022\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/post_images\/ada\/e99\/4d1\/adae994d13e2d8d60d4a9f643792466e.jpg\u0022 alt=\u0022image\u0022\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nНо если сравнивать специальности не по количеству публикаций на HeadHunter и LinkedIn, а на основании собственной статистики моего агентства, то тут все совершенно наоборот: Golang возглавляет рейтинг среди самых “развивающихся” в России языков. Востребованность Android и Ruby on Rails разработчиков также значительно выросла в сравнении с прошлым годом, а Java и C++ программисты как были, так и остаются очень популярными на рынке специалистами. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nТочно сказать нельзя, что повлияло на повышение спроса на некоторых IT-специалистов: пандемия и последующее развитие некоторых IT-сфер или случайность. Узнать об этом мы сможем лишь спустя время, а пока будем верить, что спрос на IT-специалистов в будущем будет оставаться на таком же высоком уровне, что и сейчас.",
      "is_comments_hide": 0,
      "editor_version": 1,
      "hubs": [
        {
          "id": 359,
          "rating": 548.0219,
          "is_profiled": true,
          "title": "Программирование",
          "alias": "programming",
          "about_small": "Искусство создания компьютерных программ",
          "about": "Процесс и искусство создания компьютерных программ с помощью языков программирования.",
          "count_subscribers": 273079,
          "count_posts": 11248,
          "tags_string": "программинг, кодирование, разработка, языки программирования",
          "is_membership": false,
          "is_company": false,
          "flow": {
            "id": 1,
            "name": "Разработка",
            "alias": "develop",
            "url": "https:\/\/habr.com\/ru\/flows\/develop\/",
            "path": "\/flows\/develop\/"
          },
          "icon": "\/\/habrastorage.org\/getpro\/habr\/hub\/db2\/c8f\/4a1\/db2c8f4a1974bf334d01595732f339c1.png",
          "path": "hub\/programming\/"
        },
        {
          "id": 8279,
          "rating": 2.6134,
          "is_profiled": true,
          "title": "Ruby on Rails",
          "alias": "ror",
          "about_small": "Фреймворк, написанный на Ruby",
          "about": "Ruby on Rails — фреймворк, написанный на языке программирования Ruby. Ruby on Rails предоставляет архитектурный образец Model-View-Controller (модель-представление-контроллер) для веб-приложений, а также обеспечивает их интеграцию с веб-сервером и сервером базы данных. Ruby on Rails является открытым программным обеспечением и распространяется под лицензией MIT.",
          "count_subscribers": 97342,
          "count_posts": 566,
          "tags_string": "ruby, Ruby on Rails, фреймворк, фрэймворк",
          "is_membership": false,
          "is_company": false,
          "flow": {
            "id": 1,
            "name": "Разработка",
            "alias": "develop",
            "url": "https:\/\/habr.com\/ru\/flows\/develop\/",
            "path": "\/flows\/develop\/"
          },
          "icon": "\/\/habrastorage.org\/getpro\/habr\/hub\/b6e\/749\/c8b\/b6e749c8b863f4ce37b1179c5e0f769e.png",
          "path": "hub\/ror\/"
        },
        {
          "id": 17107,
          "rating": 77.327,
          "is_profiled": true,
          "title": "Разработка под Android",
          "alias": "android_dev",
          "about_small": "Пишем под самую популярную мобильную ОС",
          "about": "Хаб обо всем, что касается разработки программного обеспечения под устройства на базе Android.",
          "count_subscribers": 459221,
          "count_posts": 4461,
          "tags_string": "android development, разработка android",
          "is_membership": true,
          "is_company": false,
          "flow": {
            "id": 1,
            "name": "Разработка",
            "alias": "develop",
            "url": "https:\/\/habr.com\/ru\/flows\/develop\/",
            "path": "\/flows\/develop\/"
          },
          "icon": "\/\/habrastorage.org\/getpro\/habr\/hub\/deb\/535\/b54\/deb535b54338aa5a202a516dee792556.png",
          "path": "hub\/android_dev\/"
        },
        {
          "id": 17748,
          "rating": 70.5341,
          "is_profiled": true,
          "title": "Go",
          "alias": "go",
          "about_small": "Компилируемый, многопоточный язык программирования",
          "about": "Go (часто также Golang) — компилируемый, многопоточный язык программирования, разработанный компанией Google. Первоначальная разработка Go началась в сентябре 2007 года, а его непосредственным проектированием занимались Роберт Гризмер, Роб Пайк и Кен Томпсон занимавшиеся до этого проектом разработки операционной системы Inferno. Официально язык был представлен в ноябре 2009 года.",
          "count_subscribers": 74265,
          "count_posts": 741,
          "tags_string": "go, go1, go 1",
          "is_membership": false,
          "is_company": false,
          "flow": {
            "id": 1,
            "name": "Разработка",
            "alias": "develop",
            "url": "https:\/\/habr.com\/ru\/flows\/develop\/",
            "path": "\/flows\/develop\/"
          },
          "icon": "\/\/habrastorage.org\/getpro\/habr\/hub\/a10\/c5c\/626\/a10c5c62685d9a7d2964993daf6958c3.png",
          "path": "hub\/go\/"
        },
        {
          "id": 20740,
          "rating": 336.421,
          "is_profiled": false,
          "title": "Карьера в IT-индустрии",
          "alias": "career",
          "about_small": "Работать, работать и работать (в IT)",
          "about": "Коллективный блог об HR: поиск, подбор, адаптация, тренинги, компенсации, льготы, обучение, и др.",
          "count_subscribers": 42651,
          "count_posts": 3071,
          "tags_string": "работа, HR, вакансия, вакансии, резюме",
          "is_membership": false,
          "is_company": false,
          "flow": {
            "id": 3,
            "name": "Менеджмент",
            "alias": "management",
            "url": "https:\/\/habr.com\/ru\/flows\/management\/",
            "path": "\/flows\/management\/"
          },
          "icon": "\/\/habrastorage.org\/getpro\/habr\/hub\/cab\/f82\/067\/cabf82067c7be08c90a5903f860c9abf.png",
          "path": "hub\/career\/"
        }
      ],
      "flows": [
        {
          "id": 1,
          "name": "Разработка",
          "alias": "develop",
          "url": "https:\/\/habr.com\/ru\/flows\/develop\/",
          "path": "\/flows\/develop\/"
        },
        {
          "id": 3,
          "name": "Менеджмент",
          "alias": "management",
          "url": "https:\/\/habr.com\/ru\/flows\/management\/",
          "path": "\/flows\/management\/"
        }
      ],
      "is_recovery_mode": false,
      "reading_count": 1151,
      "metadata": {
        "meta_image": ""
      },
      "path": "\/post\/498270\/",
      "full_url": "https:\/\/habr.com\/ru\/post\/498270\/",
      "author": {
        "id": 2037577,
        "login": "tani_mel",
        "time_registered": "2019-04-24T19:58:12+03:00",
        "score": 14,
        "fullname": "Татьяна Мельничук",
        "specializm": "Руководитель IT рекрутинговой компании",
        "sex": 2,
        "rating": 2.4,
        "vote": 0,
        "contacts": [],
        "rating_position": 963,
        "path": "\/users\/tani_mel\/",
        "geo": {
          "country": "Россия",
          "region": "Санкт-Петербург и область",
          "city": "Санкт-Петербург"
        },
        "counters": {
          "posts": 3,
          "comments": 27,
          "followed": 0,
          "followers": 8,
          "favorites": 0
        },
        "badges": [
          {
            "id": 1,
            "title": "Захабренный",
            "alias": "habred",
            "description": "Пользователь с кармой \u003E0",
            "url": null,
            "is_removable": false,
            "is_disabled": false
          }
        ],
        "avatar": "https:\/\/habrastorage.org\/getpro\/habr\/avatars\/2e5\/9da\/51a\/2e59da51aabd84c507d54b4efdef1664.jpg",
        "is_readonly": false,
        "is_rc": false,
        "is_subscribed": false,
        "common_tags": [],
        "is_can_vote": true
      },
      "has_polls": false,
      "url": "https:\/\/habr.com\/ru\/post\/498270\/",
      "post_type": 1,
      "post_type_str": "simple",
      "vote": null,
      "is_can_vote": true,
      "voting": {
        "score": 3,
        "voteCount": {
          "total": 3,
          "positive": 3,
          "negative": 0
        },
        "vote": null,
        "reasonMap": null
      },
      "is_habred": true,
      "is_interesting": false,
      "is_favorite": false,
      "comments_new": 5
    },
    {
      "id": 498268,
      "is_corporative": 0,
      "is_tutorial": false,
      "time_published": "2020-04-21T12:22:37+03:00",
      "time_interesting": null,
      "comments_count": 0,
      "score": 3,
      "votes_count": 3,
      "favorites_count": 8,
      "lang": "ru",
      "tags_string": "Microsoft Excel, LibreOffice Calc, парсинг, котировка, биржа, инвестиции, статистика, Excel, Calc, ценные бумаги, акции, облигации, биржевая торговля",
      "title": "Free API Мосбиржи в формулах Microsoft Excel",
      "preview_html": "Ранее уже писал про получение \u003Ca href=\u0022https:\/\/habr.com\/ru\/post\/486716\/\u0022\u003Eданных с Московской биржи через формулы Google Таблиц\u003C\/a\u003E. Однако остался вопрос — можно ли получать эти же данные при локальном использовании Microsoft Excel или его свободного аналога LibreOffice Calc? Без использования скриптов или ручного копирования.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/post_images\/493\/2b3\/769\/4932b37697153fb1672d2e55509ecbbb.gif\u0022\u003E\u003Cbr\u003E\r\n\u003Ci\u003EMicrosoft Excel с формулами получения данных с Мосбиржи\u003C\/i\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nИ на этот вопрос можно дать положительный ответ. Это даже более удобно, поскольку не приходится ожидать загрузки результатов работы функции \u003Ca href=\u0022https:\/\/support.google.com\/docs\/answer\/3093342?hl=ru\u0022 rel=\u0022nofollow\u0022\u003EIMPORTXML\u003C\/a\u003E в Гугл Таблицах.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nАналогом этой функции в Excel и Calc выступает связка формул: \u003Ca href=\u0022https:\/\/support.microsoft.com\/ru-ru\/office\/%D0%B2%D0%B5%D0%B1%D1%81%D0%BB%D1%83%D0%B6%D0%B1%D0%B0-%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D1%8F-%D0%B2%D0%B5%D0%B1%D1%81%D0%BB%D1%83%D0%B6%D0%B1%D0%B0-0546a35a-ecc6-4739-aed7-c0b7ce1562c4?ui=ru-ru\u0026amp;rs=ru-ru\u0022 rel=\u0022nofollow\u0022\u003EWEBSERVICE (ВЕБСЛУЖБА)\u003C\/a\u003E + \u003Ca href=\u0022https:\/\/support.microsoft.com\/ru-ru\/office\/%D1%84%D0%B8%D0%BB%D1%8C%D1%82%D1%80-xml-%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D1%8F-%D1%84%D0%B8%D0%BB%D1%8C%D1%82%D1%80-xml-4df72efc-11ec-4951-86f5-c1374812f5b7?ui=ru-ru\u0026amp;rs=ru-ru\u0026amp;ad=ru\u0022 rel=\u0022nofollow\u0022\u003EFILTERXML (ФИЛЬТР.XML)\u003C\/a\u003E.\u003Cbr\u003E",
      "text_cut": "Microsoft Excel или LibreOffice Calc плюс ИСС Мосбиржи",
      "text_html": "Ранее уже писал про получение \u003Ca href=\u0022https:\/\/habr.com\/ru\/post\/486716\/\u0022\u003Eданных с Московской биржи через формулы Google Таблиц\u003C\/a\u003E. Однако остался вопрос — можно ли получать эти же данные при локальном использовании Microsoft Excel или его свободного аналога LibreOffice Calc? Без использования скриптов или ручного копирования.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/post_images\/493\/2b3\/769\/4932b37697153fb1672d2e55509ecbbb.gif\u0022\u003E\u003Cbr\u003E\r\n\u003Ci\u003EMicrosoft Excel с формулами получения данных с Мосбиржи\u003C\/i\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nИ на этот вопрос можно дать положительный ответ. Это даже более удобно, поскольку не приходится ожидать загрузки результатов работы функции \u003Ca href=\u0022https:\/\/support.google.com\/docs\/answer\/3093342?hl=ru\u0022 rel=\u0022nofollow\u0022\u003EIMPORTXML\u003C\/a\u003E в Гугл Таблицах.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nАналогом этой функции в Excel и Calc выступает связка формул: \u003Ca href=\u0022https:\/\/support.microsoft.com\/ru-ru\/office\/%D0%B2%D0%B5%D0%B1%D1%81%D0%BB%D1%83%D0%B6%D0%B1%D0%B0-%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D1%8F-%D0%B2%D0%B5%D0%B1%D1%81%D0%BB%D1%83%D0%B6%D0%B1%D0%B0-0546a35a-ecc6-4739-aed7-c0b7ce1562c4?ui=ru-ru\u0026amp;rs=ru-ru\u0022 rel=\u0022nofollow\u0022\u003EWEBSERVICE (ВЕБСЛУЖБА)\u003C\/a\u003E + \u003Ca href=\u0022https:\/\/support.microsoft.com\/ru-ru\/office\/%D1%84%D0%B8%D0%BB%D1%8C%D1%82%D1%80-xml-%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D1%8F-%D1%84%D0%B8%D0%BB%D1%8C%D1%82%D1%80-xml-4df72efc-11ec-4951-86f5-c1374812f5b7?ui=ru-ru\u0026amp;rs=ru-ru\u0026amp;ad=ru\u0022 rel=\u0022nofollow\u0022\u003EFILTERXML (ФИЛЬТР.XML)\u003C\/a\u003E.\u003Cbr\u003E\r\n\u003Ca name=\u0022habracut\u0022\u003E\u003C\/a\u003E\u003Cbr\u003E\r\nПри работе с Microsoft Excel есть некоторые нюансы:\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003EЭти функции доступны только в Excel 2013 и более поздних версиях для Windows.\u003C\/li\u003E\r\n\u003Cli\u003EЭти функции не будет возвращать результаты на компьютере Mac.\u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\u003E\r\nДля LibreOffice Calc подобных ограничений меньше:\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003EТребуется LibreOffice 4.2 и выше.\u003C\/li\u003E\r\n\u003Cli\u003EНет ограничений на используемую ОС. Работает под:\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/post_images\/ccc\/089\/7cc\/ccc0897ccad4ef7cc63b425223695d3f.png\u0022 width=\u002218\u0022 alt=\u0022image\u0022\u003E Windows\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/post_images\/ccc\/089\/7cc\/ccc0897ccad4ef7cc63b425223695d3f.png\u0022 width=\u002218\u0022 alt=\u0022image\u0022\u003E Linux \u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/post_images\/ccc\/089\/7cc\/ccc0897ccad4ef7cc63b425223695d3f.png\u0022 width=\u002218\u0022 alt=\u0022image\u0022\u003E Mac OS\u003C\/li\u003E\r\n\u003Cli\u003EФайл Excel .xlsx открывается и работоспособен, но визуально форматирование может быть нарушено.\u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\u003E\r\nСобрал работоспособный пример «\u003Ca href=\u0022https:\/\/drive.google.com\/file\/d\/1SRFExTs42traUQKEHJXNYei4QtmuLhAf\/view?usp=sharing\u0022 rel=\u0022nofollow\u0022\u003E\u003Ccode\u003EAPI Мосбиржи в Microsoft Excel.xlsx\u003C\/code\u003E\u003C\/a\u003E» с функциями, которые описаны в \u003Ca href=\u0022https:\/\/www.moex.com\/a2193\u0022 rel=\u0022nofollow\u0022\u003Eпрограммном интерфейсе к информационно-статистическому серверу Московской Биржи (ИСС \/ ISS)\u003C\/a\u003E. Плюс добавил некоторые функции, которые были найдены читателями первой части статьи про гугл таблицы. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nПротестировал этот файл в Microsoft Excel 2019 под Windows 10 и в LibreOffice Calc 6.4 под Linux Mint 19.3. Под Mac OS у меня возможности протестировать не было.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch1\u003EAPI Московской биржи в формулах MS Excel\u003C\/h1\u003E\u003Cbr\u003E\r\nВ общем виде все запросы, которые можно отправить к API Мосбиржи есть\u003Ca href=\u0022https:\/\/iss.moex.com\/iss\/reference\/\u0022 rel=\u0022nofollow\u0022\u003E в справочнике\u003C\/a\u003E. Но лично для меня этот справочник до сих пор не особо понятен, хотя с API контактирую довольно часто.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch3\u003EИдентификатор режима торгов\u003C\/h3\u003E\u003Cbr\u003E\r\nВ API Московской биржи очень многое зависит от параметра «Идентификатор режима торгов» (primary_boardid), который можно посмотреть прямо\u003Ca href=\u0022https:\/\/www.moex.com\/\u0022 rel=\u0022nofollow\u0022\u003E у них на сайте через форму поиска\u003C\/a\u003E.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/post_images\/f97\/23c\/77f\/f9723c77f352463f3b678175ce7d46d3.png\u0022\u003E\u003Cbr\u003E\r\n\u003Ci\u003EИдентификатор режима торгов для акций Тинькофф\u003C\/i\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nТакже этот идентификатор можно посмотреть через\u003Ca href=\u0022https:\/\/iss.moex.com\/iss\/securities.xml?q=%D0%BF%D0%B5%D1%80%D0%BC%D1%8C\u0026amp;iss.meta=off\u0026amp;securities.columns=name,emitent_inn,isin,secid,primary_boardid\u0022 rel=\u0022nofollow\u0022\u003E обычный HTTP-запрос к API\u003C\/a\u003E:\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022plaintext\u0022\u003Ehttps:\/\/iss.moex.com\/iss\/securities.xml?q=ТУТ ПИШЕМ НАЗВАНИЕ ИНСТРУМЕНТА ИЛИ ЕГО ЧАСТЬ\u0026amp;iss.meta=off\u0026amp;securities.columns=name,emitent_inn,isin,secid,primary_boardid\n\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/post_images\/50b\/771\/5b7\/50b7715b7befe411ce694a7c0779151d.png\u0022\u003E\u003Cbr\u003E\r\n\u003Ci\u003EПоиск через HTTP-запрос к API Мосбиржи по слову Пермь\u003C\/i\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cstrong\u003EАвтоматическое получение имени акций, облигаций и ETF\u003C\/strong\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nОчень удобно, что можно получить полное или краткое наименование инструмента. Для облигаций полное название особенно понятно.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/post_images\/b77\/315\/377\/b773153772469fe47c383a01b0da9fa8.png\u0022\u003E\u003Cbr\u003E\r\n\u003Ci\u003EФайл «\u003Ca href=\u0022https:\/\/drive.google.com\/file\/d\/1SRFExTs42traUQKEHJXNYei4QtmuLhAf\/view?usp=sharing\u0022 rel=\u0022nofollow\u0022\u003E\u003Ccode\u003EAPI Мосбиржи в Microsoft Excel.xlsx\u003C\/code\u003E\u003C\/a\u003E» с примерами автоматического получения имени для разных классов активов. Корректно работает и в LibreOffice Calc\u003C\/i\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch3\u003EАвтоматическое получение текущих цен\u003C\/h3\u003E\u003Cbr\u003E\r\nНа этой вкладке представлены актуальные примеры для получения цен акций, облигаций и ETF с Московской биржи.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nЦена предыдущего дня берётся через PREVADMITTEDQUOTE, а не LAST с 15 минутной задержкой, поскольку по некоторым низко ликвидным инструментам через LAST цены может просто не быть.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/post_images\/b57\/a57\/1be\/b57a571be498bcdaadc8f9fc2a0bb092.png\u0022\u003E\u003Cbr\u003E\r\n\u003Ci\u003EФайл «\u003Ca href=\u0022https:\/\/drive.google.com\/file\/d\/1SRFExTs42traUQKEHJXNYei4QtmuLhAf\/view?usp=sharing\u0022 rel=\u0022nofollow\u0022\u003E\u003Ccode\u003EAPI Мосбиржи в Microsoft Excel.xlsx\u003C\/code\u003E\u003C\/a\u003E» с примерами автоматического получения имени для разных классов активов. Корректно работает и в LibreOffice Calc\u003C\/i\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch3\u003EАвтоматическое получение дивидендных выплат для акций\u003C\/h3\u003E\u003Cbr\u003E\r\nОчень удобная функция Мосбиржи, которая позволяет получать не только значение текущей выплаты, но и историю выплат дивидендов вместе с датами и значениями.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/post_images\/5f8\/793\/ab8\/5f8793ab89eca9f4a6613bcf8e479af5.png\u0022\u003E\u003Cbr\u003E\r\n\u003Ci\u003EФайл «\u003Ca href=\u0022https:\/\/drive.google.com\/file\/d\/1SRFExTs42traUQKEHJXNYei4QtmuLhAf\/view?usp=sharing\u0022 rel=\u0022nofollow\u0022\u003E\u003Ccode\u003EAPI Мосбиржи в Microsoft Excel.xlsx\u003C\/code\u003E\u003C\/a\u003E» с примерами автоматического получения имени для разных классов активов. Корректно работает и в LibreOffice Calc\u003C\/i\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch3\u003EАвтоматическое получение облигационных выплат\u003C\/h3\u003E\u003Cbr\u003E\r\nПо облигациям (не только корпоративным, но также ОФЗ и еврооблигациям) можно автоматически получать дату выплаты следующего купона и его значение.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/post_images\/09c\/0f6\/e5a\/09c0f6e5a2ce2514c4ddf7f54144dd71.png\u0022\u003E\u003Cbr\u003E\r\n\u003Ci\u003EФайл «\u003Ca href=\u0022https:\/\/drive.google.com\/file\/d\/1SRFExTs42traUQKEHJXNYei4QtmuLhAf\/view?usp=sharing\u0022 rel=\u0022nofollow\u0022\u003E\u003Ccode\u003EAPI Мосбиржи в Microsoft Excel.xlsx\u003C\/code\u003E\u003C\/a\u003E» с примерами автоматического получения имени для разных классов активов. Корректно работает и в LibreOffice Calc\u003C\/i\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch3\u003EАвтоматическое получение дат оферт\u003C\/h3\u003E\u003Cbr\u003E\r\nУдобно планировать собственные финансы, получая даты оферт (дата, в которую инвестор или эмитент имеют право досрочно погасить облигацию по цене номинала) автоматически.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/post_images\/317\/70c\/191\/31770c1911bbc663fe92020fe5c691f5.png\u0022\u003E\u003Cbr\u003E\r\n\u003Ci\u003EФайл «\u003Ca href=\u0022https:\/\/drive.google.com\/file\/d\/1SRFExTs42traUQKEHJXNYei4QtmuLhAf\/view?usp=sharing\u0022 rel=\u0022nofollow\u0022\u003E\u003Ccode\u003EAPI Мосбиржи в Microsoft Excel.xlsx\u003C\/code\u003E\u003C\/a\u003E» с примерами автоматического получения имени для разных классов активов. Корректно работает и в LibreOffice Calc\u003C\/i\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch2\u003EИтог\u003C\/h2\u003E\u003Cbr\u003E\r\nAPI Московской биржи предоставляет широкие возможности, которые гораздо шире чем описанные в данной статье. Это статья своеобразная шпаргалка для долгосрочного частного инвестора, который ведёт учёт в локальном файле на собственном компьютере.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nТакже хочу отметить, что я никак не связан с Московской биржей и использую ИСС Мосбиржи только в личных интересах.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nАвтор:\u003Ca href=\u0022https:\/\/www.facebook.com\/mikhail.shardin\u0022 rel=\u0022nofollow\u0022\u003E Михаил Шардин\u003C\/a\u003E,\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n21 апреля 2020 г.",
      "is_comments_hide": 0,
      "editor_version": 1,
      "hubs": [
        {
          "id": 7152,
          "rating": 93.5871,
          "is_profiled": true,
          "title": "Data Mining",
          "alias": "data_mining",
          "about_small": "Глубинный анализ данных",
          "about": "Data Mining — собирательное название, используемое для обозначения совокупности методов обнаружения в данных ранее неизвестных, нетривиальных, практически полезных и доступных интерпретации знаний, необходимых для принятия решений в различных сферах человеческой деятельности. Термин введён Григорием Пятецким-Шапиро в 1989 году.",
          "count_subscribers": 100773,
          "count_posts": 1306,
          "tags_string": "data mining, knowledge discovery, web mining, дата майнинг",
          "is_membership": false,
          "is_company": false,
          "flow": {
            "id": 1,
            "name": "Разработка",
            "alias": "develop",
            "url": "https:\/\/habr.com\/ru\/flows\/develop\/",
            "path": "\/flows\/develop\/"
          },
          "icon": "\/\/habrastorage.org\/getpro\/habr\/hub\/741\/cc4\/8fe\/741cc48fe311046e166f158b180b9b61.png",
          "path": "hub\/data_mining\/"
        },
        {
          "id": 8000,
          "rating": 200.3577,
          "is_profiled": true,
          "title": "Алгоритмы",
          "alias": "algorithms",
          "about_small": "Все об алгоритмах",
          "about": "Пишем про полезные и не очень алгоритмы, а также изучаем уже существующие.",
          "count_subscribers": 256771,
          "count_posts": 3653,
          "tags_string": "алгоритм, алгоритмы, задачки, решения, математика, программирование",
          "is_membership": false,
          "is_company": false,
          "flow": {
            "id": 1,
            "name": "Разработка",
            "alias": "develop",
            "url": "https:\/\/habr.com\/ru\/flows\/develop\/",
            "path": "\/flows\/develop\/"
          },
          "icon": "\/\/habrastorage.org\/getpro\/habr\/hub\/61e\/bf9\/7b0\/61ebf97b08494e41ad7b7cad1e0aacc7.png",
          "path": "hub\/algorithms\/"
        },
        {
          "id": 17690,
          "rating": 35.1334,
          "is_profiled": true,
          "title": "API",
          "alias": "api",
          "about_small": "Интерфейс программирования приложений",
          "about": "Хаб про API",
          "count_subscribers": 82109,
          "count_posts": 1021,
          "tags_string": "api, разработка, инструменты для разработчиков, апи, application programming interface",
          "is_membership": false,
          "is_company": false,
          "flow": {
            "id": 1,
            "name": "Разработка",
            "alias": "develop",
            "url": "https:\/\/habr.com\/ru\/flows\/develop\/",
            "path": "\/flows\/develop\/"
          },
          "icon": "\/\/habrastorage.org\/getpro\/habr\/hub\/dfa\/56e\/2bf\/dfa56e2bf6d5979753f4ae9e8f7c27e1.png",
          "path": "hub\/api\/"
        },
        {
          "id": 21928,
          "rating": 88.1668,
          "is_profiled": false,
          "title": "Финансы в IT",
          "alias": "finance",
          "about_small": "О сложных финансовых материях",
          "about": "О сложных финансовых материях — максимально простыми словами",
          "count_subscribers": 90463,
          "count_posts": 3127,
          "tags_string": "инвестиции, investments, монетизация, monetisation, деньги, money, finance, markets, shares, налог, налоги, акции, усн, финансы, рынки, фонды, stock market, futures, bonds, equities",
          "is_membership": false,
          "is_company": false,
          "flow": {
            "id": 7,
            "name": "Научпоп",
            "alias": "popsci",
            "url": "https:\/\/habr.com\/ru\/flows\/popsci\/",
            "path": "\/flows\/popsci\/"
          },
          "icon": "\/\/habrastorage.org\/getpro\/geektimes\/hub\/fd6\/71f\/dcf\/fd671fdcf24393f28b04673ef09bcd62.png",
          "path": "hub\/finance\/"
        }
      ],
      "flows": [
        {
          "id": 1,
          "name": "Разработка",
          "alias": "develop",
          "url": "https:\/\/habr.com\/ru\/flows\/develop\/",
          "path": "\/flows\/develop\/"
        },
        {
          "id": 7,
          "name": "Научпоп",
          "alias": "popsci",
          "url": "https:\/\/habr.com\/ru\/flows\/popsci\/",
          "path": "\/flows\/popsci\/"
        }
      ],
      "is_recovery_mode": false,
      "reading_count": 329,
      "metadata": {
        "meta_image": ""
      },
      "path": "\/post\/498268\/",
      "full_url": "https:\/\/habr.com\/ru\/post\/498268\/",
      "author": {
        "id": 888601,
        "login": "empenoso",
        "time_registered": "2014-12-26T18:44:32+03:00",
        "score": 62,
        "fullname": "Михаил Шардин",
        "specializm": "Разработчик",
        "sex": 1,
        "rating": 26.5,
        "vote": 0,
        "contacts": [],
        "rating_position": 209,
        "path": "\/users\/empenoso\/",
        "geo": {
          "country": "Россия",
          "region": "Пермский край",
          "city": "Пермь"
        },
        "counters": {
          "posts": 15,
          "comments": 429,
          "followed": 8,
          "followers": 170,
          "favorites": 46
        },
        "badges": [
          {
            "id": 1,
            "title": "Захабренный",
            "alias": "habred",
            "description": "Пользователь с кармой \u003E0",
            "url": null,
            "is_removable": false,
            "is_disabled": false
          },
          {
            "id": 7,
            "title": "Старожил",
            "alias": "oldresident",
            "description": "Пользователь, зарегистрированный более 3-х лет назад, с кармой больше 50",
            "url": null,
            "is_removable": false,
            "is_disabled": false
          },
          {
            "id": 102,
            "title": "Бета-тестер",
            "alias": "tester",
            "description": "Участвует в тестировании новой функциональности",
            "url": "https:\/\/habr.com\/beta\/welcome\/",
            "is_removable": false,
            "is_disabled": false
          }
        ],
        "avatar": "https:\/\/habrastorage.org\/getpro\/habr\/avatars\/d58\/790\/371\/d587903713ecd0c9e705c8fb17835ac2.jpg",
        "is_readonly": false,
        "is_rc": false,
        "is_subscribed": false,
        "common_tags": [],
        "is_can_vote": true
      },
      "has_polls": true,
      "url": "https:\/\/habr.com\/ru\/post\/498268\/",
      "post_type": 1,
      "post_type_str": "simple",
      "vote": null,
      "is_can_vote": true,
      "voting": {
        "score": 3,
        "voteCount": {
          "total": 3,
          "positive": 3,
          "negative": 0
        },
        "vote": null,
        "reasonMap": null
      },
      "is_habred": true,
      "is_interesting": false,
      "is_favorite": false,
      "comments_new": null
    },
    {
      "id": 498224,
      "is_corporative": 1,
      "is_tutorial": true,
      "time_published": "2020-04-21T12:22:34+03:00",
      "time_interesting": null,
      "comments_count": 0,
      "score": 3,
      "votes_count": 3,
      "favorites_count": 2,
      "lang": "ru",
      "tags_string": "azure functions, cognitive services, uwp, bot framework, azure bot, science art, museum, exhibit, exhibition, azure storage",
      "title": "Создаём интерактивный выставочный экспонат с .NET, Azure Functions и магией когнитивных сервисов",
      "preview_html": "\u003Cp\u003EВ начале января \u003Ca href=\u0022http:\/\/electromuseum.ru\u0022 rel=\u0022nofollow\u0022\u003EЭлектромузей Москвы\u003C\/a\u003E объявил открытый отбор экспонатов для участия в выставке \u003Ca href=\u0022http:\/\/electromuseum.ru\/event\/otkrytyj-muzej-2020\/\u0022 rel=\u0022nofollow\u0022\u003EOpen Museum 2020\u003C\/a\u003E. В этой заметке я расскажу, как превратил идею когнитивного портрета, \u003Ca href=\u0022https:\/\/habr.com\/ru\/company\/microsoft\/blog\/478356\/\u0022\u003Eо которой я уже писал\u003C\/a\u003E, в интерактивный экспонат, и как после закрытия музея на карантин этот экспонат стал виртуальным. Под катом — экскурс в \u003Ca href=\u0022https:\/\/docs.microsoft.com\/azure\/developer\/python\/tutorial-vs-code-serverless-python-01\/?WT.mc_id=aiapril-blog-dmitryso\u0022 rel=\u0022nofollow\u0022\u003EAzure Functions\u003C\/a\u003E, \u003Ca href=\u0022https:\/\/docs.microsoft.com\/ru-ru\/azure\/bot-service\/?view=azure-bot-service-4.0\u0026amp;amp;WT.mc_id=aiapril-blog-dmitryso\u0022 rel=\u0022nofollow\u0022\u003EBot Framework\u003C\/a\u003E, \u003Ca href=\u0022http:\/\/aka.ms\/coserv\u0022 rel=\u0022nofollow\u0022\u003Eкогнитивные сервисы\u003C\/a\u003E и \u003Ca href=\u0022https:\/\/docs.microsoft.com\/windows\/uwp\/audio-video-camera\/detect-and-track-faces-in-an-image\/?WT.mc_id=aiapril-blog-dmitryso\u0022 rel=\u0022nofollow\u0022\u003Eобнаружение лиц в UWP-приложениях\u003C\/a\u003E.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/wr\/jf\/vg\/wrjfvgok9luywegnvccrsyj-ddc.jpeg\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cblockquote\u003EЭтот пост является частью инициативы \u003Ca href=\u0022http:\/\/aka.ms\/AIApril\u0022 rel=\u0022nofollow\u0022\u003EAI April\u003C\/a\u003E. В течение всего апреля, мои коллеги из Microsoft каждый день пишут интересные статьи на тему AI и машинного обучения. Посмотрите на \u003Ca href=\u0022http:\/\/aka.ms\/AIApril\u0022 rel=\u0022nofollow\u0022\u003Eкалендарь\u003C\/a\u003E — вдруг вы найдёте там другие интересующие вас темы. Статьи преимущественно на английском.\u003C\/blockquote\u003E",
      "text_cut": "Читать дальше \u0026rarr;",
      "text_html": "\u003Cp\u003EВ начале января \u003Ca href=\u0022http:\/\/electromuseum.ru\u0022\u003EЭлектромузей Москвы\u003C\/a\u003E объявил открытый отбор экспонатов для участия в выставке \u003Ca href=\u0022http:\/\/electromuseum.ru\/event\/otkrytyj-muzej-2020\/\u0022\u003EOpen Museum 2020\u003C\/a\u003E. В этой заметке я расскажу, как превратил идею когнитивного портрета, \u003Ca href=\u0022https:\/\/habr.com\/ru\/company\/microsoft\/blog\/478356\/\u0022\u003Eо которой я уже писал\u003C\/a\u003E, в интерактивный экспонат, и как после закрытия музея на карантин этот экспонат стал виртуальным. Под катом — экскурс в \u003Ca href=\u0022https:\/\/docs.microsoft.com\/azure\/developer\/python\/tutorial-vs-code-serverless-python-01\/?WT.mc_id=aiapril-blog-dmitryso\u0022\u003EAzure Functions\u003C\/a\u003E, \u003Ca href=\u0022https:\/\/docs.microsoft.com\/ru-ru\/azure\/bot-service\/?view=azure-bot-service-4.0\u0026amp;amp;WT.mc_id=aiapril-blog-dmitryso\u0022\u003EBot Framework\u003C\/a\u003E, \u003Ca href=\u0022http:\/\/aka.ms\/coserv\u0022\u003Eкогнитивные сервисы\u003C\/a\u003E и \u003Ca href=\u0022https:\/\/docs.microsoft.com\/windows\/uwp\/audio-video-camera\/detect-and-track-faces-in-an-image\/?WT.mc_id=aiapril-blog-dmitryso\u0022\u003Eобнаружение лиц в UWP-приложениях\u003C\/a\u003E.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/wr\/jf\/vg\/wrjfvgok9luywegnvccrsyj-ddc.jpeg\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cblockquote\u003EЭтот пост является частью инициативы \u003Ca href=\u0022http:\/\/aka.ms\/AIApril\u0022\u003EAI April\u003C\/a\u003E. В течение всего апреля, мои коллеги из Microsoft каждый день пишут интересные статьи на тему AI и машинного обучения. Посмотрите на \u003Ca href=\u0022http:\/\/aka.ms\/AIApril\u0022\u003Eкалендарь\u003C\/a\u003E — вдруг вы найдёте там другие интересующие вас темы. Статьи преимущественно на английском.\u003C\/blockquote\u003E\u003Ca name=\u0022habracut\u0022\u003E\u003C\/a\u003E\u003Cbr\u003E\r\n\u003Cp\u003EРанее я писал про \u003Ca href=\u0022\/scienceart\/peopleblending\/\u0022\u003Eтехнику когнитивного портрета\u003C\/a\u003E, которая позволяет создавать смешанные портреты людей из серии фотографий:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cdiv class=\u0022scrollable-table\u0022\u003E\u003Ctable\u003E\r\n\u003Cthead\u003E\r\n\u003Ctr\u003E\r\n\u003Cth\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/9u\/v9\/hq\/9uv9hq_xhyuuscg7fezq6u242kk.jpeg\u0022 width=\u0022300\u0022 alt=\u0022Cognitive Portrait\u0022\u003E\u003C\/th\u003E\r\n\u003Cth\u003E\u003Cimg alt=\u0022Cogntive Protrait\u0022 src=\u0022https:\/\/habrastorage.org\/webt\/ju\/e9\/ld\/jue9ldftfqmo0xqnd379jmszuqe.jpeg\u0022 width=\u0022300\u0022\u003E\u003C\/th\u003E\r\n\u003C\/tr\u003E\r\n\u003C\/thead\u003E\r\n\u003Ctbody\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003E\u003Cem\u003EОльга\u003C\/em\u003E, 2019, \u003Ca href=\u0022http:\/\/aka.ms\/peopleblending\u0022\u003EPeople Blending\u003C\/a\u003E\u003C\/td\u003E\r\n\u003Ctd\u003E\u003Cem\u003EКруговорот людей\u003C\/em\u003E, 2020, \u003Ca href=\u0022http:\/\/aka.ms\/cognitiveportrait\u0022\u003ECognitive Portrait\u003C\/a\u003E\u003C\/td\u003E\r\n\u003C\/tr\u003E\r\n\u003C\/tbody\u003E\r\n\u003C\/table\u003E\u003C\/div\u003E\u003Cbr\u003E\r\n\u003Cp\u003EКогда был объявлен открытый конкурс работ для предстоящей выставки \u003Ca href=\u0022http:\/\/electromuseum.ru\/event\/otkrytyj-muzej-2020\/\u0022\u003EOpenMuseum\u003C\/a\u003E, и я сразу же подумал о том, чтобы воплотить идею когнитивного портрета в виде какого-нибудь интерактивного экспоната. Мне пришла в голову идея интерактивного стенда, который захватывал бы фотографии посетителей выставки и превращал их в \u0026quot;усреднённый\u0026quot; когнитивный портрет посетителей. \u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EПоскольку техника когнитивного портрета использует \u003Ca href=\u0022https:\/\/docs.microsoft.com\/azure\/cognitive-services\/?WT.mc_id=aiapril-blog-dmitryso\u0022\u003Eкогнитивные сервисы\u003C\/a\u003E для извлечения \u003Ca href=\u0022https:\/\/docs.microsoft.com\/azure\/cognitive-services\/face\/concepts\/face-detection#face-landmarks?WT.mc_id=aiapril-blog-dmitryso\u0022\u003Eключевых точек лица\u003C\/a\u003E, экспонату потребуется подключение к интернет. Вообще говоря, \u0026quot;подключенный\u0026quot; к сети экспонат, в котором логика оформлена в виде облачного сервиса, позволит делать намного больше интересного:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003EОн сможет записывать в облако фотографии, чтобы затем использовать их для последующей экспозиции.\u003C\/li\u003E\r\n\u003Cli\u003EМожно получить демографический портрет посетителей выставки, включая распределение по полу, возрасту и эмоциям.\u003C\/li\u003E\r\n\u003Cli\u003EОтслеживание посетителей позволит нам понимать, сколько времени они проводят перед экспонатом, а также какой эмоциональный эффект имеют те или иные фотографии на посетителей.\u003C\/li\u003E\r\n\u003Cli\u003EВпоследствии, чтобы задействовать новые \u003Ca href=\u0022http:\/\/github.com\/CloudAdvocacy\/CognitivePortrait\u0022\u003Eтехники когнитивного портрета\u003C\/a\u003E, достаточно будет всего лишь изменить программный код в облаке, при этом экспонат \u0026quot;поменяется\u0026quot; без всякой необходимости личного посещения музея.\u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\u003E\r\n\u003Ch2\u003EАрхитектура\u003C\/h2\u003E\u003Cbr\u003E\r\n\u003Cp\u003EС точки зрения архитектуры, экспонат будет состоять из двух частей:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003E\u003Cstrong\u003EКлиентское UWP-приложение\u003C\/strong\u003E, работающее на компьютере в музее, с веб-камерой и дисплеем. \u003Ca href=\u0022https:\/\/docs.microsoft.com\/windows\/uwp\/get-started\/universal-application-platform-guide\/?WT.mc_id=aiapril-blog-dmitryso\u0022\u003EUWP-приложение\u003C\/a\u003E может также работать на Raspberry Pi на \u003Ca href=\u0022https:\/\/docs.microsoft.com\/windows\/iot-core\/tutorials\/rpi\/?WT.mc_id=aiapril-blog-dmitryso\u0022\u003EWindows IoT Core\u003C\/a\u003E. Клиентское приложение делает следующее:\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003EОбнаруживает, есть ли перед камерой человек (face detection).\u003C\/li\u003E\r\n\u003Cli\u003EЕсли человек стоит относительно неподвижно около секунды — оно делает фотографию и посылает её в облако.\u003C\/li\u003E\r\n\u003Cli\u003EВ ответ на фотографию приложение получает из облака ссылку на изображение, которое оно отображает на экране. \u003C\/li\u003E\r\n\u003C\/ul\u003E\u003C\/li\u003E\r\n\u003Cli\u003E\u003Cstrong\u003EОблачный сервис\u003C\/strong\u003E, который собственно и определяет логику экспоната и отвечает за рисование когнитивного портрета:\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003EПолучает изображение от клиентского приложения.\u003C\/li\u003E\r\n\u003Cli\u003EВызывает когнитивные сервисы для извлечения ключевых точек лица, применяет аффинное преобразование и выравнивает изображение таким образом, чтобы глаза и середина рта были расположены в точках с фиксированными координатами.\u003C\/li\u003E\r\n\u003Cli\u003EСохраняет выровненное изображение в \u003Ca href=\u0022https:\/\/docs.microsoft.com\/azure\/storage\/?WT.mc_id=aiapril-blog-dmitryso\u0022\u003EAzure Storage\u003C\/a\u003E.\u003C\/li\u003E\r\n\u003Cli\u003EПолучает несколько последних выровненных изображений, усредняет их для получения портрета, сохраняет его в Azure Storage и возвращает полученную ссылку.\u003C\/li\u003E\r\n\u003C\/ul\u003E\u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/sm\/wa\/h3\/smwah3f3ooaf-yimylcx2mweumm.png\u0022 alt=\u0022Exhibit Architecture\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Ch2\u003EВиртуальный экспонат в условиях самоизоляции\u003C\/h2\u003E\u003Cbr\u003E\r\n\u003Cp\u003EЧерез несколько недель после открытия выставки, на которой был представлен экспонат, работа музея была временно приостановлена из-за карантина. Однако, учитывая клиент-серверную архитектуру решения, оказалось возможным заменить клиентскую часть приложения, и создать \u003Cstrong\u003Eинтерактивный музейный бот-экспонат\u003C\/strong\u003E.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EБот доступен а телеграм как \u003Ca href=\u0022http:\/\/t.me\/peopleblenderbot\u0022\u003E@PeopleBlenderBot\u003C\/a\u003E. Он вызывает тот же самый облачный сервис через REST API, и показывает пользователю полученное изображение. Пользователь посылает боту свою фотографию, и получает в ответ когнитивный портрет со своим участием, и с участием нескольких других \u0026quot;посетителей виртуальной выставки\u0026quot;, которые посылали свои фотографии до этого. При этом, если в это время работала бы реальная выставка, то изображения бы смешивались ещё и с теми посетителями, которые пришли посмотреть на экспонат \u0026quot;в реальном мире\u0026quot;. \u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cblockquote\u003EИнтерактивный бот \u003Ca href=\u0022http:\/\/t.me\/peopleblenderbot\u0022\u003E\u003Cstrong\u003E@PeopleBlenderBot\u003C\/strong\u003E\u003C\/a\u003E стирает границы между реальным и виртуальным миром, смешивая фотографии посетителей реальной выставки (или нескольких выставок) и людей, посещающих её из дома с помощью бота, в единый когнитивный портрет. Он являет собой \u003Cstrong\u003Eискусство без границ\u003C\/strong\u003E, в прямом смысле объединяя людей из разных городов и стран. Вы можете протестировать бота в телеграм, или \u003Ca href=\u0022http:\/\/soshnikov.com\/museum\/peopleblenderbot\u0022\u003Eв моём виртуальном музее\u003C\/a\u003E.\u003C\/blockquote\u003E\u003Cp\u003EДалее поговорим подробнее про техническое устройство экспоната.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Ch2\u003EКлиентское приложение UWP\u003C\/h2\u003E\u003Cbr\u003E\r\n\u003Cp\u003EОдна из основных причин, по которой я выбрал технологию \u003Ca href=\u0022https:\/\/docs.microsoft.com\/windows\/uwp\/get-started\/universal-application-platform-guide\/?WT.mc_id=aiapril-blog-dmitryso\u0022\u003Eуниверсальных приложений Windows\u003C\/a\u003E в качестве клиента — это наличие функции распознавания лиц прямо \u0026quot;из коробки\u0026quot;. Универсальное приложение может быть запущено как на персональном компьютере, так и на микроконтроллере Raspberry Pi с операционной системой \u003Ca href=\u0022https:\/\/docs.microsoft.com\/windows\/iot-core\/tutorials\/rpi\/?WT.mc_id=aiapril-blog-dmitryso\u0022\u003EWindows 10 IoT Core\u003C\/a\u003E. Конечно, Raspberry на Windows не слишком шустр, поэтому я использовал компактный компьютер \u003Ca href=\u0022https:\/\/www.intel.ru\/content\/www\/ru\/ru\/products\/boards-kits\/nuc.html\u0022\u003EIntel NUC\u003C\/a\u003E. \u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EПримерно так выглядит пользовательский интерфейс приложения:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/0p\/4v\/-q\/0p4v-qgixrqikat33cemavcny0g.png\u0022 alt=\u0022Cognitive Portrait UWP UI\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EТакой интерфейс описывается на XAML следующим образом (с незначительными упрощениями):\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022plaintext\u0022\u003E\u0026lt;Grid Background=\u0026quot;{ThemeResource ApplicationPageBackgroundThemeBrush}\u0026quot;\u0026gt;\n    \u0026lt;Grid.ColumnDefinitions\u0026gt;\n        \u0026lt;ColumnDefinition Width=\u0026quot;*\u0026quot;\/\u0026gt;\n        \u0026lt;ColumnDefinition Width=\u0026quot;*\u0026quot;\/\u0026gt;\n    \u0026lt;\/Grid.ColumnDefinitions\u0026gt;\n    \u0026lt;Grid.RowDefinitions\u0026gt;\n        \u0026lt;RowDefinition Height=\u0026quot;*\u0026quot;\/\u0026gt;\n        \u0026lt;RowDefinition Height=\u0026quot;170\u0026quot;\/\u0026gt;\n    \u0026lt;\/Grid.RowDefinitions\u0026gt;\n    \u0026lt;Grid x:Name=\u0026quot;FacesCanvas\u0026quot; Grid.Row=\u0026quot;0\u0026quot; Grid.Column=\u0026quot;0\u0026quot;\u0026gt;\n        \u0026lt;CaptureElement x:Name=\u0026quot;ViewFinder\u0026quot; \/\u0026gt;\n        \u0026lt;Rectangle x:Name=\u0026quot;FaceRect\u0026quot;\/\u0026gt;\n        \u0026lt;TextBlock x:Name=\u0026quot;Counter\u0026quot; FontSize=\u0026quot;60\u0026quot;\/\u0026gt;\n    \u0026lt;\/Grid\u0026gt;\n    \u0026lt;Grid x:Name=\u0026quot;ResultCanvas\u0026quot; Grid.Row=\u0026quot;0\u0026quot; Grid.Column=\u0026quot;1\u0026quot;\u0026gt;\n        \u0026lt;Image x:Name=\u0026quot;ResultImage\u0026quot; Source=\u0026quot;Assets\/bgates.jpg\u0026quot;\/\u0026gt;\n    \u0026lt;\/Grid\u0026gt;\n    \u0026lt;ItemsControl x:Name=\u0026quot;FacesLine\u0026quot; Grid.Row=\u0026quot;1\u0026quot; Grid.ColumnSpan=\u0026quot;2\u0026quot; \n              ItemsSource=\u0026quot;{x:Bind Faces,Mode=OneWay}\u0026quot;\/\u0026gt;\n\u0026lt;\/Grid\u0026gt;\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\n\u003Cp\u003EНаиболее интересны для нас следующие элементы управления:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003E\u003Ccode\u003EViewFinder\u003C\/code\u003E показывает живое потоковое видео с камеры.\u003C\/li\u003E\r\n\u003Cli\u003E\u003Ccode\u003EFaceRect\u003C\/code\u003E и \u003Ccode\u003ECounter\u003C\/code\u003E находятся поверх \u003Ccode\u003EViewFinder\u003C\/code\u003E, чтобы показывать прямоугольник поверх обнаруженного лица и счетчик обратного отсчета 3-2-1, после чего производится фотографирование.\u003C\/li\u003E\r\n\u003Cli\u003E\u003Ccode\u003EResultImage\u003C\/code\u003E — это основная область экрана, показывающая полученный из облака смешанный когнитивный портрет.\u003C\/li\u003E\r\n\u003Cli\u003E\u003Ccode\u003EFacesLine\u003C\/code\u003E показывает несколько последних фотографий посетителей, сделанных экспонатом. Этот элемент управления декларативно привязан к коллекции \u003Ccode\u003EFaces\u003C\/code\u003E, которая является \u003Ccode\u003EObservable\u003C\/code\u003E. Таким образом, чтобы добавить в интерфейс новое лицо, достаточно просто добавить изображение в коллекцию \u003Ccode\u003EFaces\u003C\/code\u003E.\u003C\/li\u003E\r\n\u003Cli\u003EОстальной код XAML используется для правильного позиционирования элементов на экране.\u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\u003E\r\n\u003Cp\u003EПример реализации обнаружения лиц в UWP можно найти \u003Ca href=\u0022https:\/\/docs.microsoft.com\/en-us\/samples\/microsoft\/windows-universal-samples\/camerafacedetection\/?WT.mc_id=aiapril-blog-dmitryso\u0022\u003Eв этом примере\u003C\/a\u003E, или \u003Ca href=\u0022https:\/\/docs.microsoft.com\/windows\/uwp\/audio-video-camera\/detect-and-track-faces-in-an-image\/?WT.mc_id=aiapril-blog-dmitryso\u0022\u003Eв документации\u003C\/a\u003E. Он слегка сложноват, я позволил себе его немного упростить (и в статье для простоты также его немного сокращу).\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EДля начала, запустим камеру, и добьемся того, что изображение в реальном времени отображается в окне \u003Ccode\u003EViewFinder\u003C\/code\u003E:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022plaintext\u0022\u003EMC = new MediaCapture();\nvar cameras = await DeviceInformation.FindAllAsync(\n                              DeviceClass.VideoCapture);\nvar camera = cameras.First();\nvar settings = new MediaCaptureInitializationSettings() \n                          { VideoDeviceId = camera.Id };\nawait MC.InitializeAsync(settings);\nViewFinder.Source = MC;\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\n\u003Cp\u003EТеперь займёмся трекингом лиц. Для этого создадим объект \u003Ccode\u003EFaceDetectionEffect\u003C\/code\u003E, который будет вызывать метод \u003Ccode\u003EFaceDetectedEvent\u003C\/code\u003E при обнаружении лица:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022plaintext\u0022\u003Evar def = new FaceDetectionEffectDefinition();\ndef.SynchronousDetectionEnabled = false;\ndef.DetectionMode = FaceDetectionMode.HighPerformance;\nFaceDetector = (FaceDetectionEffect)\n     (await MC.AddVideoEffectAsync(def, MediaStreamType.VideoPreview));\nFaceDetector.FaceDetected += FaceDetectedEvent;\nFaceDetector.DesiredDetectionInterval = TimeSpan.FromMilliseconds(100);\nFaceDetector.Enabled = true;\nawait MC.StartPreviewAsync();\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\n\u003Cp\u003EКогда в кадре обнаруживается лицо, вызывается \u003Ccode\u003EFaceDetectedEvent\u003C\/code\u003E, которая запускает таймер обратного отсчета, срабатывающий раз в секунду. По таймеру обновляется содержимое текстового поля \u003Ccode\u003ECounter\u003C\/code\u003E, показывающее обратный отсчет 3, 2 и 1. Когда счетчик достигает 0, изображение с камеры сохраняется в \u003Ccode\u003EMemoryStream\u003C\/code\u003E, и затем вызывается функция \u003Ccode\u003ECallCognitiveFunction\u003C\/code\u003E, которую мы реализуем позже: \u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022plaintext\u0022\u003Evar ms = new MemoryStream();\nawait MC.CapturePhotoToStreamAsync(\n      ImageEncodingProperties.CreateJpeg(), ms.AsRandomAccessStream());\nvar cb = await GetCroppedBitmapAsync(ms,DFace.FaceBox);\nFaces.Add(cb);\nvar url = await CallCognitiveFunction(ms);\nResultImage.Source = new BitmapImage(new Uri(url));\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\n\u003Cp\u003EМы ожидаем, что веб-сервис REST получит на вход изображение в виде потока методом POST, сделает всю основную магию по созданию портрета, сохранит его где-нибудь в облаке в открытом хранилище, и вернёт общедоступный URL изображения. Чтобы отобразить изображение в нашем интерфейсе, мы просто присваиваем этот URL свойству \u003Ccode\u003ESource\u003C\/code\u003E элемента управления \u003Ccode\u003EResultImage\u003C\/code\u003E, что приводит к отображению результата на экране (при этом фреймворк UWP сам скачивает изображение по сети).\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EТакже для красоты мы хотим показывать внизу экрана несколько предыдущих фотографий. Для этого вызывается функция \u003Ccode\u003EGetCroppedBitmapAsync\u003C\/code\u003E, вырезающая фрагмент изображения, и он добавляется в коллекцию \u003Ccode\u003EFaces\u003C\/code\u003E, в результате чего лицо отображается на экране (здесь нам помогает магия DataBinding).\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EФункция \u003Ccode\u003ECallCognitiveFunction\u003C\/code\u003E вызывает наш облачный сервис, который нам ещё предстоит реализовать, по протоколу REST с использованием объекта \u003Ccode\u003EHttpClient\u003C\/code\u003E:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022plaintext\u0022\u003Eprivate async Task\u0026lt;string\u0026gt; CallCognitiveFunction(MemoryStream ms)\n{\n    ms.Position = 0;\n    var resp = await http.PostAsync(function_url,new StreamContent(ms));\n    return await resp.Content.ReadAsStringAsync();\n}\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\n\u003Ch2\u003EAzure Function для создания когнитивного портрета\u003C\/h2\u003E\u003Cbr\u003E\r\n\u003Cp\u003EДля выполнения основной работы мы используем технологию Azure Functions и реализуем код на Python. Использование Azure Functions имеет несколько преимуществ:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003EНет необходимости думать о том, где и как ваш код будет выполняться. Поэтому Azure Functions называют \u003Cstrong\u003E\u003Ca href=\u0022https:\/\/ru.wikipedia.org\/wiki\/%D0%91%D0%B5%D1%81%D1%81%D0%B5%D1%80%D0%B2%D0%B5%D1%80%D0%BD%D1%8B%D0%B5_%D0%B2%D1%8B%D1%87%D0%B8%D1%81%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F\u0022\u003Eбессерверными вычислениями\u003C\/a\u003E\u003C\/strong\u003E (\u003Cem\u003Eserverless\u003C\/em\u003E).\u003C\/li\u003E\r\n\u003Cli\u003EЕсли мы используем план \u003Ca href=\u0022https:\/\/docs.microsoft.com\/azure\/azure-functions\/functions-scale#consumption-plan\/?WT.mc_id=aiapril-blog-dmitryso\u0022\u003E\u003Cem\u003Efunctions consumption plan\u003C\/em\u003E\u003C\/a\u003E, то мы платим только за количество вызовов функции, а не за время работы сервера. Единственным существенным минусом является ограничение на время работы функции (15 секунд), при превышении которого функция принудительно завершается. В нашем случае это не проблема, алгоритм должен уложиться в это время.\u003C\/li\u003E\r\n\u003Cli\u003EФункция автоматически масштабируется в зависимости от нагрузки, не нужно думать про автомасштабирование.\u003C\/li\u003E\r\n\u003Cli\u003EAzure Function может запускаться в ответ на различные события в облаке. В нашем примере мы будем явно запускать функцию по REST-запросу, но возможно также привязать запуск функции к появлению нового объекта в хранилище, нового сообщения в очереди, или сделать автозапуск по таймеру.\u003C\/li\u003E\r\n\u003Cli\u003EAzure Function может быть легко интегрирована с хранилищем декларативным способом, при этом объект будет автоматически извлечен из хранилища и передан в функцию в качестве параметра. Мы можем концентрироваться на логике, а не на том, как работать с облачным хранилищем. \u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\u003E\r\n\u003Cp\u003EВ качестве примера рассмотрим задачу, когда нам нужно наносить текущую дату поверх фотографий, присылаемых пользователем. Мы можем создать Azure Function, которая будет срабатывать автоматически при помещении фотографии в блоб-хранилище, и которая будет размещать результат в другом хранилище. Нам останется лишь написать код для импринтинга даты, входное изображение мы получим автоматически в качестве параметра, а выходное — вернем как результат функции. Минимум \u003Cem\u003Eboilerplate code\u003C\/em\u003E!\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cblockquote\u003EAzure Functions настолько полезны, что я рассматриваю их как основной выбор во всех случаях, когда мне нужно запускать какой-то код для обработки данных в облаке, включая чат-ботов, обработку IoT-сообщений и т.д.\u003C\/blockquote\u003E\u003Cp\u003EВ нашем случае алгоритм рисования портрета реализован на Python с использованием OpenCV — я описывал реализации \u003Ca href=\u0022\/scienceart\/peopleblending\/\u0022\u003Eв своей более ранней заметке\u003C\/a\u003E. Раньше считалось, что Azure Functions очень неэффективны при работе с Python, но эта информация устарела — вторая версия (V2) работает как часы. \u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EПроще всего начать разрабатывать функцию локально. Этот процесс \u003Ca href=\u0022https:\/\/docs.microsoft.com\/azure\/azure-functions\/functions-create-first-azure-function-azure-cli?pivots=programming-language-python\u0026amp;amp;tabs=bash%2Cbrowser\u0026amp;amp;WT.mc_id=aiapril-blog-dmitryso\u0022\u003Eхорошо описан в документации\u003C\/a\u003E, но я тоже коротко на нём остановлюсь. Если вы хотите сделать больше операций из VS Code, а не из командной строки — смотрите \u003Ca href=\u0022https:\/\/docs.microsoft.com\/azure\/developer\/python\/tutorial-vs-code-serverless-python-01\/?WT.mc_id=aiapril-blog-dmitryso\u0022\u003Eэто пошаговое руководство\u003C\/a\u003E.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EДля начала создадим новую функцию с помощью CLI:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022bash\u0022\u003Efunc init coportrait –python\ncd coportrait\nfunc new --name pdraw --template \u0026quot;HTTP trigger\u0026quot;\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\n\u003Cp\u003EКонечно, предварительно нам потребуется установить \u003Ca href=\u0022https:\/\/docs.microsoft.com\/azure\/azure-functions\/functions-run-local?tabs=windows%2Ccsharp%2Cbash\u0026amp;amp;WT.mc_id=aiapril-blog-dmitryso\u0022\u003EAzure Functions Core Tools\u003C\/a\u003E.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EФункция описывается двумя основными файлами: \u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003EОсновной код функции на Python (в нашем случае, он будет в файле \u003Ccode\u003E__init__.py\u003C\/code\u003E).\u003C\/li\u003E\r\n\u003Cli\u003EФайл описания \u003Ccode\u003Efunction.json\u003C\/code\u003E, который описывает все \u003Cstrong\u003Eинтеграции\u003C\/strong\u003E, т.е. связь функции с хранилищами, её входные и выходные параметры и критерии срабатывания.\u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\u003E\r\n\u003Cp\u003EВ нашем случае функция срабатывает по HTTP-запросу, и \u003Ccode\u003Efunction.json\u003C\/code\u003E выглядит так:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022json\u0022\u003E{\n  \u0026quot;scriptFile\u0026quot;: \u0026quot;__init__.py\u0026quot;,\n  \u0026quot;bindings\u0026quot;: [\n    {\n      \u0026quot;authLevel\u0026quot;: \u0026quot;function\u0026quot;,\n      \u0026quot;type\u0026quot;: \u0026quot;httpTrigger\u0026quot;,\n      \u0026quot;direction\u0026quot;: \u0026quot;in\u0026quot;,\n      \u0026quot;name\u0026quot;: \u0026quot;req\u0026quot;,\n      \u0026quot;methods\u0026quot;: [ \u0026quot;post\u0026quot; ]},\n    {\n      \u0026quot;type\u0026quot;: \u0026quot;http\u0026quot;,\n      \u0026quot;direction\u0026quot;: \u0026quot;out\u0026quot;,\n      \u0026quot;name\u0026quot;: \u0026quot;$return\u0026quot; \n}]}\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\n\u003Cp\u003EЗдесь указывается имя скрипта, имя входного параметра \u003Ccode\u003Ereq\u003C\/code\u003E связывается с входящим HTTP-триггером, а выход функции — это HTTP response, возвращаемый из функции как результат (\u003Ccode\u003E$return\u003C\/code\u003E). Мы также указываем, что функция поддерживает лишь \u003Cstrong\u003EPOST\u003C\/strong\u003E-запросы. Изначально в шаблоне был также указан метод \u003Ccode\u003E\u0026quot;get\u0026quot;\u003C\/code\u003E, который я удалил.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EЕсли мы посмотрим в \u003Ccode\u003E__init__.py\u003C\/code\u003E, то там будет изначально содержаться примерно такой шаблон кода (который я для наглядности ещё немного упростил):\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022python\u0022\u003Edef main(req:func.HttpRequest) -\u0026gt; func.HttpResponse:\n    logging.info(\u0027Execution begins…\u0027)\n    return func.HttpResponse(f\u0026quot;Hello {name}!\u0026quot;)\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\n\u003Cp\u003EЗдесь, \u003Ccode\u003Ereq\u003C\/code\u003E — это наш запрос. Чтобы получить изображение, закодированное как двоичный поток в формате JPEG, мы сначала получаем данные через \u003Ccode\u003Eget_body\u003C\/code\u003E, а затем преобразуем их в \u003Ccode\u003Enumpy\u003C\/code\u003E-массив с помощью OpenCV:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022python\u0022\u003Ebody = req.get_body()\nnparr = np.fromstring(body, np.uint8)\nimg = cv2.imdecode(nparr, cv2.IMREAD_COLOR)\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\n\u003Cp\u003EДля работы с хранилищем мы будем использовать объект \u003Ccode\u003Eazure.storage.blob.BlockBlobService\u003C\/code\u003E. Альтернативой было бы использовать интеграции, но в моём примере мне показалось, что проще включить код для работы с хранилищем внутрь функции, поскольку нам нужно работать сразу с несколькими контейнерами в рамках одного хранилища, и прописывать доступ ко всем этим контейнерам с помощью интеграции было бы дольше. Про работу с хранилищами в Azure из Python можно подробнее \u003Ca href=\u0022https:\/\/docs.microsoft.com\/azure\/storage\/blobs\/storage-quickstart-blobs-python?WT.mc_id=aiapril-blog-dmitryso\u0022\u003Eпрочитать в документации\u003C\/a\u003E.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EДля начала сохраним входное изображение в контейнер \u003Ccode\u003Ecin\u003C\/code\u003E:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022python\u0022\u003Eblob = BlockBlobService(account_name=..., account_key=...) \nsec_p = int((end_date-datetime.datetime.now()).total_seconds())\nname =  f\u0026quot;{sec_p:09d}-{time.strftime(\u0027%Y%m%d-%H%M%S\u0027)}\u0026quot;\nblob.create_blob_from_bytes(\u0026quot;cin\u0026quot;,name,body)\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\n\u003Cp\u003EЗдесь мы делаем один очень важный трюк с именованием файла. Поскольку далее нам потребуется обращаться к 10 последним фотографиям, нам хотелось бы иметь возможность это делать, не считывая все файлы в хранилище. Поскольку имена объектов в хранилище возвращаются \u003Cem\u003Eв алфавитном порядке\u003C\/em\u003E, нам необходимо придумать такое именование файлов, чтобы они были отсортированы в порядке \u003Cstrong\u003Eубывания дат\u003C\/strong\u003E. В этом примере я просто вычисляю количество секунд от текущего момента времени до 1 января 2021 года, и добавляю соответствующее число (с лидирующими нулями) в начало имени файла, которое формируется стандартным образом из текущей даты и времени в формате \u003Cem\u003EYYYYMMDD-HHMMSS\u003C\/em\u003E. При этом наш код будет страдать от \u003Cstrong\u003Eпроблемы 2021 года\u003C\/strong\u003E...\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EДалее будем вызывать \u003Ca href=\u0022https:\/\/docs.microsoft.com\/azure\/cognitive-services\/face\/overview\/?WT.mc_id=aiapril-blog-dmitryso\u0022\u003EFace API\u003C\/a\u003E для извлечения опорных точек лица, и применять к изображению аффинное преобразование для совмещения глаз с предопределёнными позициями:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022python\u0022\u003Ecogface = cf.FaceClient(cognitive_endpoint,\n                        CognitiveServicesCredentials(cognitive_key))\nres = cogface.face.detect_with_stream(io.BytesIO(body),\n                        return_face_landmarks=True)\nif res is not None and len(res)\u0026gt;0:\n    tr = affine_transform(img,res[0].face_landmarks.as_dict())\n    body = cv2.imencode(\u0027.jpg\u0027,tr)[1]\n    blob.create_blob_from_bytes(\u0026quot;cmapped\u0026quot;,name,body.tobytes())\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\n\u003Cp\u003EКод функции \u003Ccode\u003Eaffine_transform\u003C\/code\u003E можно взять \u003Ca href=\u0022\/scienceart\/peopleblending\/\u0022\u003Eиз моего предыдущего поста\u003C\/a\u003E. После того, как изображение повёрнуто, оно сохраняется как JPEG-картинка в контейнер \u003Ccode\u003Ecmapped\u003C\/code\u003E.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EНаконец, нам надо подготовить очередной когнитивный портрет, а для этого взять 10 последних выровненных изображений из \u003Ccode\u003Ecmapped\u003C\/code\u003E и наложить их друг на друга. Для этого мы используем функцию \u003Ccode\u003Elist_blobs\u003C\/code\u003E для получения генератора всех имен файлов в блобе, берем из него 10 первых элементов с помощью \u003Ccode\u003Eislice\u003C\/code\u003E, и затем применяем к ним \u003Ccode\u003Eimdecode\u003C\/code\u003E для получения \u003Ccode\u003Enumpy\u003C\/code\u003E-массивов изображений: \u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022python\u0022\u003Eimgs = [ imdecode(blob.get_blob_to_bytes(\u0026quot;cmapped\u0026quot;,x.name).content) \n         for x in itertools.islice(blob.list_blobs(\u0026quot;cmapped\u0026quot;),10) ]\nimgs = np.array(imgs).astype(np.float)\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\n\u003Cp\u003EДля наложения всех фотографий, нам необходимо провести усреднение массива по первой оси. Единственная важная тонкость здесь состоит в том, что нам надо привести изображения к \u003Ccode\u003Efloat\u003C\/code\u003E, а затем — обратно к \u003Ccode\u003Enp.uint8\u003C\/code\u003E: \u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022python\u0022\u003Eres = (np.average(imgs,axis=0)).astype(np.uint8)\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\n\u003Cp\u003EВ завершение, мы сохраняем результат в контейнере \u003Ccode\u003Eout\u003C\/code\u003E, сначала превращая изображение в байтовый поток с помощью \u003Ccode\u003Ecv2.imencode\u003C\/code\u003E, а затем вызывая \u003Ccode\u003Ecreate_blob_from_bytes\u003C\/code\u003E:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022python\u0022\u003Eb = cv2.imencode(\u0027.jpg\u0027,res)[1]\nr = blob.create_blob_from_bytes(\u0026quot;out\u0026quot;,f\u0026quot;{name}.jpg\u0026quot;,b.tobytes())\nresult_url = f\u0026quot;https:\/\/{act}.blob.core.windows.net\/out\/{name}.jpg\u0026quot;\nreturn func.HttpResponse(result_url)\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\n\u003Cp\u003EВажный момент — мы должны заранее создать контейнер \u003Ccode\u003Eout\u003C\/code\u003E, и пометить его как открытый блоб, чтобы доступ к нему был возможен снаружи из интернет, без указания дополнительных параметров.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EПосле написания кода функции в \u003Ccode\u003E__init__.py\u003C\/code\u003E, нам также важно правильно указать все зависимости в \u003Ccode\u003Erequirements.txt\u003C\/code\u003E:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022plaintext\u0022\u003Eazure-functions\nopencv-python\nazure-cognitiveservices-vision-face\nazure-storage-blob==1.5.0\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\n\u003Cp\u003EСделав это, мы можем запустить функцию локально:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022bash\u0022\u003Efunc start\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\n\u003Cp\u003EПри этом запустится локальный веб-сервер, и на экране будет напечатана локальная URL функции, которую мы можем для проверки попробовать вызвать с помощью Postman. Мы должны использовать метод \u003Cstrong\u003EPOST\u003C\/strong\u003E, и передать какое-нибудь изображение в теле запроса.\u003Cbr\u003E\r\nМы также можем указать эту же URL в переменной \u003Ccode\u003Efunction_url\u003C\/code\u003E в нашем UWP-приложении, после чего весь экспонат должен успешно запуститься и заработать на локальном компьютере.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EДля публикации кода Azure Function в облако, нам сначала необходимо создать Python Azure Function через \u003Ca href=\u0022http:\/\/portal.azure.com\/?WT.mc_id=aiapril-blog-dmitryso\u0022\u003EAzure Portal\u003C\/a\u003E, или из командной строки Azure CLI:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022bash\u0022\u003Eaz functionapp create --resource-group PeopleBlenderBot\n    --os-type Linux   --consumption-plan-location westeurope\n    --runtime python  --runtime-version 3.7\n    --functions-version 2\n    --name coportrait --storage-account coportraitstore\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\n\u003Cp\u003EДелать это через Azure Portal поначалу безусловно проще, поскольку ряд вещей (вроде создания хранилища данных) будет сделан автоматически. Azure CLI полезен в том случае, если вы хотите автоматизировать процесс.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EПосле того, как функция создана, её развёртывание делается совсем просто:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022bash\u0022\u003Efunc azure functionapp publish coportrait\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\n\u003Cp\u003EПосле публикации нам нужно пойти на \u003Ca href=\u0022http:\/\/portal.azure.com\/?WT.mc_id=aiapril-blog-dmitryso\u0022\u003EAzure Portal\u003C\/a\u003E, и посмотреть там соответствующий функции URL:\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/ej\/vu\/hg\/ejvuhgs0vb595jxzucpxt7gkrkw.png\u0022 alt=\u0022Azure Functions Portal\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EЭтот URL будет выглядеть примерно так: \u003Ccode\u003Ehttps:\/\/coportrait.azurewebsites.net\/api\/pdraw?code=geE..e3P==\u003C\/code\u003E, т.е. он будет содержать в себе код для вызова функции. Присвойте этот адрес (вместе с ключом) переменной \u003Ccode\u003Efunction_url\u003C\/code\u003E в нашем UWP-приложении, запустите его, и наслаждайтесь!\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Ch2\u003EСоздаём чат-ботный экспонат\u003C\/h2\u003E\u003Cbr\u003E\r\n\u003Cblockquote\u003EВо время социальной изоляции, очень важно дать людям возможность наслаждаться искусством из дома. Лучший способ сделать экспонат доступным отовсюду — использовать \u003Ca href=\u0022https:\/\/docs.microsoft.com\/ru-ru\/azure\/bot-service\/?view=azure-bot-service-4.0\u0026amp;amp;WT.mc_id=aiapril-blog-dmitryso\u0022\u003EMicrosoft Bot Framework\u003C\/a\u003E для создания чат-бота.\u003C\/blockquote\u003E\u003Cp\u003EВ описанной архитектуре, вся основная работа делается в облаке, поэтому очень легко создавать дополнительные интерфейсы к тому же экспонату. Например, интерфейс в виде чат-бота.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EПроцесс создания чат-бота на C# \u003Ca href=\u0022https:\/\/docs.microsoft.com\/azure\/bot-service\/dotnet\/bot-builder-dotnet-sdk-quickstart?view=azure-bot-service-4.0\u0026amp;amp;WT.mc_id=aiapril-blog-dmitryso\u0022\u003Eхорошо описан в документации\u003C\/a\u003E, или \u003Ca href=\u0022https:\/\/docs.microsoft.com\/ru-ru\/azure\/bot-service\/bot-builder-tutorial-basic-deploy?view=azure-bot-service-4.0\u0026amp;amp;tabs=csharp\u0026amp;amp;WT.mc_id=aiapril-blog-dmitryso\u0022\u003Eвот в этом пошаговом руководстве\u003C\/a\u003E. Вы также можете \u003Ca href=\u0022https:\/\/docs.microsoft.com\/azure\/bot-service\/python\/bot-builder-python-quickstart?view=azure-bot-service-4.0\u0026amp;amp;WT.mc_id=aiapril-blog-dmitryso\u0022\u003Eсоздать чат-бота на Python\u003C\/a\u003E, но использование .NET сильно лучше документировано, поэтому мы пойдём именно таким путём.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EДля начала, нам надо установить \u003Ca href=\u0022https:\/\/marketplace.visualstudio.com\/items?itemName=BotBuilder.botbuilderv4\u0022\u003EVS Bot Template\u003C\/a\u003E для Visual Studio, и затем создать новый проект из шаблона \u003Cstrong\u003EEcho\u003C\/strong\u003E:\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/3j\/04\/if\/3j04if62k4piyikuqe4-hx2o9d0.png\u0022 alt=\u0022Creating Bot Project\u0022\u003E\u003Cbr\u003E\r\nЯ назову этого бота \u003Ccode\u003EPeopleBlenderBot\u003C\/code\u003E.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EОсновная логика бота содержится в файле \u003Ccode\u003EBots\\EchoBot.cs\u003C\/code\u003E, внутри функции \u003Ccode\u003EOnMessageActivityAsync\u003C\/code\u003E. Эта функция получает на вход т.н. \u003Ccode\u003EturnContext\u003C\/code\u003E. Главная составляющая этого контекста — поле \u003Ccode\u003EActivity\u003C\/code\u003E, которое в свою очередь содержит текст сообщения в поле \u003Ccode\u003EText\u003C\/code\u003E, а также присоединенные файлы в объекте \u003Ccode\u003EAttachments\u003C\/code\u003E. Для начала нам надо проверить, содержится ли в сообщении пользователя картинка:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022plaintext\u0022\u003Eif (turnContext.Activity.Attachments?.Count\u0026gt;0)\n{\n   \/\/ do the magic\n}\nelse\n{\n    await turnContext.SendActivityAsync(\u0026quot;Please send picture\u0026quot;);\n}\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\n\u003Cp\u003EЕсли пользователь добавил картинку, то ссылка на неё будет доступна в поле \u003Ccode\u003EContentUrl\u003C\/code\u003E объекта \u003Ccode\u003EAttachment\u003C\/code\u003E. Внутри \u003Ccode\u003Eif\u003C\/code\u003E-блока, поместим код для считывания входного изображения в http-поток:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022plaintext\u0022\u003E  var http = new HttpClient();\n  var resp = await http.GetAsync(Attachments[0].ContentUrl);\n  var str = await resp.Content.ReadAsStreamAsync();\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\n\u003Cp\u003EДалее нам нужно передать этот поток на вход нашей Azure Function, в теле POST-запроса. Этот код выглядит очень похожим образом на код из нашего UWP-приложения:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022plaintext\u0022\u003E  resp = await http.PostAsync(function_url, new StreamContent(str));\n  var url = await resp.Content.ReadAsStringAsync();\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\n\u003Cp\u003EВ результате вызова функции мы получаем URL результирующего изображения, которое необходимо вернуть пользователю. Для этого мы используем \u003Cstrong\u003Eкарточки\u003C\/strong\u003E, а именно Hero-card, которая передаётся назад в виде attachment-а:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022plaintext\u0022\u003E  var msg = MessageFactory.Attachment(\n      (new HeroCard()\n      { Images = new CardImage[] { new CardImage(url) } }\n      ).ToAttachment());\n  await turnContext.SendActivityAsync(msg);\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\n\u003Cp\u003EНаписав код бота, мы можем запустить и отладить его локально с помощью \u003Ca href=\u0022https:\/\/github.com\/microsoft\/BotFramework-Emulator\u0022\u003EBot Framework Emulator\u003C\/a\u003E:\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/yz\/nb\/k_\/yznbk_zrmtm0ckfvfjx-cuqlr5c.png\u0022 alt=\u0022Bot Framework Emulator\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EУбедившись, что бот работает, мы можем опубликовать код в облако, как это \u003Ca href=\u0022https:\/\/docs.microsoft.com\/en-us\/azure\/bot-service\/bot-builder-deploy-az-cli?view=azure-bot-service-4.0\u0026amp;amp;tabs=csharp\u0026amp;amp;WT.mc_id=aiapril-blog-dmitryso\u0022\u003Eописано в документации\u003C\/a\u003E через Azure CLI и ARM-шаблон. Однако, тоже самое можно сделать через Azure Portal:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Col\u003E\r\n\u003Cli\u003EСоздайте новый объект \u003Cstrong\u003EWeb App Bot\u003C\/strong\u003E на портале, выбрав \u003Cstrong\u003EEcho Bot\u003C\/strong\u003E в качестве начального шаблона. Это приведёт к созданию двух объектов в вашей подписке:\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003E\u003Cstrong\u003EBot Connector App\u003C\/strong\u003E, который описывает взаимодействие вашего бота в различными каналами связи, такими, как Telegram\u003C\/li\u003E\r\n\u003Cli\u003E\u003Cstrong\u003EBot Web App\u003C\/strong\u003E, веб-приложение, в рамках которого работает написанный вами код бота\u003C\/li\u003E\r\n\u003C\/ul\u003E\u003C\/li\u003E\r\n\u003Cli\u003EСкачайте код вашего бота из облака и скопируйте файл \u003Ccode\u003Eappsettings.json\u003C\/code\u003E из него в наш проект \u003Ccode\u003EPeopleBlenderBot\u003C\/code\u003E. Этот файл содержит \u003Cstrong\u003EApp Id\u003C\/strong\u003E и \u003Cstrong\u003EApp Password\u003C\/strong\u003E, которые необходимы для безопасного подключения к bot connector.\u003C\/li\u003E\r\n\u003Cli\u003EИз Visual Studio нажмите правой кнопкой на проект \u003Ccode\u003EPeopleBlenderBot\u003C\/code\u003E и выберите \u003Cstrong\u003EPublish\u003C\/strong\u003E. Выберите пункт \u003Cem\u003EExisting Web App\u003C\/em\u003E, и приложение, созданное на шаге 1. Это позволит вам развернуть код вашего бота в облако.\u003C\/li\u003E\r\n\u003C\/ol\u003E\u003Cbr\u003E\r\n\u003Cp\u003EПосле этого, переходите на страничку объекта \u003Cstrong\u003EBot Connector App\u003C\/strong\u003E на портале Azure Portal, и убедитесь, что бот работает в режиме Web Chat:\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/l7\/k3\/ym\/l7k3ymoiqmiaj3ib-ucftknd7i8.png\u0022 alt=\u0022Web Chat\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EТеперь развернуть бота в телеграмм — это пара кликов! Этот процесс \u003Ca href=\u0022https:\/\/docs.microsoft.com\/azure\/bot-service\/bot-service-channel-connect-telegram?view=azure-bot-service-4.0\u0026amp;amp;WT.mc_id=aiapril-blog-dmitryso\u0022\u003Eдетально описан в документации\u003C\/a\u003E, да и на самом портале при добавлении канала \u003Cstrong\u003ETelegram\u003C\/strong\u003E в разделе \u003Cstrong\u003EChannels\u003C\/strong\u003E предложат пошаговую инструкцию:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/82\/v9\/cv\/82v9cvwzuv3evsdlrppl0xu_8rs.gif\u0022 alt=\u0022Animated Bot\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Ch2\u003EЗаключение\u003C\/h2\u003E\u003Cbr\u003E\r\n\u003Cp\u003EЯ поделился своим опытом создания интерактивного экспоната, основная логика которого реализована в виде облачного сервиса. Такой подход оказывается очень плодотворным, мы ранее уже успешно использовали его для создания экспонатов в компании \u003Ca href=\u0022http:\/\/mechanium.ru\/\u0022\u003EMechanium\u003C\/a\u003E, и на Moscow Maker Faire 2019. Я призываю вас использовать такой подход, если вы делаете какие-то музейные экспонаты или выставки. Ну а если нет — призываю вас присмотреться к направлению Science Art, поскольку это прекрасная возможность для нас — технарей — приобщиться к художественному творчеству. В качестве отправной точки приглашаю вас в \u003Ca href=\u0022http:\/\/github.com\/CloudAdvocacy\/CognitivePortrait\u0022\u003Eрепозиторий техник когнитивного портрета\u003C\/a\u003E, в котором собраны разные техники, основанные на извлечении опорных точек лица! Попробуйте сделать что-то своё — я буду очень рад получить \u003Cstrong\u003Epull request\u003C\/strong\u003E от вас! В моей \u003Ca href=\u0022http:\/\/aka.ms\/creative_ai\u0022\u003Eдругой заметке\u003C\/a\u003E я обсуждаю искусственный интеллект и искусство, и показываю примеры того, как ИИ может быть ещё более креативным. Если вас интересует эта тема — давайте \u003Ca href=\u0022http:\/\/soshnikov.com\/contact\u0022\u003Eпоговорим\u003C\/a\u003E, и возможно сделаем что-нибудь совместно!\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cblockquote\u003EЧат-бот, описанный в этой статье, доступен в Telegram как \u003Ca href=\u0022http:\/\/ttttt.me\/peopleblenderbot\u0022\u003E@peopleblenderbot\u003C\/a\u003E, а также в моём \u003Ca href=\u0022\/museum\/peopleblenderbot\u0022\u003Eвиртуальном музее\u003C\/a\u003E. Попробуйте его сами! Помните, что вы не просто переписываетесь в ботом, а получаете опыт созерцания \u003Cstrong\u003Eудалённого виртуального экспоната\u003C\/strong\u003E, который делает людей ближе, несмотря на расстояния и на период самоизоляции. Посылая фотографии, имейте в виду, что \u003Cstrong\u003Eваши фотографии будут сохраняться в облаке и отправляться другим людям в усреднённом виде\u003C\/strong\u003E.\u003C\/blockquote\u003E\u003Cp\u003EСледите за новостями! Очень надеюсь, что в скором времени мы сможем насладиться этим экспонатом не только виртуально, но и на реальной выставке!\u003C\/p\u003E",
      "is_comments_hide": 0,
      "editor_version": 1,
      "hubs": [
        {
          "id": 5058,
          "rating": 296.2744,
          "is_profiled": false,
          "title": "Блог компании Microsoft",
          "alias": "microsoft",
          "about_small": "Microsoft — мировой лидер в области ПО и ИТ-услуг",
          "about": "Microsoft",
          "count_subscribers": 40075,
          "count_posts": 1727,
          "tags_string": "",
          "is_membership": false,
          "is_company": true,
          "icon": "\/\/habrastorage.org\/getpro\/habr\/company\/e98\/5cf\/6a0\/e985cf6a01b15006350561f26c70a41f.png",
          "path": "company\/microsoft\/"
        },
        {
          "id": 546,
          "rating": 83.0799,
          "is_profiled": true,
          "title": ".NET",
          "alias": "net",
          "about_small": "Хаб со знаниями про NET Framework",
          "about": "NET Framework — программная платформа, выпущенная компанией Microsoft в 2002 году. Основой платформы является общеязыковая среда исполнения Common Language Runtime (CLR), которая подходит для разных языков программирования. Функциональные возможности CLR доступны в любых языках программирования, использующих эту среду.",
          "count_subscribers": 104193,
          "count_posts": 3496,
          "tags_string": ".net, net, dot.net, win forms, wpf, wcf, wf, ado.net, entity framework, linq, plinq, msil, vb.net, asp.net, дот нет, дот.нет, il",
          "is_membership": false,
          "is_company": false,
          "flow": {
            "id": 1,
            "name": "Разработка",
            "alias": "develop",
            "url": "https:\/\/habr.com\/ru\/flows\/develop\/",
            "path": "\/flows\/develop\/"
          },
          "icon": "\/\/habrastorage.org\/getpro\/habr\/hub\/a5a\/5ae\/a29\/a5a5aea294f48a0d81c4b1968432e5e1.png",
          "path": "hub\/net\/"
        },
        {
          "id": 17851,
          "rating": 10.88,
          "is_profiled": false,
          "title": "Microsoft Azure",
          "alias": "azure",
          "about_small": "Облачная платформа Microsoft",
          "about": "Microsoft (Windows) Azure — название облачной платформы Microsoft. Предоставляет возможность разработки и выполнения приложений и хранения данных на серверах, расположенных в распределённых дата-центрах. Первоначально называлась Windows Azure. В 2014 году платформа была переименована в Microsoft Azure.",
          "count_subscribers": 66938,
          "count_posts": 685,
          "tags_string": "azure, windows azure",
          "is_membership": false,
          "is_company": false,
          "flow": {
            "id": 1,
            "name": "Разработка",
            "alias": "develop",
            "url": "https:\/\/habr.com\/ru\/flows\/develop\/",
            "path": "\/flows\/develop\/"
          },
          "icon": "\/\/habrastorage.org\/getpro\/habr\/hub\/3d6\/d7e\/43c\/3d6d7e43c2a17f483a9e7d153060239c.png",
          "path": "hub\/azure\/"
        },
        {
          "id": 21456,
          "rating": 23.7696,
          "is_profiled": true,
          "title": "Разработка под Windows",
          "alias": "win_dev",
          "about_small": "Разработка под операционные системы от Microsoft",
          "about": "Все о данной OS, её хитростях, особенностях и нововведениях!",
          "count_subscribers": 122693,
          "count_posts": 930,
          "tags_string": "Windows, Microsoft, XP, виндоус, виндовс, vista, win, win7, винда, win8, windows 8, metro-style",
          "is_membership": false,
          "is_company": false,
          "flow": {
            "id": 1,
            "name": "Разработка",
            "alias": "develop",
            "url": "https:\/\/habr.com\/ru\/flows\/develop\/",
            "path": "\/flows\/develop\/"
          },
          "icon": "\/\/habrastorage.org\/getpro\/habr\/hub\/0a8\/734\/20a\/0a873420a5a05dad2d109eaebb9ab127.png",
          "path": "hub\/win_dev\/"
        },
        {
          "id": 21922,
          "rating": 134.1833,
          "is_profiled": false,
          "title": "Искусственный интеллект",
          "alias": "artificial_intelligence",
          "about_small": "AI, ANN и иные формы искусственного разума",
          "about": "Искусственный интеллект: как он есть и каким он должен быть.\r\nПо определению, к задачам искусственного интеллекта относятся все задачи, не имеющие точного алгоритмического решения.\r\nВот и давайте поговорим про нейронные сети, генетические алгоритмы, задачи принятия решений, диагностики, распознавание образов, речи, изображений, видео.\r\nБольше умных сервисов!",
          "count_subscribers": 108428,
          "count_posts": 2151,
          "tags_string": "искусственный интеллект, artificial intelligence, ИИ, АИ, искусственный разум",
          "is_membership": false,
          "is_company": false,
          "flow": {
            "id": 7,
            "name": "Научпоп",
            "alias": "popsci",
            "url": "https:\/\/habr.com\/ru\/flows\/popsci\/",
            "path": "\/flows\/popsci\/"
          },
          "icon": "\/\/habrastorage.org\/getpro\/geektimes\/hub\/445\/6b9\/287\/4456b92870815e30ca14f4f66b6cb443.png",
          "path": "hub\/artificial_intelligence\/"
        }
      ],
      "flows": [
        {
          "id": 1,
          "name": "Разработка",
          "alias": "develop",
          "url": "https:\/\/habr.com\/ru\/flows\/develop\/",
          "path": "\/flows\/develop\/"
        },
        {
          "id": 7,
          "name": "Научпоп",
          "alias": "popsci",
          "url": "https:\/\/habr.com\/ru\/flows\/popsci\/",
          "path": "\/flows\/popsci\/"
        }
      ],
      "is_recovery_mode": false,
      "reading_count": 124,
      "metadata": {
        "meta_image": "https:\/\/habrastorage.org\/webt\/wr\/jf\/vg\/wrjfvgok9luywegnvccrsyj-ddc.jpeg"
      },
      "path": "\/company\/microsoft\/blog\/498224\/",
      "full_url": "https:\/\/habr.com\/ru\/company\/microsoft\/blog\/498224\/",
      "author": {
        "id": 4759,
        "login": "shwars",
        "time_registered": "2007-02-16T17:26:43+03:00",
        "score": 105,
        "fullname": "Дмитрий Сошников",
        "specializm": "Облачный адвокат",
        "sex": 1,
        "rating": 21.6,
        "vote": 0,
        "contacts": [],
        "rating_position": 270,
        "path": "\/users\/shwars\/",
        "geo": {
          "country": "Россия",
          "region": "Москва и Московская обл.",
          "city": null
        },
        "counters": {
          "posts": 114,
          "comments": 278,
          "followed": 67,
          "followers": 171,
          "favorites": 4
        },
        "badges": [
          {
            "id": 1,
            "title": "Захабренный",
            "alias": "habred",
            "description": "Пользователь с кармой \u003E0",
            "url": null,
            "is_removable": false,
            "is_disabled": false
          },
          {
            "id": 7,
            "title": "Старожил",
            "alias": "oldresident",
            "description": "Пользователь, зарегистрированный более 3-х лет назад, с кармой больше 50",
            "url": null,
            "is_removable": false,
            "is_disabled": false
          }
        ],
        "avatar": "https:\/\/habrastorage.org\/getpro\/habr\/avatars\/f7b\/155\/cea\/f7b155cea7f7369ff8c0bf797b2e8b9d.jpg",
        "is_readonly": false,
        "is_rc": false,
        "is_subscribed": false,
        "common_tags": [],
        "is_can_vote": true
      },
      "has_polls": false,
      "url": "https:\/\/habr.com\/ru\/company\/microsoft\/blog\/498224\/",
      "post_type": 1,
      "post_type_str": "simple",
      "vote": null,
      "is_can_vote": true,
      "voting": {
        "score": 3,
        "voteCount": {
          "total": 3,
          "positive": 3,
          "negative": 0
        },
        "vote": null,
        "reasonMap": null
      },
      "is_habred": true,
      "is_interesting": false,
      "is_favorite": false,
      "comments_new": null
    },
    {
      "id": 496626,
      "is_corporative": 1,
      "is_tutorial": false,
      "time_published": "2020-04-21T12:19:28+03:00",
      "time_interesting": "2020-04-21T13:07:00+03:00",
      "comments_count": 0,
      "score": 5,
      "votes_count": 5,
      "favorites_count": 2,
      "lang": "ru",
      "tags_string": "начало карьеры, карьера, wrike",
      "title": "Подмастерье и Драконы: как помочь интерну адаптироваться в команде",
      "preview_html": "Когда в команду приходит интерн, всегда появляется множество вопросов. У новых коллег, у лида команды, у «тех ребят» из соседнего кабинета и у самого интерна. Новенький находится в заведомо худших условиях, чем остальные, ведь он только что пришел. Это как будто попасть в партию в Dungeon and Dragons, в которой все игроки уже давно в теме, а ты даже не знаешь, сколько предметов можешь держать в руках.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cdiv style=\u0022text-align:center;\u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/8z\/u5\/rt\/8zu5rtmihqniasb91azjhd08w7s.png\u0022\u003E\u003C\/div\u003E",
      "text_cut": "Читать дальше \u0026rarr;",
      "text_html": "Когда в команду приходит интерн, всегда появляется множество вопросов. У новых коллег, у лида команды, у «тех ребят» из соседнего кабинета и у самого интерна. Новенький находится в заведомо худших условиях, чем остальные, ведь он только что пришел. Это как будто попасть в партию в Dungeon and Dragons, в которой все игроки уже давно в теме, а ты даже не знаешь, сколько предметов можешь держать в руках.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cdiv style=\u0022text-align:center;\u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/8z\/u5\/rt\/8zu5rtmihqniasb91azjhd08w7s.png\u0022\u003E\u003C\/div\u003E\u003Ca name=\u0022habracut\u0022\u003E\u003C\/a\u003E\u003Cbr\u003E\r\nПодземелье и драконы. Это все неслучайно. Небольшая ремарка: Dungeon and Dragons, или DnD, — одна из самых известных настольных ролевых игр, в которой игроки объединяются в партию, взаимодействуют между собой, выполняют квесты в рамках сценария, развивают своего персонажа. Недавно я сыграл в DnD первый раз. Опытный игрок объяснял нам правила чуть больше часа без остановки.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch3\u003EВопросы и книга правил\u003C\/h3\u003E\u003Cbr\u003E\r\nПохожая ситуация происходит с интерном. Он выходит в свой первый день на работу и задает вопросы. Если не вслух, то про себя: «Как вокруг все устроено, куда мне можно пойти, что мне надо делать, что я могу делать, как узнать, справляюсь ли я и, вообще, что происходит?». А исходные данные для первой партии, то есть первого дня, не самые звездные. Как, впрочем, у всех нас когда-то. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nРаса — человек. Никто не любит играть за людей. Каких-то плюшек расы они не имеют: средний рост, средний разум, средняя ловкость. Правда, несмотря на это, люди чаще других становятся причиной конца света. Ну или его спасения, там как повезет. Итак, раса — человек, класс — инженер. Он будет что-то строить в итоге. Или разбирать. Или фиксить. Тут тоже как повезет. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cdiv style=\u0022text-align:center;\u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/_r\/7n\/ec\/_r7necyxjod5kluwbn7t-kcyo9c.png\u0022\u003E\u003C\/div\u003E\u003Cbr\u003E\r\nИ вот, человек-инженер первого уровня. В играх обычно много различных характеристик у героев, но мы выделим основные, которые нам реально помогут. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nПускай это будут:\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003Eинтеллект (теоретические знания);\u003C\/li\u003E\r\n\u003Cli\u003Eмудрость (житейский опыт, какой бы он ни был);\u003C\/li\u003E\r\n\u003Cli\u003Eхаризма (софтскилы);\u003C\/li\u003E\r\n\u003Cli\u003Eсила (умение делать дела).\u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\u003E\r\nУ интерна показатели этих навыков находятся где-то в начале шкалы, за исключением, может быть, врожденной харизмы. С такими исходными данным мы приступаем к игре.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch3\u003EОтветы и мастер подземелья\u003C\/h3\u003E\u003Cbr\u003E\r\nВ DnD очень важная роль отведена мастеру подземелья. Это человек, который ведет повествование, реагирует на действия игроков и выстраивает сценарий таким образом, чтобы партия выполнила главный квест. Новичкам мастер подземелья объясняет правила, корректирует их поведение и всячески помогает в процессе игры.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nВ моей первой игре был эпизод, когда наша партия новичков добралась до заброшенного дома на опушке леса. Дом как дом, с приоткрытой дверью. Один из игроков заявил следующее действие: «Я подхожу к двери и вышибаю ее с ноги». Приоткрытую дверь. Обычно двери открываются наружу. Мастер сказал: «Повторяю, дверь приоткрыта». Но это не отменило намерение нашего героя, и он бросил кубик на удар. Выпала единица. Для тех, кто играл в DnD, думаю, все ясно. Для нас это выглядело как-то так: персонаж получил единицу урона, дверь с грохотом захлопнулась, и все, кто был в здании, в итоге узнали, что мы пришли. Вроде мы и правила знали, и слушали, но что-то пошло не так. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nЧтобы этого избежать и быть уверенным, что человек делает или будет делать то, что от него ожидают в команде, можно использовать несколько подходов: \u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003Eопекать (стоять чуть ли не над душой, говорить, что и как можно делать, что нельзя, исправлять ошибки);\u003C\/li\u003E\r\n\u003Cli\u003Eобучать (как в школе или университете: зачитывать материал, показывать на личном примере, проверять домашнее задание);\u003C\/li\u003E\r\n\u003Cli\u003Eнаставлять (наверное, самый сложный подход, в котором надо помочь скорректировать путь, но не руководить человеком, помочь самому найти решение задачи, но не скатываться в опекание).\u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\u003E\r\nПоследний путь, по которому шел я после университета:\u003Cbr\u003E\r\n\u003Cblockquote\u003E«Вот озеро — теперь плыви»\u003C\/blockquote\u003EНа первой работе после университета мне выдали комп, поставили задачу и сказали, что проверят через пару недель. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nКаждый из методов имеет право на жизнь, потому что именно он может подойти конкретной компании в конкретное время. Мы же в Wrike решили пойти путем наставничества.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch3\u003EПервый квест и сопартийцы\u003C\/h3\u003E\u003Cbr\u003E\r\nИ вот мы добрались до самого сценария.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nИнтерн сразу попадает в скрам-команду, с которой ему предстоит работать. Мы, команда менторов, составляем роадмап, в котором перечисляем как технические компетенции, которые интересны только фронтенд-разработчикам, так и общие, связанные с продуктом и процессами. Все это рассчитано на 3 месяца.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nЭто больше похоже на обучающий квест: интерн начинает делать что-то правильное и полезное, но просит помощи у коллег и изучает документацию. Обсуждения правил как такового не происходит — новичок узнает их во время выполнения задач. Способность не стесняться задавать вопросы, если не знаешь, куда двигаться, мы проверяем на собеседовании, поэтому с этим в работе уже все в порядке.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nПервую половину, то есть 6 недель, мы отвели на техническую часть. Знание языка, фреймворка, асинхронное программирование, системы контроля версий, общие знания по ООП. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nПервые две недели интерна не загружают продуктовыми задачами: ему дают время освоиться и самостоятельно пройтись по пунктам роадмапа.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nС каждым интерном индивидуально работает ментор (да, это больше похоже на опеку, но тогда нам казалось это эффективным). Ментор не является частью команды, в которой работает интерн (так человек получает и фидбек от тимлида, и наставничество от ментора). Он договаривается с интерном о встрече, на которой обсуждается прогресс по роадмапу, отвечает на вопросы, которые возникают у интерна, на примере может показать, что и как работает (или не работает). Ментор похож на персонального мастера подземелий. Когда остальная партия уже знает, куда идти и каким набором характеристик обладает каждый игрок, персональный мастер подземелий направляет одного неопытного участника, чтобы он развивался максимально эффективно.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nПосле двух недель у интерна уже появляются простые задачи, которые он может сделать сам, если есть детальное описание, либо в сотрудничестве с кем-то из команды. Интерн основную часть времени занимается самообразованием и налаживанием связей внутри команды. Да, вот та самая харизма, о которой мы говорили ранее. Каждый человек уникален, и кому-то налаживание новых контактов дается легко, кому-то — не очень. Иногда ментору приходится уточнять у тимлида команды, на каком этапе сейчас интерн, есть ли какие-то трудности в процессе интеграции человека в команду. Также происходит и в большой игре. Интерн 1 уровня вдруг оказывается в партии игроков, у которых уровень исчисляется десятками. Кому-то в команде может быть не очень комфортно, когда существует такая большая разница между уровнями. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nИ вот тут удачную роль сыграли наши внутренние курсы по Dart и Angular, которые отлично зашли как с точки зрения технического онбординга, так и интеграции в компанию. Интерны работают в разных скрам-командах, но они устроились в Wrike практически в одно время и вместе начали проходить курсы и общаться между собой. Так, они смогли сформировать собственную партию из людей-инженеров 1 уровня. Общий бэкграунд, общие цели (им выдавались домашние задания). Оказалось, что интерны организовали собственный чатик, встречались, пили кофе и обсуждали свои интерновские дела. Так естественным образом образовалось сообщество и укрепились горизонтальные связи между разными командами внутри компании. Этот прием сработает и для разноуровневой партии. Главное, чтобы была общая задача, которой интерн и более высокоуровневый игрок будут заниматься вместе. Постановки цели и ревью результатов недостаточно. Да, звучит сложно, но, если получится, интерн быстро и эффективно интегрируется в команду.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch3\u003EОтзывы игроков и поиск баланса\u003C\/h3\u003E\u003Cbr\u003E\r\nЧерез 6 недель надобность в регулярных встречах с ментором отпала, потому что закончились курсы и технический онбординг. Встречи стали реже, и мы чаще обсуждали проблемы, не связанные с работой. А еще через полтора месяца всем интернам закрыли испытательный срок с повышением уровня до джуниоров. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nЭта история — рассказ со стороны мастеров подземелий (даже, скорее, технических мастеров подземелий). Но есть еще и истории самих игроков. Я поспрашивал наших бывших интернов, что они думают о прошедших трех месяцах. Надеюсь, эти впечатления помогут вам предотвратить некоторые сложности, если вы работаете или планируете работать с интернами.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nИтак, выжимка от игроков:\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Col\u003E\r\n\u003Cli\u003EТерминология. А местами и местный продуктовый сленг. Ведь помимо технических терминов и названий различных инструментов, в каждой компании, наверное, есть слова, которые звучат как будто на другом языке. Так вот, интерн их не знает. Сто процентов. Если он спросит, что значит то или иное слово, — будет классно, но он может и не спросить. Поэтому лучше подготовить маленький словарик. Не забывайте, что его выбранная раса — человек, а они обычно владеют языками из разряда «Всеобщий язык».\u003C\/li\u003E\r\n\u003Cli\u003EДля интерна все это в новинку: скорее всего, он нигде не работал и не ждет, что для него составили план (если такой план существует). Он будет действовать по обстоятельствам, заглядывать в «книгу правил» и уточнять, что означают его действия. На что он рассчитывает точно, так это на возможность задавать любые вопросы, и что ему за это ничего не будет. Так что всем надо подготовиться к водопаду вопросов и, главное, дать понять интерну, что на ответы есть время. Если, конечно, это не вариант с озером.\u003C\/li\u003E\r\n\u003Cli\u003EУдачное решение о групповых занятиях. Если есть возможность проводить такие курсы, то они могут сыграть свою роль в организации партии с одним уровнем. В ней интерны смогут обсудить как технические проблемы, так и любые другие. В общем, прокачать харизму и интеллект.\u003C\/li\u003E\r\n\u003Cli\u003EМы все-таки немного промазали. То, что мы хотели сделать наставничеством, сильно отдавало опекой. Ребята нам потом сказали, что, по их ощущениям, менторы уделяли им очень много времени.\u003C\/li\u003E\r\n\u003C\/ol\u003E\u003Cbr\u003E\r\nПосле этих трех месяцев мы подвели итоги, и пришли к следующему заключению. Вот, что \u003Cstrong\u003Eстоит\u003C\/strong\u003E сделать, когда в команде оказываются интерны:\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003EСоставить план\/роадмап, по которому вы вместе с новичком будете идти.\u003C\/li\u003E\r\n\u003Cli\u003EЕсли есть возможность — взять группу интернов. Так может родиться коммьюнити.\u003C\/li\u003E\r\n\u003Cli\u003EОрганизовать групповые занятия, потому что это сплачивает интернов, подталкивает решать задачи вместе и обеспечивает создание того самого коммьюнити.\u003C\/li\u003E\r\n\u003Cli\u003EИскать и выполнять общие дела и задачи.\u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\u003E\r\nЧего \u003Cstrong\u003Eне стоит\u003C\/strong\u003E делать:\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003EДумать, что всем известен план. Его наличие еще не означает, что он всем понятен.\u003C\/li\u003E\r\n\u003Cli\u003EЧрезмерно опекать интернов.\u003C\/li\u003E\r\n\u003Cli\u003EДелать жесткие проверки знаний наподобие собеседований и зачетов — это перебор.\u003C\/li\u003E\r\n\u003Cli\u003EПоздно озвучивать сроки, к которым интерны должны закончить все задачи в плане и подвести его итог. Чем раньше эта дата озвучена, тем лучше.\u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\u003E\r\nЭто была первая редакция наших правил. Ведь даже DnD развивается и регулярно выпускает новые редакции, которых уже больше пяти. Так что, когда мы доберемся до нашей пятой, это будет уже другой инструмент, более сбалансированный и еще более эффективный. Если у вас есть свои приемы, которые могут сделать интеграцию нового человека в команду наиболее быстрой и эффективной, будем рады прочитать их в комментариях.",
      "is_comments_hide": 0,
      "editor_version": 1,
      "hubs": [
        {
          "id": 19667,
          "rating": 160.3328,
          "is_profiled": false,
          "title": "Блог компании Wrike",
          "alias": "wrike",
          "about_small": "Wrike делает совместную работу над проектами проще",
          "about": "Wrike",
          "count_subscribers": 604,
          "count_posts": 112,
          "tags_string": "",
          "is_membership": false,
          "is_company": true,
          "icon": "\/\/habrastorage.org\/getpro\/habr\/company\/33d\/bbd\/d09\/33dbbdd09170eaee7181e03be88d64ba.png",
          "path": "company\/wrike\/"
        },
        {
          "id": 19583,
          "rating": 133.9532,
          "is_profiled": true,
          "title": "Управление разработкой",
          "alias": "dev_management",
          "about_small": "Планирование, отслеживание и контроль",
          "about": "Управление разработкой программного обеспечения (англ. Software project management) — особый вид управления проектами, в рамках которого происходит планирование, отслеживание и контроль за проектами по разработке программного обеспечения. Ключевым моментом в управлении проектом по разработке программного обеспечения является правильный выбор метода разработки.",
          "count_subscribers": 25829,
          "count_posts": 1411,
          "tags_string": "управление, разработка, программирование",
          "is_membership": false,
          "is_company": false,
          "flow": {
            "id": 3,
            "name": "Менеджмент",
            "alias": "management",
            "url": "https:\/\/habr.com\/ru\/flows\/management\/",
            "path": "\/flows\/management\/"
          },
          "icon": "\/\/habrastorage.org\/getpro\/habr\/hub\/979\/b7b\/9be\/979b7b9bec5637525f70e76f05a498fb.png",
          "path": "hub\/dev_management\/"
        },
        {
          "id": 20736,
          "rating": 378.9462,
          "is_profiled": true,
          "title": "Управление персоналом",
          "alias": "hr_management",
          "about_small": "Как правильно нанимать, управлять и расставаться",
          "about": "Все об управлении персоналом, найме сотрудников, etc",
          "count_subscribers": 25989,
          "count_posts": 2111,
          "tags_string": "hr, персонал, управление персоналом",
          "is_membership": false,
          "is_company": false,
          "flow": {
            "id": 3,
            "name": "Менеджмент",
            "alias": "management",
            "url": "https:\/\/habr.com\/ru\/flows\/management\/",
            "path": "\/flows\/management\/"
          },
          "icon": "\/\/habrastorage.org\/getpro\/habr\/hub\/2c0\/c6b\/86a\/2c0c6b86a9011cf811ce4b6820865115.png",
          "path": "hub\/hr_management\/"
        },
        {
          "id": 20740,
          "rating": 336.421,
          "is_profiled": false,
          "title": "Карьера в IT-индустрии",
          "alias": "career",
          "about_small": "Работать, работать и работать (в IT)",
          "about": "Коллективный блог об HR: поиск, подбор, адаптация, тренинги, компенсации, льготы, обучение, и др.",
          "count_subscribers": 42651,
          "count_posts": 3071,
          "tags_string": "работа, HR, вакансия, вакансии, резюме",
          "is_membership": false,
          "is_company": false,
          "flow": {
            "id": 3,
            "name": "Менеджмент",
            "alias": "management",
            "url": "https:\/\/habr.com\/ru\/flows\/management\/",
            "path": "\/flows\/management\/"
          },
          "icon": "\/\/habrastorage.org\/getpro\/habr\/hub\/cab\/f82\/067\/cabf82067c7be08c90a5903f860c9abf.png",
          "path": "hub\/career\/"
        }
      ],
      "flows": [
        {
          "id": 3,
          "name": "Менеджмент",
          "alias": "management",
          "url": "https:\/\/habr.com\/ru\/flows\/management\/",
          "path": "\/flows\/management\/"
        }
      ],
      "is_recovery_mode": false,
      "reading_count": 203,
      "metadata": {
        "meta_image": "https:\/\/habrastorage.org\/webt\/sr\/vk\/b2\/srvkb2fr8inagomqgeedhxq7_28.png"
      },
      "path": "\/company\/wrike\/blog\/496626\/",
      "full_url": "https:\/\/habr.com\/ru\/company\/wrike\/blog\/496626\/",
      "author": {
        "id": 404054,
        "login": "Demerit",
        "time_registered": "2013-07-09T11:46:58+04:00",
        "score": 15,
        "fullname": "Igor Zubov",
        "specializm": "Front-End Developer",
        "sex": 1,
        "rating": 2.5,
        "vote": 0,
        "contacts": [],
        "rating_position": 950,
        "path": "\/users\/demerit\/",
        "geo": {
          "country": null,
          "region": null,
          "city": null
        },
        "counters": {
          "posts": 4,
          "comments": 16,
          "followed": 0,
          "followers": 6,
          "favorites": 19
        },
        "badges": [
          {
            "id": 1,
            "title": "Захабренный",
            "alias": "habred",
            "description": "Пользователь с кармой \u003E0",
            "url": null,
            "is_removable": false,
            "is_disabled": false
          }
        ],
        "avatar": "https:\/\/habrastorage.org\/getpro\/habr\/avatars\/95c\/293\/90f\/95c29390f5b138894518bf7e3697c362.jpg",
        "is_readonly": false,
        "is_rc": false,
        "is_subscribed": false,
        "common_tags": [],
        "is_can_vote": true
      },
      "has_polls": false,
      "url": "https:\/\/habr.com\/ru\/company\/wrike\/blog\/496626\/",
      "post_type": 1,
      "post_type_str": "simple",
      "vote": null,
      "is_can_vote": true,
      "voting": {
        "score": 5,
        "voteCount": {
          "total": 5,
          "positive": 5,
          "negative": 0
        },
        "vote": null,
        "reasonMap": null
      },
      "is_habred": true,
      "is_interesting": true,
      "is_favorite": false,
      "comments_new": null
    },
    {
      "id": 498276,
      "is_corporative": 1,
      "is_tutorial": false,
      "time_published": "2020-04-21T12:15:07+03:00",
      "time_interesting": null,
      "comments_count": 0,
      "score": 3,
      "votes_count": 3,
      "favorites_count": 2,
      "lang": "ru",
      "tags_string": "МФТИ, Физтех, RuCode, Moscow Workshops",
      "title": "Онлайн-чемпионат по спортивному программированию RuCode",
      "preview_html": "26 апреля пройдет финальный чемпионат фестиваля RuCode, который объединит тысячи разработчиков со всего мира. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nКоманды разделят на дивизионы по уровню подготовки: А\/B — для опытных программистов и C\/D — для начинающих. Задания составили ведущие преподаватели вузов России, чемпионы международных соревнований и тренеры Moscow Workshops.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/0f\/zx\/5y\/0fzx5yqrfvaafy8myso0bimc3o8.png\u0022\u003E\u003Cbr\u003E",
      "text_cut": "Читать дальше \u0026rarr;",
      "text_html": "26 апреля пройдет финальный чемпионат фестиваля RuCode, который объединит тысячи разработчиков со всего мира. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nКоманды разделят на дивизионы по уровню подготовки: А\/B — для опытных программистов и C\/D — для начинающих. Задания составили ведущие преподаватели вузов России, чемпионы международных соревнований и тренеры Moscow Workshops.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/0f\/zx\/5y\/0fzx5yqrfvaafy8myso0bimc3o8.png\u0022\u003E\u003Cbr\u003E\r\n\u003Ca name=\u0022habracut\u0022\u003E\u003C\/a\u003E\u003Cbr\u003E\r\nУчастник должен владеть одним из языков программирования (C\/C++, Java, Delphi, Python, Kotlin), собрать команду до трех человек и пройти регистрацию на \u003Ca href=\u0022https:\/\/rucode.net\u0022\u003Eсайте\u003C\/a\u003E. Для иностранных участников задания будут доступны на английском языке. Трансляция пройдет на \u003Ca href=\u0022https:\/\/www.youtube.com\/watch?v=-qg7OsyU8sQ\u0026amp;feature=youtu.be\u0022\u003EYouTube\u003C\/a\u003E. Начало в 10:00, разбор задач — в 17:00. Вся организационная информация и обсуждения будут в \u003Ca href=\u0022https:\/\/t.me\/rucode2020\u0022\u003Etelegram-канале\u003C\/a\u003E и \u003Ca href=\u0022https:\/\/t.me\/rucodechat\u0022\u003Eчате\u003C\/a\u003E фестиваля.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nФестиваль RuCode состоял из трех основных этапов: \u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003Eбесплатный курс «Быстрый старт в спортивное программирование», в котором участвовали свыше 8 000 человек;\u003C\/li\u003E\r\n\u003Cli\u003Eинтерактивные интенсивы с ведущими тренерами по искусственному интеллекту и спортивному программированию для участников, прошедших отбор;\u003C\/li\u003E\r\n\u003Cli\u003Eмеждународный онлайн-чемпионат по спортивному программированию.\u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\u003E\r\n25 апреля состоится \u003Ca href=\u0022https:\/\/www.youtube.com\/watch?v=-qg7OsyU8sQ\u0026amp;feature=youtu.be\u0022\u003Eтрансляция\u003C\/a\u003E деловой программы на тему «Технологии поствирусного мира», на которой выступят представители ИТ-компаний и эксперты по цифровизации. Зарегистрироваться можно по \u003Ca href=\u0022https:\/\/forms.gle\/XJrvjHi2winykJLfA\u0022\u003Eссылке\u003C\/a\u003E.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nПрограмму фестиваля RuCode составили эксперты МФТИ при содействии вузов десяти регионов России, а также Яндекса, МегаФона и Аналитического центра при Правительстве РФ при поддержке Фонда развития Физтех-школ с использованием гранта Президента России, предоставленного Фондом Президентских грантов.",
      "is_comments_hide": 0,
      "editor_version": 1,
      "hubs": [
        {
          "id": 18808,
          "rating": 83.4173,
          "is_profiled": false,
          "title": "Блог компании Московский физико-технический институт (МФТИ)",
          "alias": "mipt",
          "about_small": "",
          "about": "Московский физико-технический институт (МФТИ)",
          "count_subscribers": 563,
          "count_posts": 59,
          "tags_string": "",
          "is_membership": false,
          "is_company": true,
          "icon": "\/\/habrastorage.org\/getpro\/habr\/company\/70d\/544\/daf\/70d544daf4932b17afc9dd3efa0a9cf3.jpg",
          "path": "company\/mipt\/"
        },
        {
          "id": 89,
          "rating": 3.0668,
          "is_profiled": true,
          "title": "Спортивное программирование",
          "alias": "sport_programming",
          "about_small": "Интеллектуальные соревнования",
          "about": "Спортивное программирование — это состязания с учетом времени по решению программистских задач на алгоритмы, не имеющие прикладной направленности и ведущие свое происхождение от старых добрых олимпиад по информатике. Для успешного участия в этих соревнованиях необходимо иметь познания в математике и алгоритмах, уметь программировать, а также быть очень умным, быстрым и точным.",
          "count_subscribers": 92025,
          "count_posts": 552,
          "tags_string": "конкурс, спортивное программирование, соревнование, соревнования, состязание в программировании",
          "is_membership": false,
          "is_company": false,
          "flow": {
            "id": 1,
            "name": "Разработка",
            "alias": "develop",
            "url": "https:\/\/habr.com\/ru\/flows\/develop\/",
            "path": "\/flows\/develop\/"
          },
          "icon": "\/\/habrastorage.org\/getpro\/habr\/hub\/6ac\/c75\/615\/6acc75615af52a06a86175ffc16e2cf3.png",
          "path": "hub\/sport_programming\/"
        },
        {
          "id": 8000,
          "rating": 200.3577,
          "is_profiled": true,
          "title": "Алгоритмы",
          "alias": "algorithms",
          "about_small": "Все об алгоритмах",
          "about": "Пишем про полезные и не очень алгоритмы, а также изучаем уже существующие.",
          "count_subscribers": 256771,
          "count_posts": 3653,
          "tags_string": "алгоритм, алгоритмы, задачки, решения, математика, программирование",
          "is_membership": false,
          "is_company": false,
          "flow": {
            "id": 1,
            "name": "Разработка",
            "alias": "develop",
            "url": "https:\/\/habr.com\/ru\/flows\/develop\/",
            "path": "\/flows\/develop\/"
          },
          "icon": "\/\/habrastorage.org\/getpro\/habr\/hub\/61e\/bf9\/7b0\/61ebf97b08494e41ad7b7cad1e0aacc7.png",
          "path": "hub\/algorithms\/"
        }
      ],
      "flows": [
        {
          "id": 1,
          "name": "Разработка",
          "alias": "develop",
          "url": "https:\/\/habr.com\/ru\/flows\/develop\/",
          "path": "\/flows\/develop\/"
        }
      ],
      "is_recovery_mode": false,
      "reading_count": 123,
      "metadata": {
        "meta_image": ""
      },
      "path": "\/company\/mipt\/blog\/498276\/",
      "full_url": "https:\/\/habr.com\/ru\/company\/mipt\/blog\/498276\/",
      "author": {
        "id": 2081339,
        "login": "miptru",
        "time_registered": "2019-06-18T16:07:27+03:00",
        "score": 6,
        "fullname": "Московский физико-технический институт",
        "specializm": "Университет",
        "sex": 0,
        "rating": 8,
        "vote": 0,
        "contacts": [],
        "rating_position": 609,
        "path": "\/users\/miptru\/",
        "geo": {
          "country": "Россия",
          "region": "Москва и Московская обл.",
          "city": "Долгопрудный"
        },
        "counters": {
          "posts": 12,
          "comments": 0,
          "followed": 0,
          "followers": 21,
          "favorites": 0
        },
        "badges": [
          {
            "id": 1,
            "title": "Захабренный",
            "alias": "habred",
            "description": "Пользователь с кармой \u003E0",
            "url": null,
            "is_removable": false,
            "is_disabled": false
          }
        ],
        "avatar": "https:\/\/habrastorage.org\/getpro\/habr\/avatars\/eb4\/19e\/fe4\/eb419efe44ed099a462bf9f064a97f54.jpg",
        "is_readonly": false,
        "is_rc": false,
        "is_subscribed": false,
        "common_tags": [],
        "is_can_vote": true
      },
      "has_polls": false,
      "url": "https:\/\/habr.com\/ru\/company\/mipt\/blog\/498276\/",
      "post_type": 1,
      "post_type_str": "simple",
      "vote": null,
      "is_can_vote": true,
      "voting": {
        "score": 3,
        "voteCount": {
          "total": 3,
          "positive": 3,
          "negative": 0
        },
        "vote": null,
        "reasonMap": null
      },
      "is_habred": true,
      "is_interesting": false,
      "is_favorite": false,
      "comments_new": null
    },
    {
      "id": 498066,
      "is_corporative": 1,
      "is_tutorial": false,
      "time_published": "2020-04-21T12:00:01+03:00",
      "time_interesting": "2020-04-21T13:06:56+03:00",
      "comments_count": 5,
      "score": 6,
      "votes_count": 8,
      "favorites_count": 8,
      "lang": "ru",
      "tags_string": "zyxel, sfp, sfp+, sfp модули, sfp+ трансиверы, xfp, системное администрирование, сетевое администрирование, сетевая инфраструктура, порт, разъёмы, интерфейсы, коммутация, оптоволокно",
      "title": "Как SFP, SFP+ и XDP делают нашу жизнь проще",
      "preview_html": "\u003Cp\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/aa\/tg\/2z\/aatg2zfqbnw6tinphg2m90yocaq.jpeg\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cem\u003EДля чего нужны эти порты, трансиверы, пачткорды? Как во всем этом разобраться? И вообще, надо ли это или проще обойтись «подручными средствами» вроде «хорошо обжатого RJ45»?\u003C\/em\u003E\u003C\/p\u003E",
      "text_cut": "Читать дальше \u0026rarr;",
      "text_html": "\u003Cp\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/aa\/tg\/2z\/aatg2zfqbnw6tinphg2m90yocaq.jpeg\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cem\u003EДля чего нужны эти порты, трансиверы, пачткорды? Как во всем этом разобраться? И вообще, надо ли это или проще обойтись «подручными средствами» вроде «хорошо обжатого RJ45»?\u003C\/em\u003E\u003C\/p\u003E\u003Ca name=\u0022habracut\u0022\u003E\u003C\/a\u003E\u003Cbr\u003E\r\n\u003Ch2\u003EВместо предисловия\u003C\/h2\u003E\u003Cbr\u003E\r\n\u003Cp\u003EКак они надоели с этим SFP и прочими дорогими игрушками! — скажет экономный сисадмин: «И коннекторы недешёвые, и лишний «огород городить». Неужели так трудно всё порты 1GBE b 10GBE делать под старую добрую витую пару? 10 Gigabit витая пара поддерживает и вперёд!»\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EИ правда, зачем всё это? Берём 6 категорию для соединений уровня доступа Gigabit Ethernet (мы же не жадные, заботимся о скорости и стабильности) и категорию 6А для 10 Gigabit Ethernet и радуемся жизни. Дёшево и сердито!\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EНо это всё хорошо, если соединение между отдельными точками не превышает 100 метров (иногда даже и меньше). На практике даже в одном здании можно запросто выйти за предел 100 метров, просто обходя все углы.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Ch3 id=\u0022predstavim-sebe-bolee-slozhnuyu-situaciyu\u0022\u003EПредставим себе более сложную ситуацию\u003C\/h3\u003E\u003Cbr\u003E\r\n\u003Cp\u003EУ нас имеются три различных офиса, в каждом из которых работает по 20 человек. Необходимо выбрать коммутаторы, которые подходят для подключения пользователей по гигабитной сети с 10 гигабитным Uplink.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EВроде бы задача проста: нужно 3 гигабитных коммутатора уровня доступа на 24 гигабитных порта с Uplink 10 Gigabit Ethernet, и ещё один 10 гигабитный коммутатор уровня агрегации для объединения Uplink всех трёх коммутаторов в одну сеть.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EМожно даже замахнуться на отказоустойчивую схему из двух коммутаторов 10GBE. В любом случае всё выглядит не так сложно.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EУсложним немного задачу. Представим, что первый офис находятся рядом с серверной, второй — в соседнем здании на расстоянии более 100м, и, чтобы достать туда, требуется пройти много раз обогнуть препятствия под разным углом, а третий — вроде бы по прямой, но на расстоянии более 550 м. И что тут делать?\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EВроде бы задача по-прежнему выглядит не такой сложной. Покупаем три коммутатора уровня доступа:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EОдин, который поставим рядом с серверной, будет с Uplink 10 Gigabit Ethernet для витой пары.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EВторой коммутатор — так как общее расстояние выше — с Uplink для многомодового оптоволокна дальностью до 550 м, который за счёт своих физических свойств\u003Cbr\u003E\r\nпозволяет «обойти все углы».\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EИ третий коммутатор с Uplink для одномодового кабеля при расстоянии свыше 550 м.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EВроде бы весело и замечательно. А теперь представьте, что для объединения их в одну сеть на следующем уровне понадобится коммутатор 10 Gigabit Ethernet с тремя различными типами портов под разные типы кабелей.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EЗдорово, правда?\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EИ это ещё «цветочки». Для связи этого коммутатора с «верхним уровнем» (уровнем ядра сети, например) может потребоваться Uplink для сетей 40GBE или даже 100GBE. Особенно интересная ситуация возникает, когда число таких Uplink и Downlink (порт для соединения с нижеследующим уровнем) не удаётся предугадать раз и навсегда, и всё меняется в процессе эксплуатации…\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EИ вот тут возникает интересный момент: а сколько таких коммутаторов нам понадобится? А если не хватит одного-двух портов одного типа, зато порты другого типа окажутся в избытке? Покупать новый? А как это отразиться на архитектуре сети? Например, если по проекту заложено, что все три офисных коммутатора уровня доступа общаются напрямую через один коммутатор уровня агрегации, не выходя на ядро сети?\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EЗначит нужно придумать единый стандарт для разъёма, в который при помощи соответствующих переходников (трансиверов) можно было бы подключать различные кабели.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EВ принципе, универсальность и взаимозаменяемость явилась главной причиной создания SPF. Данная технология, естественно, не стояла на месте и появились более поздние стандарты, такие как SPF+ Ещё позже появился XFP. Но обо всем по порядку.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/a3\/ls\/o7\/a3lso7bbws9nygbre6qn_zidv_c.png\u0022\u003E\u003Cbr\u003E\r\n\u003Cem\u003EРисунок 1. 28-портовый управляемый коммутатор 10GbE L2+ — Zyxel XS3800-28, сочетающий порты под витую пару и SFP+.\u003C\/em\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cem\u003EПримечание. На практике не всё обстоит так гладко. Некоторые вендоры, искусственно ограничивают применение переходников от разных производителей. Например, есть такая сисадминская примета: есть нужно использовать сетевое оборудование Cisco, то лучше использовать и трансиверы этого же вендора. Возможно, это не всегда так, но рисковать никто не хочет.\u003C\/em\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cem\u003EОднако мир не идеален, и порой приходится поддерживать мультивендорное решение. В таких случаях лучше выбрать подбирать оборудование от более демократичных вендоров, которые не создают дополнительных ограничений.\u003C\/em\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EСуществует мнение, что при разработке стандарта SFP (Small Form-factor Pluggable) учитывалось требование сохранить ту же плотность портов на 1U в 19 дюймовой стойке, что и в случае с разъёмами под витую пару. То есть минимум 48 портов для подключения устройств и минимум 2 Uplink. Небольшие размеры SFP позволили решить данную задачу.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/xx\/jw\/2e\/xxjw2eo5lcbldkms4cokd9_afda.jpeg\u0022\u003E\u003Cbr\u003E\r\n\u003Cem\u003EРисунок 2. Коммутатор L3 Zyxel XGS4600-52F на 48 портов Gigabit Ethernet SFP, с четырьмя портами Uplink 10 Gigabit Ethernet SFP+\u003C\/em\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003ESFP стандарт используется для поддержки следующих протоколов:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003EFast Ethernet (100 Mb\/s);\u003C\/li\u003E\r\n\u003Cli\u003EGigabit Ethernet (1 Gb\/s); \u003C\/li\u003E\r\n\u003Cli\u003ESDH (155 Mbps, 622 Mbps, 1.25 Gbps, 2,488 Gbps);\u003C\/li\u003E\r\n\u003Cli\u003EFibre Channel (1, 2, 4, 8 Gbps).\u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/zw\/bu\/vp\/zwbuvpsioegsb5b2d4zpqvbqsn0.jpeg\u0022\u003E\u003Cbr\u003E\r\n\u003Cem\u003EРисунок 3. Трансивер Zyxel SFP10G-SR SFP Plus для 10 Gigabit Ethernet\u003C\/em\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/h3\/gv\/ie\/h3gviei07mqdhlly8qqcu1cam08.jpeg\u0022\u003E\u003Cbr\u003E\r\n\u003Cem\u003EРисунок 4.\u003C\/em\u003E Трансивер 10GbE Fiber FTLX1412D3BCL\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EСуществует сетевое оборудование, способное принимать несколько видов трафика по дному порту, например, Ethernet и Fibre Channel с последующим разделением. Разумеется, для соединения должны использоваться соответствующие сетевые карты и трансиверы, поддерживающие подобный «универсальный подход».\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Ch2\u003EОсобенности SFP поддержки различных типов оптики\u003C\/h2\u003E\u003Cbr\u003E\r\n\u003Cp\u003EМногие читатели знакомы с SFP трансиверами для двухволоконных патчкордов. Такие трансиверы имеют интерфейс с двумя разъёмами типа LC для подключения оптического кабеля к модулю.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EОднако есть и другие модели трансиверов, например, SFP WDM, и разумеется, трансиверы с разъёмом RJ45, о которых шла речь выше.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EСуществует классификация SFP модулей по доступному расстоянию для передачи данных:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003E550 м — для многомодовых;\u003C\/li\u003E\r\n\u003Cli\u003E20, 40, 80, 120, 150 км для одномодовых модулей.\u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\u003E\r\n\u003Cp\u003EВыпускается SFP модули нескольких стандартов с различными комбинациями приёмника (RX) и передатчика (TX).\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EТакой подход даёт возможность выбрать необходимую комбинацию для заданного соединения, исходя из используемого типа оптоволоконного кабеля: многомодовое (MM) или одномодовое (SM).\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EПомимо деления по типу оптоволокна, есть разделение по количеству используемых волокон. Есть SFP модули для парных оптических проводников: многомодовые и одномодовые.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EСуществуют и одноволоконные модули: WDM, а также CWDM и DWDM.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003ESFP модули для многомодовых патчкордов используют раздельные приёмник и передатчик фиксированной длины волны 850нм (собственно, для этого и нужно два оптических проводника в одном патчкорде).\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EВ таких патчкордах используется крестообразное соединение от передатчика к приёмнику. (TX1\\\u0026lt;—\u0026gt;RX2, RX1\\\u0026lt;—\u0026gt;TX2).\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EПреимуществом многомодового оптоволокна является невосприимчивость к изгибам (до определённого разумного предела), что позволяет использовать, например, при монтаже стоечного оборудования, когда излишки длины патчкорда можно убрать в органайзер.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EКак было уже указано выше, ограничением для многомодового оптоволокна является сравнительно небольшая длина (до 550м).\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003ESFP модули для парных одномодовых соединений имеют раздельные приёмник и передатчик фиксированной длины волны либо 1310нм, либо 1550нм. Подключение делается по той же крестообразной схеме. Применение одномодовых SFP модулей делаем возможным передачу данных на расстояния до 120км.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EОднако не во всех случаях можно использовать парные оптоволоконные кабели. В некоторых случаях гораздо удобнее передавать сигнал в обе стороны по одному оптическому световоду.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cstrong\u003ESFP WDM\u003C\/strong\u003E — сокращение от Wavelength Division Multiplexing (спектральное уплотнение каналов). В данном случае модули (они же WDM Bi‑Directional, или Bi‑Di) используют совмещённый приёмопередатчик и работают в парах. Пара состоит из двух модулей с разной длиной волны: 1310нм и 1550нм.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EВ первом случае используется передатчик с длиной волны 1550нм и приёмник с длиной волны 1310нм.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EВо втором случае: наоборот, передатчик с длиной волны 1310нм и приёмник с длиной волны 1550нм.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EРасстояние между двумя этими каналами составляет 240нм, что достаточно для того, чтобы различать эти два сигнала без специальных средств детектирования, и позволяет объединить эти два сигнала в одном световоде.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EБлагодаря совмещению каналов для соединения таких модулей нужна только одна оптоволоконная жила. Стандартные SFP WDM модули имеют разъём типа SC для одножильного соединения.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cstrong\u003ESFP CWDM\u003C\/strong\u003E — Coarse WDM — что дословно значит «грубый» WDM — это более поздняя реализация WDM с раздельными приёмником и передатчиком. SFPCWDM отличаются, в первую очередь, диапазоном каналов передачи, который варьируется от 1270нм до 1610нм:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003E\u003Cp\u003E2 дополнительных канала 1270нм и 1290нм;\u003C\/p\u003E\u003Cbr\u003E\r\n\u003C\/li\u003E\r\n\u003Cli\u003E\u003Cp\u003E16 основных (1310нм — 1610нм с шагом 20нм).\u003C\/p\u003E\u003Cbr\u003E\r\n\u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\u003E\r\n\u003Cp\u003EДанные модули имеют широкополосный приёмник, что позволяет 2 модулям с любыми длинами волн передачи работать в паре. Но для работы в паре такие модули использовать нерационально, более оптимально использовать 16 каналов с разными длинами волн, подключёнными к мультиплексору. Мультиплексор «собирает» свет разных длин волн, который излучают передатчики SFPCWDM модулей и «объединяет» собранное в единый световой пучок, и направляет по единственному одномодовому волокну далее. При приёме данных производится обратная процедура.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EРассказывая о кабелях и стандартах, стоит также упомянуть 10 гигабитный Direct Attached Cable (DAC) SFP и SFP+, работающий по стандарту 10GBASE и совместимый со стандартами 10G Ethernet, 8\/10G Fibre Channel. Такие кабели стоят относительно недорого и чаще всего применяются на небольших расстояниях, например, для подключения СХД, серверов и других устройств к скоростной сети.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/-f\/en\/ee\/-fenee5_2bncc0eojzqszg415ra.jpeg\u0022\u003E\u003Cbr\u003E\r\n\u003Cem\u003EРисунок 5. DAC10G-3M кабель Direct Attach\u003C\/em\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Ch2\u003EОтличия SFP от SFP+\u003C\/h2\u003E\u003Cbr\u003E\r\n\u003Cp\u003ESFP модуль всем хорош, одна неприятность — не поддерживает высоких скоростей. А технический прогресс требовал перехода на сети 10 Gigabit. И появились новые стандарты, одним из которых стал SFP+ Как часто бывает с родственными технологиями и стандартами (когда более одна строится на базе другой) SFP+ совместим с SFP сверху вниз. То есть в порт SFP+, можно подключить более старые трансиверы SFP, а вот наоборот — включить может и получится, но работать они не будут.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EОднако возможны неприятные исключения. В оборудовании некоторых производителей (к счастью, Zyxel в их число не входит) совместимость сверху вниз не поддерживается. Всегда лучше на всякий случай уточнить у продавца, будет ли работать данный трансивер с данным портом на данном оборудовании.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Ch3 id=\u0022osobennosti-standarta-xfp\u0022\u003EОсобенности стандарта XFP\u003C\/h3\u003E\u003Cbr\u003E\r\n\u003Cp\u003EXFP — это дальнейшее развитие стандарта SFP+. Дело в том, что при плотном трафике модули SFP+ были замечены за непристойным занятием — они нагревались до достаточно высокой температуры. Виной тому малые размеры и высокая плотность портов — в принципе, то, зачем SFP и создавался. Разумеется, повышение температуры оборудования создаёт риск при длительной работе.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EИз-за требований к повышенной отказоустойчивости пришлось принести в жертву малые размеры SFP+. Это факт в сочетании с более современной схемотехника стороны породили новый стандарт новый стандарт для подключения трансиверов (также не больших, хоть и не таких миниатюрных как SFP+) — XFP.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EСтандарт XFP был разработан группой XFP MSA (Multi Source Agreement) — неофициальным соглашением отраслевой группы. Скорость работы этих «новеньких» начинается от 10G и может использоваться с оптоволоконным кабелем для высокоскоростной сети.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EРабочая длина волны: 850нм, 1310нм или 1550нм, при этом трансиверы XFP не зависят от протокола и полностью поддерживают конвергентность для стандартов:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003E\u003Cp\u003E10 Gigabit Ethernet;\u003C\/p\u003E\u003Cbr\u003E\r\n\u003C\/li\u003E\r\n\u003Cli\u003E\u003Cp\u003E10G Fibre Channel;\u003C\/p\u003E\u003Cbr\u003E\r\n\u003C\/li\u003E\r\n\u003Cli\u003E\u003Cp\u003Eсинхронная оптическая сеть (SONET) на скорости OC‑192;\u003C\/p\u003E\u003Cbr\u003E\r\n\u003C\/li\u003E\r\n\u003Cli\u003E\u003Cp\u003Eсинхронная оптическая сеть STM‑64;\u003C\/p\u003E\u003Cbr\u003E\r\n\u003C\/li\u003E\r\n\u003Cli\u003E\u003Cp\u003Eоптическая транспортная сеть 10G (OTN) OTU‑2;\u003C\/p\u003E\u003Cbr\u003E\r\n\u003C\/li\u003E\r\n\u003Cli\u003E\u003Cp\u003Eпараллельная оптическая связь.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\u003E\r\n\u003Ch3 id=\u0022mozhno-li-soedinyat-ustroystvo-s-portom-xfp-i-drugoe-ustroystvo-s-sfp\u0022\u003EМожно ли соединять устройство с портом XFP и другое устройство с SFP+\u003C\/h3\u003E\u003Cbr\u003E\r\n\u003Cp\u003EТеоретически такое соединение возможно, необходимо использовать оптические кабели, подходящие для обоих трансиверов.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EНапример, XFP‑10G-SR и SFP‑10G-SR — это многомодовые модули на основе LC разъёмов, поэтому применение многорежимного оптического кабеля LC по идее позволит получить работающее соединение.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EНа практике лучше заглянуть в соответствующие спецификации, и при любом сомнении — уточнить у представителей вендора (дилера, системного интегратора и т. д.) соответствующие детали.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Ch2\u003EЗаключение\u003C\/h2\u003E\u003Cbr\u003E\r\n\u003Cp\u003EУнифицированный подход и стандартизация, в том числе портов сетевого оборудования подход реализуют универсальный подход, тем самым упрощая нашу жизнь.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EРазумеется, не существует единого идеального решения. В любом стандарте, в любой технологии есть плюсы и минусы. И не всегда они касаются технических аспектов. \u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EНемаловажную роль при выборе той или иной технологии играет цена вопроса, внешние ограничения (например, расстояние), а также особенности эксплуатации.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Ch2\u003EПолезные ссылки\u003C\/h2\u003E\u003Cbr\u003E\r\n\u003Col\u003E\r\n\u003Cli\u003E\u003Cp\u003E\u003Ca href=\u0022https:\/\/habr.com\/en\/company\/dataline\/blog\/348358\/\u0022\u003E10-гигабитный Ethernet: советы новичку\u003C\/a\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003C\/li\u003E\r\n\u003Cli\u003E\u003Cp\u003E\u003Ca href=\u0022https:\/\/itc.ua\/articles\/10_gigabit_v_sekundu_po_vitoj_mednoj_pare_27484\/\u0022\u003E10 гигабит в секунду по витой медной паре\u003C\/a\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003C\/li\u003E\r\n\u003Cli\u003E\u003Cp\u003E\u003Ca href=\u0022http:\/\/ic-line.ua\/wiki\/sfp-sfp-plus\u0022\u003EМодули SFP SFP+. Виды. Принцип действия\u003C\/a\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003C\/li\u003E\r\n\u003Cli\u003E\u003Cp\u003E\u003Ca href=\u0022https:\/\/habr.com\/ru\/post\/188224\/\u0022\u003EНаглядный обзор оптических передатчиков\u003C\/a\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003C\/li\u003E\r\n\u003Cli\u003E\u003Cp\u003E\u003Ca href=\u0022https:\/\/asp24.ru\/novosti-asp24-ru\/kak-vybrat-sfp-sfp-modul\/\u0022\u003EКак выбрать SFP (SFP+) модуль?\u003C\/a\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003C\/li\u003E\r\n\u003Cli\u003E\u003Cp\u003E\u003Ca href=\u0022https:\/\/asp24.ru\/novosti-asp24-ru\/kak-vybrat-sfp-sfp-modul-2.0\/\u0022\u003EКак выбрать SFP (SFP+) модуль? 2.0\u003C\/a\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003C\/li\u003E\r\n\u003Cli\u003E\u003Cp\u003E\u003Ca href=\u0022https:\/\/habr.com\/ru\/post\/113314\/\u0022\u003ECWDM — спектральное уплотнение оптических каналов\u003C\/a\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003C\/li\u003E\r\n\u003C\/ol\u003E",
      "is_comments_hide": 0,
      "editor_version": 1,
      "hubs": [
        {
          "id": 21250,
          "rating": 80.5479,
          "is_profiled": false,
          "title": "Блог компании ZYXEL в России",
          "alias": "zyxel",
          "about_small": "Производитель сетевых устройств для бизнеса",
          "about": "ZYXEL в России",
          "count_subscribers": 125,
          "count_posts": 40,
          "tags_string": "",
          "is_membership": false,
          "is_company": true,
          "icon": "\/\/habrastorage.org\/getpro\/habr\/company\/f76\/2a7\/2e3\/f762a72e3d11d092b2ee61734615e8b5.png",
          "path": "company\/zyxel\/"
        },
        {
          "id": 221,
          "rating": 308.4513,
          "is_profiled": true,
          "title": "Системное администрирование",
          "alias": "sys_admin",
          "about_small": "Лишь бы юзер был доволен",
          "about": "Всё, что связано с системным администрированием. Полезные и интересные материалы, статьи. Делимся опытом.",
          "count_subscribers": 117569,
          "count_posts": 4208,
          "tags_string": "пинг, ping, trace, трассировка, маршруты, маршрутизация, админ, администратор, admin, драйвера, пакеты, дрова, родительский контроль, права, консоль, терминал, настройка",
          "is_membership": false,
          "is_company": false,
          "flow": {
            "id": 6,
            "name": "Администрирование",
            "alias": "admin",
            "url": "https:\/\/habr.com\/ru\/flows\/admin\/",
            "path": "\/flows\/admin\/"
          },
          "icon": "\/\/habrastorage.org\/getpro\/habr\/hub\/6c5\/db3\/8c2\/6c5db38c23972b6c0916e91e408edff8.png",
          "path": "hub\/sys_admin\/"
        },
        {
          "id": 17123,
          "rating": 150.0989,
          "is_profiled": true,
          "title": "Сетевые технологии",
          "alias": "network_technologies",
          "about_small": "От Ethernet до IPv6",
          "about": "Сетевая технология — это согласованный набор стандартных протоколов и реализующих их программно-аппаратных средств, достаточный для построения локальной вычислительной сети. Сетевые технологии называют базовыми технологиями или сетевыми архитектурами локальных сетей. Сетевая технология или архитектура определяет топологию и метод доступа к среде передачи данных, кабельную систему или среду передачи данных, формат сетевых кадров тип кодирования сигналов, скорость передачи в локальной сети.",
          "count_subscribers": 118848,
          "count_posts": 2315,
          "tags_string": "network technologies, сетевые технологии, Ethernet, TCP, IP, IPv4, IPv6, TokenRing, FrameRelay, WAN, LAN, PPP, xDSL, Internet, локальная сеть, mac-адрес, ip-адрес, local area network",
          "is_membership": false,
          "is_company": false,
          "flow": {
            "id": 6,
            "name": "Администрирование",
            "alias": "admin",
            "url": "https:\/\/habr.com\/ru\/flows\/admin\/",
            "path": "\/flows\/admin\/"
          },
          "icon": "\/\/habrastorage.org\/getpro\/habr\/hub\/b2e\/13f\/8fc\/b2e13f8fcaf2711677c87418b98e85fe.png",
          "path": "hub\/network_technologies\/"
        },
        {
          "id": 21958,
          "rating": 33.2332,
          "is_profiled": false,
          "title": "Сетевое оборудование",
          "alias": "network_hardware",
          "about_small": "Чтобы работала компьютерная сеть",
          "about": "Сетевое оборудование",
          "count_subscribers": 106914,
          "count_posts": 718,
          "tags_string": "switch, router, роутер, свич, маршрутизатор, точка доступа, access point",
          "is_membership": false,
          "is_company": false,
          "flow": {
            "id": 7,
            "name": "Научпоп",
            "alias": "popsci",
            "url": "https:\/\/habr.com\/ru\/flows\/popsci\/",
            "path": "\/flows\/popsci\/"
          },
          "icon": "\/\/habrastorage.org\/getpro\/geektimes\/hub\/c10\/78f\/7aa\/c1078f7aa9a4709c3844e52918912d3d.png",
          "path": "hub\/network_hardware\/"
        }
      ],
      "flows": [
        {
          "id": 6,
          "name": "Администрирование",
          "alias": "admin",
          "url": "https:\/\/habr.com\/ru\/flows\/admin\/",
          "path": "\/flows\/admin\/"
        },
        {
          "id": 7,
          "name": "Научпоп",
          "alias": "popsci",
          "url": "https:\/\/habr.com\/ru\/flows\/popsci\/",
          "path": "\/flows\/popsci\/"
        }
      ],
      "is_recovery_mode": false,
      "reading_count": 775,
      "metadata": {
        "meta_image": "https:\/\/habrastorage.org\/webt\/aa\/tg\/2z\/aatg2zfqbnw6tinphg2m90yocaq.jpeg"
      },
      "path": "\/company\/zyxel\/blog\/498066\/",
      "full_url": "https:\/\/habr.com\/ru\/company\/zyxel\/blog\/498066\/",
      "author": {
        "id": 1639273,
        "login": "Zyxel_Russia",
        "time_registered": "2018-01-24T17:30:12+03:00",
        "score": 5,
        "fullname": null,
        "specializm": "Пользователь",
        "sex": 0,
        "rating": 11.2,
        "vote": 0,
        "contacts": [],
        "rating_position": 503,
        "path": "\/users\/zyxel_russia\/",
        "geo": {
          "country": null,
          "region": null,
          "city": null
        },
        "counters": {
          "posts": 32,
          "comments": 36,
          "followed": 0,
          "followers": 27,
          "favorites": 0
        },
        "badges": [
          {
            "id": 1,
            "title": "Захабренный",
            "alias": "habred",
            "description": "Пользователь с кармой \u003E0",
            "url": null,
            "is_removable": false,
            "is_disabled": false
          }
        ],
        "avatar": "https:\/\/habrastorage.org\/getpro\/habr\/avatars\/0a6\/ca7\/be2\/0a6ca7be2864e2f5886c5c8e3eb4ff9d.png",
        "is_readonly": false,
        "is_rc": false,
        "is_subscribed": false,
        "common_tags": [],
        "is_can_vote": true
      },
      "has_polls": false,
      "url": "https:\/\/habr.com\/ru\/company\/zyxel\/blog\/498066\/",
      "post_type": 1,
      "post_type_str": "simple",
      "vote": null,
      "is_can_vote": true,
      "voting": {
        "score": 6,
        "voteCount": {
          "total": 8,
          "positive": 7,
          "negative": 1
        },
        "vote": null,
        "reasonMap": null
      },
      "is_habred": true,
      "is_interesting": true,
      "is_favorite": false,
      "comments_new": 5
    },
    {
      "id": 498138,
      "is_corporative": 1,
      "is_tutorial": false,
      "time_published": "2020-04-21T11:44:33+03:00",
      "time_interesting": "2020-04-21T13:06:54+03:00",
      "comments_count": 0,
      "score": 5,
      "votes_count": 13,
      "favorites_count": 8,
      "lang": "ru",
      "tags_string": "вшэ, вшэ спб, вышка, питерская вышка, hse, hse spb, промышленное программирование, software engineering, биоинформатика, bioinformatics, магистратура",
      "title": "Жизнь после бакалавриата: как я решала, что делать дальше, когда высшее образование и работа уже есть",
      "preview_html": "С июня по октябрь 2018 года я окончила университет, нашла работу, поступила в магистратуру, решила, что хорошая работа и высшее образование у меня уже есть и ходить на пары необязательно, отчислилась из вуза. И потом поступила в магистратуру опять.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nВ этой статье я расскажу, почему я принимала такие решения и к каким выводам пришла в процессе.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/36\/io\/08\/36io080wblcf_lkamrciieosics.jpeg\u0022\u003E\u003Cbr\u003E",
      "text_cut": "Читать дальше \u0026rarr;",
      "text_html": "С июня по октябрь 2018 года я окончила университет, нашла работу, поступила в магистратуру, решила, что хорошая работа и высшее образование у меня уже есть и ходить на пары необязательно, отчислилась из вуза. И потом поступила в магистратуру опять.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nВ этой статье я расскажу, почему я принимала такие решения и к каким выводам пришла в процессе.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/36\/io\/08\/36io080wblcf_lkamrciieosics.jpeg\u0022\u003E\u003Cbr\u003E\r\n\u003Ca name=\u0022habracut\u0022\u003E\u003C\/a\u003E\u003Cbr\u003E\r\nСтатья получилась достаточно длинной, поэтому здесь я напишу ее план:\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Col\u003E\r\n\u003Cli\u003EКак я не пошла в магистратуру ВШЭ, а пошла в ИТМО\u003C\/li\u003E\r\n\u003Cli\u003EКак я отчислилась из ИТМО\u003C\/li\u003E\r\n\u003Cli\u003EКак я провела gap year и решала, что делать дальше\u003C\/li\u003E\r\n\u003Cli\u003EКак я опять пошла учиться и ощутила разницу между магистратурой и бакалавриатом\u003C\/li\u003E\r\n\u003Cli\u003EВыводы\u003C\/li\u003E\r\n\u003C\/ol\u003E\u003Cbr\u003E\r\n\u003Ch2\u003EКак я не пошла в магистратуру ВШЭ, а пошла в ИТМО\u003C\/h2\u003E\u003Cbr\u003E\r\nМеня зовут Оля Кунявская. Летом 2018 года я окончила бакалавриат СПбАУ по направлению «Биоинформатика». Наш выпуск пришелся на момент, когда администрация, преподаватели и студенты переезжали из СПбАУ в Питерскую Вышку. Академический университет великолепно мне подходил с точки зрения получения образования в бакалавриате, однако в открывшуюся магистратуру питерского кампуса ВШЭ я не пошла. В бакалавриате я занималась биоинформатикой и хотела развиваться в этой области, но в магистратуру Питерской Вышки переехали направления Machine Learning, Software Engineering и Programming Languages, а Bioinformatics — нет. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nВ этот момент я узнала про магистерскую программу «Биоинформатика и системная биология» в ИТМО и решила поступать туда. В программу входили некоторые курсы, которые я уже изучала, но при этом там было и много нового. Мне нравилась идея, что моими одногруппниками будут ребята с биологическим бэкграундом. Мышление биологов сильно отличается от моего, и я думала, что подобная среда может сильно прокачать меня в загадочной для меня области биологии и научить мыслить еще одним способом. Еще мне понравилось, что обучение проходит на английском языке: хотелось поверить, что я знаю английский достаточно для того, чтобы учиться и работать. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cdiv style=\u0022text-align:center;\u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/post_images\/51d\/4f4\/78e\/51d4f478e34481e51db2fe5b2aebcf8b.png\u0022 width=\u0022500\u0022\u003E\u003C\/div\u003E\u003Cbr\u003E\r\n\u003Cp\u003E Я сдаю устный экзамен по биологии при поступлении в ИТМО\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch2\u003EКак я отчислилась из ИТМО\u003C\/h2\u003E\u003Cbr\u003E\r\nСентябрь 2018 года. Я поступила на магистерскую программу «Биоинформатика и системная биология» в ИТМО и устроилась младшим научным сотрудником в Центр биоинформатики и алгоритмической биоинформатики при СПбГУ на полную ставку (эта лаборатория разрабатывает геномный сборщик SPAdes под руководством Павла Певзнера и раньше находилась в СПбАУ).\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nОктябрь 2018 года. Я отчисляюсь из вуза. Учиться в ИТМО я не могу — причем из-за деталей, про которые я знала заранее, но мне и в голову не могло прийти, что это будет меня так расстраивать. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nПривыкнув к камерной атмосфере СПбАУ, где училось меньше 500 человек, я неуютно чувствовала себя в университете, в котором на одном курсе могут быть тысячи студентов. Мимо меня ходили люди, и я думала о том, что вижу их в первый и в последний раз в жизни. К тому же оказалось, что я не готова тратить даже минимальные усилия на то, что не кажется мне полезным. Когда я шла на эту магистерскую программу, я знала, что там будут курсы, которые я уже проходила. Например, по дискретной математике. Я собиралась их быстренько сдать, а остальное время заниматься важными для меня вещами. Однако оказалось, что такая модель не для меня. Преследовал вопрос «зачем я трачу свое время», и это ощущение усиливалось из-за того, что в начале года на парах рассказывают вводную информацию.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nЗа первые три недели я решила, что, раз высшее образование уже есть, нет смысла ходить в университет ради получения диплома. Я хочу заниматься другими делами — более классными, чем посещение пар. Я заключила, что получать магистерское образование мне не нужно, и отчислилась.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch2\u003EGap year. А дальше-то что?\u003C\/h2\u003E\u003Cbr\u003E\r\nЯ перестала быть студентом и осталась работать в лаборатории на полную ставку. А дальше у меня наступил естественный кризис, связанный с окончанием университета. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nМне было важно получить образование, и обучение в бакалавриате сопровождалось ощущением, что главное сейчас — вложить много сил и энергии в учебу, а со всем остальным можно разобраться потом. И вот я оказалась в ситуации, что высшее образование у меня есть, я устроена на неплохую работу, даже личная жизнь уже налажена. А дальше-то что? \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nЯ столкнулась с экзистенциальными вопросами, на которые начала искать ответы. Я размышляла, как я хотела бы жить в дальнейшем и как обустроить свою повседневную жизнь так, чтобы быть счастливой. Это вопросы, о которых ты не задумываешься, пока есть куча задач и дедлайнов.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nРасскажу тезисно ключевые мысли, так или иначе связанные с магистратурой: \u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003E\u003Cstrong\u003EХочу, чтобы мне хорошо жилось здесь и сейчас, а не в отдаленном будущем. \u003C\/strong\u003EПришло осознание, что нужно понять, как мне хочется жить, и начать жить счастливо уже сейчас. Получать удовольствие от жизни вот прямо с этого момента. Если я буду постоянно считать, что сейчас я помучаюсь, но зато в великом «потом» будет мне счастье, есть опасность, что это «потом» никогда не наступит.\u003C\/li\u003E\r\n\u003Cli\u003E\u003Cstrong\u003EХочу постоянно развиваться и узнавать что-то новое, \u003C\/strong\u003Eпри этом не забывая про пункт первый. Мне категорически не подходит перспектива «Пойти узнавать что-то новое, но чувствовать себя неуютно и ждать, когда это наконец-то закончится».\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nПри этом я выяснила, что самостоятельно искать для себя интересные онлайн-курсы, очные курсы или книги, по которым можно учиться, — это весьма непростая задача, которая отнимает много энергии и сил. Возникали мысли, что было бы очень хорошо, если бы кто-то пришел ко мне и сказал: «Вот клевый курс, где рассказывают много интересного, и преподаватель классный. Тебе точно понравится, проходи!». \u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003E\u003Cstrong\u003EХочу попробовать поработать в другой области. \u003C\/strong\u003EЯ стала сожалеть о том, чего не сделала в бакалавриате: например, о том, что не побывала на стажировке по направлению Software Engineering. Возможно, мне стоило не только заниматься биоинформатикой, но и пробовать себя в других областях.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nВ этот момент я решила, что нужно не грустить, а поступить в магистратуру еще раз на другое направление и поехать на стажировку, чтобы реализовать то, что мне кажется важным.\u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003E\u003Cstrong\u003EХочу чувствовать себя «своей». \u003C\/strong\u003EНесмотря на то, что учеба в бакалавриате уже закончилась, я пересекалась со своими одногруппниками. Когда я с ними встречалась, то ощущала тоску из-за того, что они продолжают учебу вместе, а я — отдельно от них. Мне это не понравилось. Возникло чисто эмоциональное ощущение «хочу домой». \u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\u003E\r\nК январю я поняла, что хочу изучать Software Engineering в магистратуре Питерской Вышки. Я знала, что действительно этого хочу, и понимала, зачем мне это надо. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nЗимой я написала нашему декану и рассказала о своем намерении поступать, летом сдала экзамены и поступила. А с осени 2019 года перешла на полставки и пошла учиться. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch2\u003EКак я опять пошла учиться. Разница между магистратурой и бакалавриатом.\u003C\/h2\u003E\u003Cbr\u003E\r\n\u003Cdiv style=\u0022text-align:center;\u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/post_images\/892\/1c5\/9ec\/8921c59ec108648ca00e36df2aa63239.jpg\u0022\u003E\u003C\/div\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nДля меня учеба в магистратуре — это новый этап жизни, а не прямое продолжение бакалавриата. В бакалавриате получение образования было моим главным приоритетом: я смело отказывалась от вещей, которые мешали учиться, тщательно готовилась к экзаменам, первой сдавала домашние задания и по 2–3 раза прорабатывала теоретический материал. К моменту поступления в магистратуру я поняла, что жизнь многогранна, и помимо учебы я хочу заниматься и другими вещами: строить крепкие социальные связи, карьеру, создавать семью, реализовывать собственные идеи. Иногда я предпочитаю встречу с другом выполненному домашнему заданию. Учеба больше не главная цель, а скорее приятное дополнение, которое делает жизнь счастливее.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nВот что еще изменилось по сравнению с бакалавриатом:\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003E\u003Cb\u003EНагрузка и совмещение с работой. \u003C\/b\u003EУчеба в нашем бакалавриате была достаточно напряженной: 20 пар в неделю на первых курсах, 10 пар в неделю на старших. В магистратуре около 6 пар, они занимают 2 или 3 дня в неделю. Поэтому легко получается совмещать с работой на полставки. На первых курсах мне было сложно учиться: я много времени тратила на домашку и часто не понимала, что за слова написаны в задании. В магистратуре я чувствую, что предметы уже не становятся сложнее, а опыта у меня появилось гораздо больше. Например, на курсе по теории кодирования радуюсь тому, какие милые и прикольные конечные поля. \u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003E\u003Cb\u003EУровень самостоятельности.\u003C\/b\u003E В бакалавриате нашу успеваемость и прогресс в научно-исследовательской работе контролировали: с нами общались, если возникали проблемы с учебой, помогали подобрать проект и так далее. В магистратуре предполагается, что мы сами ищем себе научного руководителя и самостоятельно решаем возникающие проблемы по учебе с преподавателем. Однако я уверена, что если попрошу, администрация мне поможет.\u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003E\u003Cb\u003EПричины отчисления. \u003C\/b\u003EВ бакалавриате главной причиной отчисления была неуспеваемость по учебе. В магистратуре отчисления тоже есть (изначально на нашем направлении было 6 человек, через полгода осталось 4), но теперь основная причина отчислений состоит в том, что люди пошли в магистратуру скорее по инерции, без понимания, зачем она им, а потом не захотели тратить время. По этой же причине я отчислилась из ИТМО. \u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\u003E\r\n\u003Ch2\u003EВыводы\u003C\/h2\u003E\u003Cbr\u003E\r\nЕсли попытаться обобщить мой опыт в нескольких выводах, я бы сказала так: \u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003EПрежде чем идти в магистратуру, важно понять, почему этого хотите именно вы (и хотите ли).\u003C\/li\u003E\r\n\u003Cli\u003EПрислушивайтесь к себе. Обращайте внимание на субъективный психологический комфорт. \u003C\/li\u003E\r\n\u003Cli\u003EМенять свои решения — это нормально! Нет ничего страшного в том, чтобы поменять университет, отчислиться или поступить в университет после нескольких лет работы. \u003C\/li\u003E\r\n\u003Cli\u003EМожно брать gap year, для того чтобы понять, куда хочется двигаться дальше.\u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003EТолько вы можете понять, что нужно именно вам. Ваше мнение может отличаться от мнения ваших родителей, наставников, друзей и преподавателей, и вам не обязательно объяснять кому-то свои решения.\u003C\/li\u003E\r\n\u003C\/ul\u003E\u003Cbr\u003E\r\nМне оказалось важно взять паузу для осознания, и от осознанных действий я получила гораздо больше внутреннего удовлетворения и гораздо больше отдачи, чем если бы двигалась по инерции. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\n*****\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n30 апреля на факультете будет День открытых дверей online про магистерские программы. \u003Cbr\u003E\r\n\u003Ca href=\u0022https:\/\/vk.com\/away.php?to=https%3A%2F%2Fhse.webinar.ru%2F20899484%2F3957254\u0026amp;post=-183934110_121\u0026amp;cc_key=\u0022\u003EПриходите!\u003C\/a\u003E",
      "is_comments_hide": 0,
      "editor_version": 1,
      "hubs": [
        {
          "id": 22164,
          "rating": 51.8144,
          "is_profiled": false,
          "title": "Блог компании Питерская Вышка",
          "alias": "hsespb",
          "about_small": "",
          "about": "Питерская Вышка",
          "count_subscribers": 95,
          "count_posts": 20,
          "tags_string": "",
          "is_membership": false,
          "is_company": true,
          "icon": "\/\/habrastorage.org\/getpro\/habr\/company\/a37\/7dd\/b5c\/a377ddb5cb5a09cc5221653c23ef3264.jpg",
          "path": "company\/hsespb\/"
        },
        {
          "id": 20696,
          "rating": 105.7246,
          "is_profiled": false,
          "title": "Учебный процесс в IT",
          "alias": "study",
          "about_small": "Обсуждаем обучение, курсы, тесты и стажировки",
          "about": "Обсуждаем обучение специалистов, учебные программы университетов, курсы, тесты, студенческие проекты, стажировки.",
          "count_subscribers": 11329,
          "count_posts": 2196,
          "tags_string": "студенты, стажер, обучение, университет, институт, школа, школьник, квалификация, учеба, учёба, курсы, лекция, лекции, практика, семинар, семинары, доклад, реферат",
          "is_membership": false,
          "is_company": false,
          "flow": {
            "id": 3,
            "name": "Менеджмент",
            "alias": "management",
            "url": "https:\/\/habr.com\/ru\/flows\/management\/",
            "path": "\/flows\/management\/"
          },
          "icon": "\/\/habrastorage.org\/getpro\/habr\/hub\/db6\/599\/152\/db6599152d4c6a7e81dd12f8d5b57e3d.png",
          "path": "hub\/study\/"
        },
        {
          "id": 20740,
          "rating": 336.421,
          "is_profiled": false,
          "title": "Карьера в IT-индустрии",
          "alias": "career",
          "about_small": "Работать, работать и работать (в IT)",
          "about": "Коллективный блог об HR: поиск, подбор, адаптация, тренинги, компенсации, льготы, обучение, и др.",
          "count_subscribers": 42651,
          "count_posts": 3071,
          "tags_string": "работа, HR, вакансия, вакансии, резюме",
          "is_membership": false,
          "is_company": false,
          "flow": {
            "id": 3,
            "name": "Менеджмент",
            "alias": "management",
            "url": "https:\/\/habr.com\/ru\/flows\/management\/",
            "path": "\/flows\/management\/"
          },
          "icon": "\/\/habrastorage.org\/getpro\/habr\/hub\/cab\/f82\/067\/cabf82067c7be08c90a5903f860c9abf.png",
          "path": "hub\/career\/"
        }
      ],
      "flows": [
        {
          "id": 3,
          "name": "Менеджмент",
          "alias": "management",
          "url": "https:\/\/habr.com\/ru\/flows\/management\/",
          "path": "\/flows\/management\/"
        }
      ],
      "is_recovery_mode": false,
      "reading_count": 1263,
      "metadata": {
        "meta_image": ""
      },
      "path": "\/company\/hsespb\/blog\/498138\/",
      "full_url": "https:\/\/habr.com\/ru\/company\/hsespb\/blog\/498138\/",
      "author": {
        "id": 1898717,
        "login": "hse_spb",
        "time_registered": "2018-12-04T12:45:15+03:00",
        "score": 20,
        "fullname": null,
        "specializm": "Питерская Вышка",
        "sex": 0,
        "rating": 2.5,
        "vote": 0,
        "contacts": [],
        "rating_position": 950,
        "path": "\/users\/hse_spb\/",
        "geo": {
          "country": "Россия",
          "region": "Санкт-Петербург и область",
          "city": "Санкт-Петербург"
        },
        "counters": {
          "posts": 9,
          "comments": 17,
          "followed": 0,
          "followers": 12,
          "favorites": 0
        },
        "badges": [
          {
            "id": 1,
            "title": "Захабренный",
            "alias": "habred",
            "description": "Пользователь с кармой \u003E0",
            "url": null,
            "is_removable": false,
            "is_disabled": false
          }
        ],
        "avatar": "https:\/\/habrastorage.org\/getpro\/habr\/avatars\/f32\/9ca\/f7a\/f329caf7af39c3758cab77cbf5c92be1.jpg",
        "is_readonly": false,
        "is_rc": false,
        "is_subscribed": false,
        "common_tags": [],
        "is_can_vote": true
      },
      "has_polls": false,
      "url": "https:\/\/habr.com\/ru\/company\/hsespb\/blog\/498138\/",
      "post_type": 1,
      "post_type_str": "simple",
      "vote": null,
      "is_can_vote": true,
      "voting": {
        "score": 5,
        "voteCount": {
          "total": 13,
          "positive": 9,
          "negative": 4
        },
        "vote": null,
        "reasonMap": null
      },
      "is_habred": true,
      "is_interesting": true,
      "is_favorite": false,
      "comments_new": null
    },
    {
      "id": 498256,
      "is_corporative": 1,
      "is_tutorial": false,
      "time_published": "2020-04-21T11:30:48+03:00",
      "time_interesting": "2020-04-21T12:04:56+03:00",
      "comments_count": 0,
      "score": 17,
      "votes_count": 17,
      "favorites_count": 5,
      "lang": "ru",
      "tags_string": "онлайн митап, php митап, код-ревью, тесты в php, рефкторинг php",
      "title": "Небольшой международный PHP-митап в онлайне",
      "preview_html": "Карантин запирает нас в четырех стенах, но с другой стороны — стирает расстояния. Например, в эту субботу можно будет оказаться на митапе минского сообщества: ребята решили использовать возможности онлайн-формата по полной и собирают экспертов из разных стран и городов в одной трансляции. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nДоклад про нетривиальное применение технологий от \u003Ca href=\u0022https:\/\/habr.com\/ru\/users\/serafimarts\/\u0022 class=\u0022user_link\u0022\u003ESerafimArts\u003C\/a\u003E из Москвы, рассказ про разумный подход к код-ревью от \u003Ca href=\u0022https:\/\/habr.com\/ru\/users\/seregazhuk\/\u0022 class=\u0022user_link\u0022\u003Eseregazhuk\u003C\/a\u003E из Брянска, PHP-викторина от \u003Ca href=\u0022https:\/\/habr.com\/ru\/users\/pronskiy\/\u0022 class=\u0022user_link\u0022\u003Epronskiy\u003C\/a\u003E из Харькова — это лишь половина \u003Ca href=\u0022https:\/\/meetups-online.ru\/php-minsk-moskva\u0022 rel=\u0022nofollow\u0022\u003Eотличной программы\u003C\/a\u003E.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/hb\/rd\/cl\/hbrdcllca-9zh0kli8uspkmjpn4.jpeg\u0022\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n“Приходите” в \u003Ca href=\u0022https:\/\/www.youtube.com\/watch?v=se3F83O0ZiY\u0022 rel=\u0022nofollow\u0022\u003Eтрансляцию\u003C\/a\u003E 25 апреля. А пока — немного о героях субботнего онлайн-митапа.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch2\u003E“Не грозите минскому блокчейну” или краткая история PHP of BY\u003C\/h2\u003E",
      "text_cut": "Читать дальше \u0026rarr;",
      "text_html": "Карантин запирает нас в четырех стенах, но с другой стороны — стирает расстояния. Например, в эту субботу можно будет оказаться на митапе минского сообщества: ребята решили использовать возможности онлайн-формата по полной и собирают экспертов из разных стран и городов в одной трансляции. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nДоклад про нетривиальное применение технологий от \u003Ca href=\u0022https:\/\/habr.com\/ru\/users\/serafimarts\/\u0022 class=\u0022user_link\u0022\u003ESerafimArts\u003C\/a\u003E из Москвы, рассказ про разумный подход к код-ревью от \u003Ca href=\u0022https:\/\/habr.com\/ru\/users\/seregazhuk\/\u0022 class=\u0022user_link\u0022\u003Eseregazhuk\u003C\/a\u003E из Брянска, PHP-викторина от \u003Ca href=\u0022https:\/\/habr.com\/ru\/users\/pronskiy\/\u0022 class=\u0022user_link\u0022\u003Epronskiy\u003C\/a\u003E из Харькова — это лишь половина \u003Ca href=\u0022https:\/\/meetups-online.ru\/php-minsk-moskva\u0022\u003Eотличной программы\u003C\/a\u003E.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/hb\/rd\/cl\/hbrdcllca-9zh0kli8uspkmjpn4.jpeg\u0022\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n“Приходите” в \u003Ca href=\u0022https:\/\/www.youtube.com\/watch?v=se3F83O0ZiY\u0022\u003Eтрансляцию\u003C\/a\u003E 25 апреля. А пока — немного о героях субботнего онлайн-митапа.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch2\u003E“Не грозите минскому блокчейну” или краткая история PHP of BY\u003C\/h2\u003E \u003Ca name=\u0022habracut\u0022\u003E\u003C\/a\u003E\u003Cbr\u003E\r\n\u003Cb\u003E\u003Ci\u003EИгорь, ты один из соорганизаторов движа от минского PHP-сообщества, и на днях вы проведете свой 33-й митап. Наверняка за это время вы наступили на кучу граблей. Расскажи про какой-нибудь страшный косяк в истории сообщества.\u003C\/i\u003E\u003C\/b\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nЭто было комбо: мы пытались провести PHP-митап с докладом “Блокчейн, и ни слова о PHP” — параллельно с митапом про блокчейн)\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ci\u003E\u003Cb\u003EОк, про не зашедший доклад мы поняли. А какой доклад из истории сообщества ты точно рекомендовал бы каждому? \u003C\/b\u003E\u003C\/i\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nДля меня лично самым интересным остаётся “Как начать контрибьютить в PHP” от Андрея Нестера:\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cdiv class=\u0022oembed\u0022\u003E\u003Cdiv\u003E\u003Cdiv style=\u0022left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;\u0022\u003E\u003Ciframe src=\u0022https:\/\/www.youtube.com\/embed\/MSuZE5v7QBA?rel=0\u0026amp;showinfo=1\u0026amp;start=105\u0026amp;hl=en-US\u0022 style=\u0022border: 0; top: 0; left: 0; width: 100%; height: 100%; position: absolute;\u0022 allowfullscreen scrolling=\u0022no\u0022 allow=\u0022encrypted-media; accelerometer; gyroscope; picture-in-picture\u0022\u003E\u003C\/iframe\u003E\u003C\/div\u003E\u003C\/div\u003E\u003C\/div\u003E\u003Cbr\u003E\r\n\u003Ci\u003E\u003Cb\u003EА с чего все начиналось?\u003C\/b\u003E\u003C\/i\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nНасколько знаю, изначально это был внутренний митап компании EPAM, который организовал Александр Симанович. Затем митапы вышли на уровень города — и назывались PHP UG (User Group) Minsk. Кажется, это был 2013-й — первое мероприятие создано на \u003Ca href=\u0022https:\/\/www.facebook.com\/groups\/minsk.user.group\/\u0022\u003Eнашем Facebook\u003C\/a\u003E. Ну а дальше по фейсбуку легко проследить остальную историю.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ci\u003E\u003Cb\u003EКажется, что у вас самое стабильное и долгоживущее сообщество в СНГ. Как у вас получилось не сдуться и не распасться?\u003C\/b\u003E\u003C\/i\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nНа деле, мы и сдувались, и распадались. Но каждый раз в находились люди, готовые подхватить инициативу — и это круто! То есть, перемены происходили в составе организаторов, но большинству это было незаметно — для них менялся номер мероприятия. Факт — чтобы что-то организовать, нужно много времени и энергии. И, конечно, нужны заинтересованные докладчики. Так что спасибо им большое)\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch2\u003E“Код-ревью: быстрее, проще, эффективнее” (Сергей Жук, Skyeng)\u003C\/h2\u003E\u003Cbr\u003E\r\n\u003Ci\u003E\u003Cb\u003EПочему ты решил рассказать об этом?\u003C\/b\u003E\u003C\/i\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nЛюбые изменения к коду нужно ревьюить. Свои и чужие. Так что, думаю, это больная тема для многих.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/wp\/wl\/yd\/wpwlydfdjopmq-u3bmqz4ied0yg.gif\u0022 alt=\u0022image\u0022\u003E\u003Cbr\u003E\r\n\u003Ci\u003E“Не надо так”. А как — поговорим в докладе.\u003C\/i\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ci\u003E\u003Cb\u003EРасскажи историю, которая не войдет в доклад, но которая отлично иллюстрирует тему\u003C\/b\u003E\u003C\/i\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nКак-то мы рефакторили конфиги проекта. Код вообще не менялся. И когда тестировали это у себя локально, то в конфиг вставили прод доступ (API креды) от одного сервиса. А затем сделали реквест и подумали, ну, чего его ревьюить: там же только конфиги, да и тесты проходят… \u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ci\u003E\u003Cb\u003EПосле каждого доклада будет возможность задать вопрос голосом. Какой бы каверзный вопрос ты задал самому себе, если бы был слушателем на собственном докладе?)\u003C\/b\u003E\u003C\/i\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nНа работе ты ещё можешь людей как-то заставить придерживаться определённого флоу, разбивать реквесты. В open-source ситуация немного другая. Как объяснить человеку, который потратил время на твой проект, что ты хочешь, чтобы он разбил реквест на несколько логических частей?\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch2\u003E“За гранью веб-разработки” (Кирилл Несмеянов, PHP Russia)\u003C\/h2\u003E\u003Cbr\u003E\r\n\u003Ci\u003E\u003Cb\u003EВ своем докладе ты хочешь показать, что PHP не только про веб-сайты. Почему ты решил рассказать об этом?\u003C\/b\u003E\u003C\/i\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nЧто мы ценим в докладах? Уникальность! Всякие безумные вещи, которые зачастую делаются «фор фан», содержат огромное количество опыта, который сложно получить в повседневной практике. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/getpro\/habr\/post_images\/d4e\/e07\/b42\/d4ee07b42c5f9582a30cbecdee9c3ed2.gif\u0022 alt=\u0022image\u0022\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nПрикольно же, правда?)\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ci\u003E\u003Cb\u003EРасскажи историю, которая не войдет в доклад.\u003C\/b\u003E\u003C\/i\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nВнимание, анекдот:\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n — Сколько разработчиков на языке с динамической типизацией нужно, чтобы вкрутить лампочку?\u003Cbr\u003E\r\n — true\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch2\u003E“Gherkin для тестирования проектов на Drupal 8” (Андрей Степанов, минский EPAM)\u003C\/h2\u003E\u003Cbr\u003E\r\n\u003Ci\u003E\u003Cb\u003EПочему ты решил рассказать об этом?\u003C\/b\u003E\u003C\/i\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nКогда мне потребовалось организовать тестирование сайта, используя Gherkin, оказалось, что в сети не так и много информации об этом. Разобравшись, я решил восполнить этот пробел.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ci\u003E\u003Cb\u003EПосле каждого доклада будет возможность задать вопрос голосом. Какой бы каверзный вопрос ты задал самому себе, если бы был слушателем на собственном докладе?\u003C\/b\u003E\u003C\/i\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nДумаю, это было бы вопрос “Как это поможет решить мою проблему XYZ?”. Потому что на него нет четкого ответа. Если на вашем проекте есть проблема, но вы понятия не имеете, как бы ее решали, не стоит хвататься за первые озвученные кем-то решения.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch2\u003EПереписываем проект с PHP4 на PHP7 (Максим Шамаев, Skyeng)\u003C\/h2\u003E\u003Cbr\u003E\r\n\u003Ci\u003E\u003Cb\u003EВ своем докладе ты расскажешь про опыт, который получил до перехода к нам. Почему ты решил рассказать об этом?\u003C\/b\u003E\u003C\/i\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nПрошлый \u003Ca href=\u0022https:\/\/youtu.be\/zZTv7HMxKXI?t=7014\u0022\u003Eдоклад про логи\u003C\/a\u003E я делал по опыту Skyeng, и по нему легко заметить, что в крупных компаниях мы живем в мире плюс-минус актуальных технологий. Но где-то еще крутятся морально устаревшие проекты, написанные до появления в PHP внятного ООП. Старого кода боятся, ибо он страшен и неудобен, но борьба с ним часто не находит поддержки со стороны руководства. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nМоя история даст понимание, как, столкнувшись со старым проектом, превратить его во что-то современное.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cb\u003E\u003Ci\u003EРасскажи историю, которая не войдет в доклад, но отлично иллюстрирует тему.\u003C\/i\u003E\u003C\/b\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nЭто история про программиста, хотящего $5k, и проект, который никто так и не переписал. Часто слышу ее от разных людей. Что вот, мол, «звали на проект, много денег, западная компания — но старый код, PHP4, MySQL4, фронт на лапше из jQuery»… Одни и те же истории, год за годом. Сам я поделюсь как раз обратным опытом.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ci\u003E\u003Cb\u003EПосле каждого доклада будет возможность задать вопрос голосом. Какой бы каверзный вопрос ты задал самому себе, если бы был слушателем на собственном докладе?\u003C\/b\u003E\u003C\/i\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nБыл ли я уверен, что переписывание кода удастся “продать” заказчику? И понимал ли, что будет, если не получится.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch2\u003E“Создаем событийно-ориентированную архитектуру вокруг легаси-приложения” (Алексей Васильев, Райффайзенбанк)\u003C\/h2\u003E\u003Cbr\u003E\r\n\u003Ci\u003E\u003Cb\u003EВ своем докладе ты расскажешь про опыт рефакторинга экстремально старого проекта. Почему ты решил рассказать об этом?\u003C\/b\u003E\u003C\/i\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nПолгода назад мне представилась возможность прикоснуться к капсуле времени — небольшой проект будто замер в состоянии, в котором находился десять лет назад. А затем бизнес о нем вспомнил. Это мой первый доклад, и я хочу поделиться примером реализации, а также показать на этом примере пользу от Event Storming, BPMN, Messenger Component (Symfony) и API Platform.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cb\u003E\u003Ci\u003EПосле каждого доклада будет возможность задать вопрос голосом. Какой бы каверзный вопрос ты задал самому себе, если бы был слушателем на собственном докладе?\u003C\/i\u003E\u003C\/b\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nЗачем что-то писать на PHP, если все можно реализовать в Camunda?\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cb\u003Ep.s.\u003C\/b\u003E Мы уже ищем докладчиков на следующий, майский, онлайн-митап. Напишите в личные сообщения, если хотите поучаствовать. Вероятнее всего, он пройдет в конце весны, чтобы у вас было время отдохнуть от \u003Ca href=\u0022https:\/\/phprussia.ru\/moscow\/2020\u0022\u003Eбесплатного онлайнового дополнения\u003C\/a\u003E к PHP Russia. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cb\u003Ep.p.s.\u003C\/b\u003E Все известные нам PHP-активности можно найти \u003Ca href=\u0022https:\/\/github.com\/skyeng\/php-communities\u0022\u003Eздесь\u003C\/a\u003E, а наиболее полный список онлайн-митапов по разным темам и технологиям — на этом \u003Ca href=\u0022https:\/\/meetups-online.ru\/\u0022\u003Eсайте\u003C\/a\u003E.",
      "is_comments_hide": 0,
      "editor_version": 1,
      "hubs": [
        {
          "id": 19603,
          "rating": 184.6906,
          "is_profiled": false,
          "title": "Блог компании Skyeng",
          "alias": "skyeng",
          "about_small": "Крупнейшая онлайн-школа Европы. Удаленная работа",
          "about": "Skyeng",
          "count_subscribers": 10785,
          "count_posts": 94,
          "tags_string": "",
          "is_membership": false,
          "is_company": true,
          "icon": "\/\/habrastorage.org\/getpro\/habr\/company\/d09\/2f9\/6ad\/d092f96ad17042a56b4614692bd6983c.jpg",
          "path": "company\/skyeng\/"
        },
        {
          "id": 91,
          "rating": 430.8306,
          "is_profiled": true,
          "title": "Разработка веб-сайтов",
          "alias": "webdev",
          "about_small": "Делаем веб лучше",
          "about": "Веб-разработка — процесс создания веб-сайта или веб-приложения. Основными этапами процесса являются веб-дизайн, вёрстка страниц, программирование для веб на стороне клиента и сервера, а также конфигурирование веб-сервера.",
          "count_subscribers": 535724,
          "count_posts": 11960,
          "tags_string": "web development",
          "is_membership": false,
          "is_company": false,
          "flow": {
            "id": 1,
            "name": "Разработка",
            "alias": "develop",
            "url": "https:\/\/habr.com\/ru\/flows\/develop\/",
            "path": "\/flows\/develop\/"
          },
          "icon": "\/\/habrastorage.org\/getpro\/habr\/hub\/2a2\/ac7\/3dd\/2a2ac73dd5cddc6e05b47a3d502b4c0d.png",
          "path": "hub\/webdev\/"
        },
        {
          "id": 260,
          "rating": 70.6131,
          "is_profiled": true,
          "title": "PHP",
          "alias": "php",
          "about_small": "Скриптовый язык общего назначения",
          "about": "PHP (англ. PHP: Hypertext Preprocessor — «PHP: препроцессор гипертекста»; первоначально Personal Home Page Tools — «Инструменты для создания персональных веб-страниц»; произносится пи-эйч-пи) — скриптовый язык общего назначения, интенсивно применяемый для разработки веб-приложений. В настоящее время поддерживается подавляющим большинством хостинг-провайдеров и является одним из лидеров среди языков, применяющихся для создания динамических веб-сайтов. Язык и его интерпретатор разрабатываются группой энтузиастов в рамках проекта с открытым кодом. Проект распространяется под собственной лицензией, несовместимой с GNU GPL.",
          "count_subscribers": 128694,
          "count_posts": 3214,
          "tags_string": "PHP, Hypertext Preprocessor, Personal Home Page Tools",
          "is_membership": false,
          "is_company": false,
          "flow": {
            "id": 1,
            "name": "Разработка",
            "alias": "develop",
            "url": "https:\/\/habr.com\/ru\/flows\/develop\/",
            "path": "\/flows\/develop\/"
          },
          "icon": "\/\/habrastorage.org\/getpro\/habr\/hub\/98a\/7a8\/831\/98a7a88319d5644cdc627b5e04b47d0f.png",
          "path": "hub\/php\/"
        },
        {
          "id": 359,
          "rating": 548.0219,
          "is_profiled": true,
          "title": "Программирование",
          "alias": "programming",
          "about_small": "Искусство создания компьютерных программ",
          "about": "Процесс и искусство создания компьютерных программ с помощью языков программирования.",
          "count_subscribers": 273079,
          "count_posts": 11248,
          "tags_string": "программинг, кодирование, разработка, языки программирования",
          "is_membership": false,
          "is_company": false,
          "flow": {
            "id": 1,
            "name": "Разработка",
            "alias": "develop",
            "url": "https:\/\/habr.com\/ru\/flows\/develop\/",
            "path": "\/flows\/develop\/"
          },
          "icon": "\/\/habrastorage.org\/getpro\/habr\/hub\/db2\/c8f\/4a1\/db2c8f4a1974bf334d01595732f339c1.png",
          "path": "hub\/programming\/"
        },
        {
          "id": 477,
          "rating": 25.92,
          "is_profiled": true,
          "title": "Symfony",
          "alias": "symfony",
          "about_small": "Свободный фреймворк, написанный на PHP5",
          "about": "Symfony — свободный фреймворк, написанный на PHP5, который использует паттерн Model-View-Controller. Symfony предлагает быструю разработку и управление веб-приложениями, позволяет легко решать рутинные задачи веб-программиста. Работает только с PHP 5 (\u003E=5.2.4 и желательно не 5.2.9 для Symfony 1.4, \u003E=5.3.2 для Symfony2). Имеет поддержку множества баз данных (MySQL, PostgreSQL, SQLite или любая другая PDO-совместимая СУБД). Информация о реляционной базе данных в проекте должна быть связана с объектной моделью. Это можно сделать при помощи ORM инструмента. Symfony поставляется с двумя из них: Propel и Doctrine.",
          "count_subscribers": 74793,
          "count_posts": 351,
          "tags_string": "symfony, symfony framework, symfony2, symfony2 framework, symfony 2, twig",
          "is_membership": false,
          "is_company": false,
          "flow": {
            "id": 1,
            "name": "Разработка",
            "alias": "develop",
            "url": "https:\/\/habr.com\/ru\/flows\/develop\/",
            "path": "\/flows\/develop\/"
          },
          "icon": "\/\/habrastorage.org\/getpro\/habr\/hub\/999\/7ee\/481\/9997ee481b6d2834c797fb4d8e913266.png",
          "path": "hub\/symfony\/"
        }
      ],
      "flows": [
        {
          "id": 1,
          "name": "Разработка",
          "alias": "develop",
          "url": "https:\/\/habr.com\/ru\/flows\/develop\/",
          "path": "\/flows\/develop\/"
        }
      ],
      "is_recovery_mode": false,
      "reading_count": 273,
      "metadata": {
        "meta_image": "https:\/\/habrastorage.org\/webt\/hb\/rd\/cl\/hbrdcllca-9zh0kli8uspkmjpn4.jpeg"
      },
      "path": "\/company\/skyeng\/blog\/498256\/",
      "full_url": "https:\/\/habr.com\/ru\/company\/skyeng\/blog\/498256\/",
      "author": {
        "id": 57080,
        "login": "spasibo_kep",
        "time_registered": "2010-06-08T20:57:50+04:00",
        "score": 59,
        "fullname": "Алексей Корнеев",
        "specializm": "текст-директор и немножко devrel",
        "sex": 1,
        "rating": 51.3,
        "vote": 0,
        "contacts": [],
        "rating_position": 82,
        "path": "\/users\/spasibo_kep\/",
        "geo": {
          "country": "Россия",
          "region": "Москва и Московская обл.",
          "city": "Москва"
        },
        "counters": {
          "posts": 91,
          "comments": 582,
          "followed": 60,
          "followers": 85,
          "favorites": 176
        },
        "badges": [
          {
            "id": 1,
            "title": "Захабренный",
            "alias": "habred",
            "description": "Пользователь с кармой \u003E0",
            "url": null,
            "is_removable": false,
            "is_disabled": false
          },
          {
            "id": 7,
            "title": "Старожил",
            "alias": "oldresident",
            "description": "Пользователь, зарегистрированный более 3-х лет назад, с кармой больше 50",
            "url": null,
            "is_removable": false,
            "is_disabled": false
          },
          {
            "id": 102,
            "title": "Бета-тестер",
            "alias": "tester",
            "description": "Участвует в тестировании новой функциональности",
            "url": "https:\/\/habr.com\/beta\/welcome\/",
            "is_removable": false,
            "is_disabled": false
          }
        ],
        "avatar": "https:\/\/habrastorage.org\/getpro\/habr\/avatars\/f93\/992\/d3f\/f93992d3f47b0da1c89de8e08d7ccd5e.png",
        "is_readonly": false,
        "is_rc": false,
        "is_subscribed": false,
        "common_tags": [],
        "is_can_vote": true
      },
      "has_polls": false,
      "url": "https:\/\/habr.com\/ru\/company\/skyeng\/blog\/498256\/",
      "post_type": 1,
      "post_type_str": "simple",
      "vote": null,
      "is_can_vote": true,
      "voting": {
        "score": 17,
        "voteCount": {
          "total": 17,
          "positive": 17,
          "negative": 0
        },
        "vote": null,
        "reasonMap": null
      },
      "is_habred": true,
      "is_interesting": true,
      "is_favorite": false,
      "comments_new": null
    },
    {
      "id": 498260,
      "is_corporative": 0,
      "is_tutorial": false,
      "time_published": "2020-04-21T11:11:00+03:00",
      "time_interesting": "2020-04-21T11:25:41+03:00",
      "comments_count": 16,
      "score": 45,
      "votes_count": 45,
      "favorites_count": 34,
      "lang": "ru",
      "tags_string": "R, Dataiku, clickhouse, rutracker, пиратство",
      "title": "Умирает ли RuTracker? Анализируем раздачи",
      "preview_html": "\u003Cp\u003EЛюбая деятельность генерирует данные. Чем бы вы ни занимались, у вас наверняка на руках кладезь необработаной полезной информации, ну или хотя бы доступ к его источнику. \u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EСегодня побеждает тот, кто принимает решения, основываясь на объективных данных. Навыки аналитика как никогда актуальны, а наличие под рукой необходимых для этого инструментов позволяет всегда быть на шаг впереди. Это и есть подспорьем появления данной статьи.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EУ вас есть свой бизнес? Или может… хотя, не важно. Сам процесс добычи данных бесконечен и увлекателен. И даже просто хорошо покопавшись в интернете можно найти себе поле для деятельности. \u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EВот, что мы имеем сегодня – \u003Ca href=\u0022https:\/\/rutracker.net\/forum\/viewtopic.php?t=5591249\u0022 rel=\u0022nofollow\u0022\u003EНеофициальная XML-база раздач сайта\u003C\/a\u003E RuTracker.ORG. База обновляется раз в полгода и содержит в себе информацию о всех раздачах за историю существования данного торрент-трекера.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EЧто она может рассказать владельцам рутрекера? А непосредственным пособникам пиратства в интернете? Или обычному юзеру, увлекающемуся аниме, например?\u003C\/p\u003E",
      "text_cut": "Читать дальше \u0026rarr;",
      "text_html": "\u003Cp\u003EЛюбая деятельность генерирует данные. Чем бы вы ни занимались, у вас наверняка на руках кладезь необработаной полезной информации, ну или хотя бы доступ к его источнику. \u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EСегодня побеждает тот, кто принимает решения, основываясь на объективных данных. Навыки аналитика как никогда актуальны, а наличие под рукой необходимых для этого инструментов позволяет всегда быть на шаг впереди. Это и есть подспорьем появления данной статьи.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EУ вас есть свой бизнес? Или может… хотя, не важно. Сам процесс добычи данных бесконечен и увлекателен. И даже просто хорошо покопавшись в интернете можно найти себе поле для деятельности. \u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EВот, что мы имеем сегодня – \u003Ca href=\u0022https:\/\/rutracker.net\/forum\/viewtopic.php?t=5591249\u0022 rel=\u0022nofollow\u0022\u003EНеофициальная XML-база раздач сайта\u003C\/a\u003E RuTracker.ORG. База обновляется раз в полгода и содержит в себе информацию о всех раздачах за историю существования данного торрент-трекера.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EЧто она может рассказать владельцам рутрекера? А непосредственным пособникам пиратства в интернете? Или обычному юзеру, увлекающемуся аниме, например?\u003C\/p\u003E\u003Ca name=\u0022habracut\u0022\u003E\u003C\/a\u003E\u003Cbr\u003E\r\n\u003Cp\u003EПонимаете о чем я? \u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cdiv class=\u0022spoiler\u0022 role=\u0022button\u0022 tabindex=\u00220\u0022\u003E\n                        \u003Cb class=\u0022spoiler_title\u0022\u003EДисклеймер\u003C\/b\u003E\n                        \u003Cdiv class=\u0022spoiler_text\u0022\u003E\u003Cp\u003EЯ не поддерживаю пиратство в интернете и против него. Прибегаю к использованию торрентов только в случае скачивания open source продуктов.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EВыбор данной темы вызван исключительно интересом к аналитике и big data.\u003C\/p\u003E\u003C\/div\u003E\n                    \u003C\/div\u003E\u003Cbr\u003E\r\n\u003Ch3 id=\u0022stek--r-clickhouse-dataiku\u0022\u003EСтэк – R, Clickhouse, Dataiku\u003C\/h3\u003E\u003Cbr\u003E\r\n\u003Cp\u003EЛюбая аналитика проходит несколько основных этапов: извлечение данных, их подготовка и изучение данных (визуализация). Для каждого этапа — свой инструмент. Потому сегодняшний стэк:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Col\u003E\r\n\u003Cli\u003ER. Да, непопулярный и уступает Python. Но до того же чистый и приятный со своим dplyr и ggplot2. Он рожден для аналитики и не пользоваться этим – преступление.\u003C\/li\u003E\r\n\u003Cli\u003EClickhouse. Колоночная аналитическая СУБД. Наверняка слышали: “clickhouse не тормозит” или “скорость на грани фантастики”. Народ не врет, и мы в этом убедимся. В ответе за моментальность.\u003C\/li\u003E\r\n\u003Cli\u003EDataiku. Платформа для обработки, визуализации и прогнозного анализа бизнес-данных. \u003C\/li\u003E\r\n\u003C\/ol\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cstrong\u003EРевью: \u003C\/strong\u003EDataiku работает на линуксе и маке. Доступна бесплатная версия с ограничением пользователей до 3 человек. Документация \u003Ca href=\u0022https:\/\/doc.dataiku.com\/dss\/latest\/installation\/requirements.html\u0022 rel=\u0022nofollow\u0022\u003Eтут\u003C\/a\u003E.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EУдивительно, но на русскоязычных ресурсах и даже на Хабре, до сих пор нет ажиотажа или хайпа, если хотите, на тему неотразимости данной платформы. Возьмусь исправить сие недоразумение и прошу поздравить dataiku с почином.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Ch3 id=\u0022big-data--big-problems\u0022\u003EBig Data – big problems\u003C\/h3\u003E\u003Cbr\u003E\r\n\u003Cp\u003EНа руках сжатый xml–файл весом 5 Гб. Внутри – база всех раздач сайта rutracker.org, с самого начала его существования (2005 г.) и до ноября 2019 г. А это 15 лет! \u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EЗагрузить такой обьем в R Studio – ха! Не вариант. Мы люди простые, ресурсы ограничены. \u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EЗначит нужна БД, дабы подключаться и делать запросы через R. Поскольку имеем дело с Big Data выбираем Clickhouse и … не так быстро, у нас все еще xml–файл. Надо распарсить. И опять упираемся в ресурсы. \u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EТут на сцену выходит наш сегодняшний дебютант. Импортировать и подготовить такой обьем в Dataiku DSS не проблема. Но у нас будет ограничение на отображаемый семпл – 10 000 строк. Просмотреть аналитику также можно только в рамках семпла. Но для парсинга нам достаточно, вполне. Лимит на семпл можно и поднять, документация для корректной работы советует не больше 200 000 строк.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EСоздаем проект, импортируем дату. Пару минут и сырые данные готовы к предобработке.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/wq\/li\/sa\/wqlisaqdoaqntdhkrdwhjqu_qte.png\u0022 alt=\u0022image\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EПолучили данные разных форматов. Самые интересные: колонка content — с описанием каждого торрента в разметке форумного движка и несколько колонок в формате массива json.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EУдаляем пока колонку content, для сквозного анализа она будет нам в тягость. Но к ней мы еще вернемся – там есть где закопаться.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EСоздаем recipe — правила предобработки. Из соответствующих колонок достаем информацию о торренте, загружаемом файле и форуме к которому он относится. Благо датайку позволяет нам парсить json массивы. \u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/47\/mp\/th\/47mpthbzqkusyr-bkgl740kbbo4.png\u0022 alt=\u0022image\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EФорматируем дату регистрации торрента. Отмечу, ни строчки кода еще не написано, и это огромный + для dataiku.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EЗапускаем наш recipe, ждем пол часа — на выходе все красиво.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/wr\/nt\/4e\/wrnt4ecn4rtzqh_qhdaqbg7jmmo.png\u0022 alt=\u0022image\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EЗабираем csv с чистой датой и импортируем в Clickhouse.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Ch3 id=\u0022prostota-i-fantasticheskaya-skorost\u0022\u003EПростота и фантастическая скорость\u003C\/h3\u003E\u003Cbr\u003E\r\n\u003Cp\u003EДавайте протестируем Clickhouse и охватим наконец все 15 лет существования rutracker-a.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EСколько же торрентов в нашей базе?\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022plaintext\u0022\u003ESELECT ROUND(uniq(torrent_id) \/ 1000000, 2) AS Count_M\nFROM rutracker\n\n┌─Count_M─┐\n│    1.46 │\n└─────────┘\n1 rows in set. Elapsed: 0.247 sec. Processed 25.51 million rows, 204.06 MB (103.47 million rows\/s., 827.77 MB\/s.)\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\n\u003Cp\u003EИтого 1.5 млн торрентов и 25 млн строк. За 0.3 с! Попробуем запрос посложнее и понаблюдаем за скоростью.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EПосмотрим, к примеру, сколько книжек нам доступно для скачивания.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022plaintext\u0022\u003ESELECT COUNT(*) AS Count\nFROM rutracker\nWHERE (file_ext = \u0027epub\u0027) OR (file_ext = \u0027fb2\u0027) OR (file_ext = \u0027mobi\u0027)\n\n┌──Count─┐\n│ 333654 │\n└────────┘\n1 rows in set. Elapsed: 0.435 sec. Processed 25.51 million rows, 308.79 MB (58.64 million rows\/s., 709.86 MB\/s.)\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\n\u003Cp\u003E300 тыс — читать не перечитать! Но согласитесь, там есть дубли. Раз уж на то пошло узнаем их суммарный вес.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\u0022plaintext\u0022\u003ESELECT ROUND(SUM(file_size) \/ 1000000000, 2) AS Total_size_GB\nFROM rutracker\nWHERE (file_ext = \u0027epub\u0027) OR (file_ext = \u0027fb2\u0027) OR (file_ext = \u0027mobi\u0027)\n\n┌─Total_size_GB─┐\n│        625.75 │\n└───────────────┘\n1 rows in set. Elapsed: 0.296 sec. Processed 25.51 million rows, 344.32 MB (86.24 million rows\/s., 1.16 GB\/s.)\u003C\/code\u003E\u003C\/pre\u003E\u003Cbr\u003E\r\n\u003Cp\u003EИтог – мы охватили 25 млн строк менее чем за пол секунды. Приятно, не правда ли? \u003C\/p\u003E\u003Cbr\u003E\r\n\u003Ch3 id=\u0022dobycha-dannyh-v-r\u0022\u003EДобыча данных в R\u003C\/h3\u003E\u003Cbr\u003E\r\n\u003Cp\u003EПродолжим добывать данные уже в R. Подключим библиотеки, в часности DBI (для работы с БД). И установим соединение с Clickhouse.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cdiv class=\u0022spoiler\u0022 role=\u0022button\u0022 tabindex=\u00220\u0022\u003E\n                        \u003Cb class=\u0022spoiler_title\u0022\u003ER код\u003C\/b\u003E\n                        \u003Cdiv class=\u0022spoiler_text\u0022\u003E\u003Cpre\u003E\u003Ccode class=\u0022plaintext\u0022\u003Elibrary(DBI) # Для работы с БД, в.т.ч. Clickhouse\nlibrary(dplyr) # Для пайпов %\u0026gt;%\n\n# Визуализация\nlibrary(ggplot2) \nlibrary(ggrepel)\nlibrary(cowplot)\nlibrary(scales)\nlibrary(ggrepel)\n\n# Подключимся к localhost:9000 \nconnection \u0026lt;- dbConnect(RClickhouse::clickhouse(), host=\u0026quot;localhost\u0026quot;, port = 9000)\u003C\/code\u003E\u003C\/pre\u003E\u003C\/div\u003E\n                    \u003C\/div\u003E\u003Cbr\u003E\r\n\u003Cp\u003EВсе, можно делать запросы, и сразу же визуализировать. А благодаря dplyr можем легко обойтись и без переменных.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EТак умирают ли торренты? Давайте посмотрим статистику их количества на rutracker.org по годам.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cdiv class=\u0022spoiler\u0022 role=\u0022button\u0022 tabindex=\u00220\u0022\u003E\n                        \u003Cb class=\u0022spoiler_title\u0022\u003ER код\u003C\/b\u003E\n                        \u003Cdiv class=\u0022spoiler_text\u0022\u003E\u003Cpre\u003E\u003Ccode class=\u0022plaintext\u0022\u003Eyears_stat \u0026lt;- dbGetQuery(connection,\n                       \u0026quot;SELECT\n                          round(COUNT(*)\/1000000, 2) AS Files,\n                          round(uniq(torrent_id)\/1000, 2) AS Torrents,\n                          toYear(torrent_registred_at) AS Year\n                        FROM rutracker\n                        GROUP BY Year\u0026quot;)\n\nggplot(years_stat, aes(as.factor(Year), as.double(Files))) +\n  geom_bar(stat = \u0027identity\u0027, fill = \u0026quot;darkblue\u0026quot;, alpha = 0.8)+\n\n  theme_minimal() +\n  labs(title = \u0026quot;Сколько файлов было загружено на RuTracker\u0026quot;, subtitle = \u0026quot;за  2005 - 2019\\n\u0026quot;)+\n\n  theme(axis.text.x = element_text(angle=90, vjust = 0.5),\n        axis.text.y = element_text(),\n\n        axis.title.y = element_blank(),\n        axis.title.x = element_blank(),\n\n        panel.grid.major.x = element_blank(),\n        panel.grid.major.y = element_line(size = 0.9),\n        panel.grid.minor.y = element_line(size = 0.4),\n\n        plot.title = element_text(vjust = 3, hjust = 0, family = \u0026quot;sans\u0026quot;, size = 16, color = \u0026quot;#101010\u0026quot;, face = \u0026quot;bold\u0026quot;),\n        plot.caption = element_text(vjust = 3, hjust = 0, family = \u0026quot;sans\u0026quot;, size = 12, color = \u0026quot;#101010\u0026quot;, face = \u0026quot;bold\u0026quot;),\n        plot.margin = unit(c(1,0.5,1,0.5), \u0026quot;cm\u0026quot;))+\n\n    scale_y_continuous(labels = number_format(accuracy = 1, suffix = \u0026quot; млн\u0026quot;))\n\nggplot(years_stat, aes(as.factor(Year), as.integer(Torrents))) +\n  geom_bar(stat = \u0027identity\u0027, fill = \u0026quot;#008b8b\u0026quot;, alpha = 0.8)+\n\n   theme_minimal() +\n   labs(title = \u0026quot;Сколько торрентов было добавлено на RuTracker\u0026quot;, subtitle = \u0026quot;за  2005 - 2019\\n\u0026quot;, caption = \u0026quot;*Количество уникальных торрентов\u0026quot;)+\n\n   theme(axis.text.x = element_text(angle=90, vjust = 0.5),\n          axis.text.y = element_text(),\n\n          axis.title.y = element_blank(),\n          axis.title.x = element_blank(),\n\n          panel.grid.major.x = element_blank(),\n          panel.grid.major.y = element_line(size = 0.9),\n          panel.grid.minor.y = element_line(size = 0.4),\n\n          plot.title = element_text(vjust = 3, hjust = 0, family = \u0026quot;sans\u0026quot;, size = 16, color = \u0026quot;#101010\u0026quot;, face = \u0026quot;bold\u0026quot;),\n          plot.caption = element_text(vjust = -3, hjust = 1, family = \u0026quot;sans\u0026quot;, size = 9, color = \u0026quot;grey60\u0026quot;, face = \u0026quot;plain\u0026quot;),\n          plot.margin = unit(c(1,0.5,1,0.5), \u0026quot;cm\u0026quot;)) +\n\n     scale_y_continuous(labels = number_format(accuracy = 1, suffix = \u0026quot; тыс\u0026quot;))\u003C\/code\u003E\u003C\/pre\u003E\u003C\/div\u003E\n                    \u003C\/div\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/jr\/es\/uq\/jresuqlf-srnus34r0zkh5apbxc.png\u0022 alt=\u0022image\u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/au\/ez\/zy\/auezzyqwlceql1891fyflt-l8a0.png\u0022 alt=\u0022image\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EНа каждом из графиков заметно просел 2016 год. Важно отметить, что в январе 2016 официально вступило в силу решение Роскомнадзора о блокировке rutracker.org для российских пользователей. Тогда, в СМИ сообщалось о незначительном снижении посещаемости сайта, что коррелирует с нашей картиной.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EКоличество файлов последние года очевидно возрастает, при том что количество торрентов остается практически на одном уровне. Это значит что на один торрент приходится все больше возможных расширений.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EПролить свет на данную картину нам поможет статистика ТОПа расширений за весь период. \u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cdiv class=\u0022spoiler\u0022 role=\u0022button\u0022 tabindex=\u00220\u0022\u003E\n                        \u003Cb class=\u0022spoiler_title\u0022\u003ER код\u003C\/b\u003E\n                        \u003Cdiv class=\u0022spoiler_text\u0022\u003E\u003Cpre\u003E\u003Ccode class=\u0022plaintext\u0022\u003Eextention_stat \u0026lt;- dbGetQuery(connection,\n       \u0026quot;SELECT toYear(torrent_registred_at) AS Year,\n              COUNT(tracker_id)\/1000 AS Count,\n              ROUND(SUM(file_size)\/1000000000000, 2) AS Total_Size_TB,\n              file_ext\n         FROM rutracker\n         GROUP BY Year, file_ext\n         ORDER BY Year, Count\u0026quot;)\n\n# Функция получения ТОПа расширений для каждого года\nTopExt \u0026lt;- function(x, n) {\n  res_tab \u0026lt;- NULL\n  #Упустим 2005 и 2006, т.к. там мало торрентов\n  for (i in (3:15)) {\n    res_tab \u0026lt;-bind_rows(list(res_tab,\n          extention_stat %\u0026gt;% filter(Year == x[i]) %\u0026gt;%\n          arrange(desc(Count), desc(Total_Size_TB)) %\u0026gt;%\n          head(n)\n      ))\n  }\n  return(res_tab)\n}\n\nyears_list \u0026lt;- unique(extention_stat$Year)\next_data \u0026lt;- TopExt(years_list, 5)\n\nggplot(ext_data, aes(as.factor(Year), as.integer(Count),  fill = file_ext)) +\n  geom_bar(stat = \u0026quot;identity\u0026quot;,position=\u0026quot;dodge2\u0026quot;, alpha =0.8, width = 1)+\n\n  theme_minimal() +\n  labs(title = \u0026quot;Динамика ТОПа расширений файлов на RuTracker\u0026quot;, \n          subtitle = \u0026quot;за  2005 - 2019\\n\u0026quot;, \n          caption = \u0026quot;*взято ТОП-5 за каждый год\u0026quot;, fill = \u0026quot;\u0026quot;) +\n\n   theme(axis.text.x = element_text(angle=90, vjust = 0.5),\n          axis.text.y = element_text(),\n\n          axis.title.y = element_blank(),\n          axis.title.x = element_blank(),\n\n          panel.grid.major.x = element_blank(),\n          panel.grid.major.y = element_line(size = 0.9),\n          panel.grid.minor.y = element_line(size = 0.4),\n\n          legend.title = element_text(vjust = 1, hjust = -1, family = \u0026quot;sans\u0026quot;, size = 9, color = \u0026quot;#101010\u0026quot;, face = \u0026quot;plain\u0026quot;),\n          legend.position = \u0026quot;top\u0026quot;,\n\n          plot.title = element_text(vjust = 3, hjust = 0, family = \u0026quot;sans\u0026quot;, size = 16, color = \u0026quot;#101010\u0026quot;, face = \u0026quot;bold\u0026quot;),\n          plot.caption = element_text(vjust = -4, hjust = 1, family = \u0026quot;sans\u0026quot;, size = 9, color = \u0026quot;grey60\u0026quot;, face = \u0026quot;plain\u0026quot;),\n          plot.margin = unit(c(1,0.5,1,0.5), \u0026quot;cm\u0026quot;)) +\n\n     scale_y_continuous(labels = number_format(accuracy = 0.5, scale = (1\/1000), suffix = \u0026quot; млн\u0026quot;))+guides(fill=guide_legend(nrow=1))\u003C\/code\u003E\u003C\/pre\u003E\u003C\/div\u003E\n                    \u003C\/div\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/wz\/rb\/zr\/wzrbzrjrhxn-sumykz1rsrtjpe0.png\u0022 alt=\u0022image\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EИ вот ответ. Очень существенно возросло количество картинок в торрентах. Они и влияют на рост количества файлов.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EДавайте погуляем по разделам rutracker-a. Узнаем их суммарный вес и количество торрентов внутри.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cdiv class=\u0022spoiler\u0022 role=\u0022button\u0022 tabindex=\u00220\u0022\u003E\n                        \u003Cb class=\u0022spoiler_title\u0022\u003ER код\u003C\/b\u003E\n                        \u003Cdiv class=\u0022spoiler_text\u0022\u003E\u003Cpre\u003E\u003Ccode class=\u0022plaintext\u0022\u003Echapter_stat \u0026lt;- dbGetQuery(connection, \n      \u0026quot;SELECT \n             substring(forum_name, 1, position(forum_name, \u0027 -\u0027)) Chapter, \n             uniq(torrent_id) AS Count, \n             ROUND(median(file_size)\/1000000, 2) AS Median_Size_MB, \n             ROUND(max(file_size)\/1000000000) AS Max_Size_GB, \n             ROUND(SUM(file_size)\/1000000000000) AS Total_Size_TB \n        FROM rutracker WHERE Chapter NOT LIKE(\u0027\\\u0026quot;%\u0027) \n        GROUP BY Chapter \n        ORDER BY Count DESC\u0026quot;)\n\n  chapter_stat$Count \u0026lt;- as.integer(chapter_stat$Count)\n\n# Функция для агрегации по разделам\nAggChapter2 \u0026lt;- function(Chapter){\n  var_ch \u0026lt;- str(Chapter)\n  res = NULL\n  for(i in (1:22)){\n    select_str \u0026lt;-paste0(\n    \u0026quot;SELECT \n           toYear(torrent_registred_at) AS Year, \n           substring(forum_name, 1, position(forum_name, \u0027 -\u0027)) Chapter, \n           uniq(torrent_id)\/1000 AS Count, \n           ROUND(median(file_size)\/1000000, 2) AS Median_Size_MB, \n           ROUND(max(file_size)\/1000000000,2) AS Max_Size_GB, \n           ROUND(SUM(file_size)\/1000000000000,2) AS Total_Size_TB \n      FROM rutracker \n      WHERE Chapter LIKE(\u0027\u0026quot;, Chapter[i], \u0026quot;%\u0027) \n      GROUP BY Year, Chapter \n      ORDER BY Year\u0026quot;)\n    res \u0026lt;-bind_rows(list(res, dbGetQuery(connection, select_str)))\n                  }\n  return(res)\n}\n\nchapters_data \u0026lt;- AggChapter2(chapter_stat$Chapter)\n\nchapters_data$Chapter \u0026lt;- as.factor(chapters_data$Chapter)\nchapters_data$Count \u0026lt;- as.numeric(chapters_data$Count)\n\nchapters_data %\u0026gt;% group_by(Chapter)%\u0026gt;% \n\nggplot(mapping = aes(x = reorder(Chapter, Total_Size_TB), y = Total_Size_TB))+\ngeom_bar(stat = \u0026quot;identity\u0026quot;, fill=\u0026quot;darkblue\u0026quot;, alpha =0.8)+\n\n  theme(panel.grid.major.x = element_line(colour=\u0026quot;grey60\u0026quot;, linetype=\u0026quot;dashed\u0026quot;))+\n  xlab(\u0027Раздел\\n\u0027) + theme_minimal() +\n\n  labs(title = \u0026quot;Cуммарный вес разделов RuTracker-а\u0026quot;, \n          subtitle = \u0026quot;на ноябрь 2019\\n\u0026quot;)+\n  theme(axis.text.x = element_text(),\n       axis.text.y = element_text(family = \u0026quot;sans\u0026quot;, size = 9, color = \u0026quot;#101010\u0026quot;, hjust = 1, vjust = 0.5),\n\n       axis.title.y = element_text(vjust = 2.5, hjust = 0, family = \u0026quot;sans\u0026quot;, size = 9, color = \u0026quot;grey40\u0026quot;, face = \u0026quot;plain\u0026quot;),\n       axis.title.x = element_blank(),\n\n       axis.line.x  = element_line(color = \u0026quot;grey60\u0026quot;, size = 0.1, linetype = \u0026quot;solid\u0026quot;),\n\n       panel.grid.major.y = element_blank(),\n       panel.grid.major.x = element_line(size = 0.7, linetype = \u0026quot;solid\u0026quot;),\n       panel.grid.minor.x = element_line(size = 0.4, linetype = \u0026quot;solid\u0026quot;),\n\n       plot.title = element_text(vjust = 3, hjust = 1, family = \u0026quot;sans\u0026quot;, size = 16, color = \u0026quot;#101010\u0026quot;, face = \u0026quot;bold\u0026quot;),\n       plot.subtitle  = element_text(vjust = 2, hjust = 1, family = \u0026quot;sans\u0026quot;, size = 12, color = \u0026quot;#101010\u0026quot;, face = \u0026quot;plain\u0026quot;),\n       plot.caption = element_text(vjust = -3, hjust = 1, family = \u0026quot;sans\u0026quot;, size = 9, color = \u0026quot;grey60\u0026quot;, face = \u0026quot;plain\u0026quot;),\n\n       plot.margin = unit(c(1,0.5,1,0.5), \u0026quot;cm\u0026quot;))+\n   scale_y_continuous(labels = number_format(accuracy = 1, suffix = \u0026quot; ТБ\u0026quot;))+\n   coord_flip()\u003C\/code\u003E\u003C\/pre\u003E\u003C\/div\u003E\n                    \u003C\/div\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/k4\/-s\/3o\/k4-s3o12q0mibk0srj_wktehhl8.png\u0022 alt=\u0022image\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EТоп увесистых разделов вполне понятен и логичен. А вот антилидеры — Мобильные устройства и Иностранные языки — вероятно на торрентах умирают. Взглянув на распределение количества торрентов, мы в этом убедимся. Тут же, рядом расположился и раздел с Apple.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cdiv class=\u0022spoiler\u0022 role=\u0022button\u0022 tabindex=\u00220\u0022\u003E\n                        \u003Cb class=\u0022spoiler_title\u0022\u003ER код\u003C\/b\u003E\n                        \u003Cdiv class=\u0022spoiler_text\u0022\u003E\u003Cpre\u003E\u003Ccode class=\u0022plaintext\u0022\u003Echapters_data %\u0026gt;% group_by(Chapter)%\u0026gt;% \n\nggplot(mapping = aes(x = reorder(Chapter, Count), y = Count))+\n   geom_bar(stat = \u0026quot;identity\u0026quot;, fill=\u0026quot;#008b8b\u0026quot;, alpha =0.8)+\n\n   theme(panel.grid.major.x = element_line(colour=\u0026quot;grey60\u0026quot;, linetype=\u0026quot;dashed\u0026quot;))+\n   xlab(\u0027Раздел\u0027) + theme_minimal() +\n   labs(title = \u0026quot;Распределение торрентов по разделам RuTracker-а\u0026quot;, \n           subtitle = \u0026quot;на ноябрь 2019\\n\u0026quot;)+\n   theme(axis.text.x = element_text(),\n       axis.text.y = element_text(family = \u0026quot;sans\u0026quot;, size = 9, color = \u0026quot;#101010\u0026quot;, hjust = 1, vjust = 0.5),\n\n       axis.title.y = element_text(vjust = 3.5, hjust = 0, family = \u0026quot;sans\u0026quot;, size = 9, color = \u0026quot;grey40\u0026quot;, face = \u0026quot;plain\u0026quot;),\n       axis.title.x = element_blank(),\n\n       axis.line.x  = element_line(color = \u0026quot;grey60\u0026quot;, size = 0.1, linetype = \u0026quot;solid\u0026quot;),\n\n       panel.grid.major.y = element_blank(),\n       panel.grid.major.x = element_line(size = 0.7, linetype = \u0026quot;solid\u0026quot;),\n       panel.grid.minor.x = element_line(size = 0.4, linetype = \u0026quot;solid\u0026quot;),\n\n       plot.title = element_text(vjust = 3, hjust = 1, family = \u0026quot;sans\u0026quot;, size = 16, color = \u0026quot;#101010\u0026quot;, face = \u0026quot;bold\u0026quot;),\n       plot.subtitle  = element_text(vjust = 2, hjust = 1, family = \u0026quot;sans\u0026quot;, size = 12, color = \u0026quot;#101010\u0026quot;, face = \u0026quot;plain\u0026quot;),\n       plot.caption = element_text(vjust = -3, hjust = 1, family = \u0026quot;sans\u0026quot;, size = 9, color = \u0026quot;grey60\u0026quot;, face = \u0026quot;plain\u0026quot;),\n\n       plot.margin = unit(c(1,0.5,1,0.5), \u0026quot;cm\u0026quot;))+\n    scale_y_continuous(limits = c(0, 300), labels = number_format(accuracy = 1, suffix = \u0026quot; тыс\u0026quot;))+\n    coord_flip()\u003C\/code\u003E\u003C\/pre\u003E\u003C\/div\u003E\n                    \u003C\/div\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/zg\/ih\/uj\/zgihujmuomo64rn9wxvly6y-dlk.png\u0022 alt=\u0022image\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EУяснив ранее, что торренты с годами не умирают, у вас вероятно возник вопрос: а как же тогда время влияет на понятие торрент-трекера.\u003Cbr\u003E\r\nТут мы можем использовать агрегацию по разделам и просмотреть тенденции за ~15 лет.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cdiv class=\u0022spoiler\u0022 role=\u0022button\u0022 tabindex=\u00220\u0022\u003E\n                        \u003Cb class=\u0022spoiler_title\u0022\u003ER код\u003C\/b\u003E\n                        \u003Cdiv class=\u0022spoiler_text\u0022\u003E\u003Cpre\u003E\u003Ccode class=\u0022plaintext\u0022\u003Elibrary(\u0026quot;RColorBrewer\u0026quot;)\ngetPalette = colorRampPalette(brewer.pal(19, \u0026quot;Spectral\u0026quot;))\n\nchapters_data %\u0026gt;% #filter(Chapter %in% chapter_stat$Chapter[c(4,6,7,9:20)])%\u0026gt;%\n  filter(!Chapter %in% chapter_stat$Chapter[c(16, 21, 22)])%\u0026gt;%\n  filter(Year\u0026gt;=2007)%\u0026gt;%\n\nggplot(mapping = aes(x = Year, y = Count, fill = as.factor(Chapter)))+\n   geom_area(alpha =0.8, position = \u0026quot;fill\u0026quot;)+\n\n   theme_minimal() +\n   labs(title = \u0026quot;Как изменяется характер торрент-трекера\u0026quot;, \n           subtitle = \u0026quot;за ~15 лет\u0026quot;, fill = \u0026quot;Раздел\u0026quot;)+\n   theme(axis.text.x = element_text(vjust = 0.5),\n          axis.text.y = element_blank(),\n\n          axis.title.y = element_blank(),\n          axis.title.x = element_blank(),\n\n          panel.grid.major.x = element_blank(),\n          panel.grid.major.y = element_line(size = 0.9),\n          panel.grid.minor.y = element_line(size = 0.4),\n\n          plot.title = element_text(vjust = 3, hjust = 0, family = \u0026quot;sans\u0026quot;, size = 16, color = \u0026quot;#101010\u0026quot;, face = \u0026quot;bold\u0026quot;),\n          plot.caption = element_text(vjust = -3, hjust = 1, family = \u0026quot;sans\u0026quot;, size = 9, color = \u0026quot;grey60\u0026quot;, face = \u0026quot;plain\u0026quot;),\n          plot.margin = unit(c(1,1,1,1), \u0026quot;cm\u0026quot;)) +\n\n     scale_x_continuous(breaks = c(2008, 2010, 2012, 2014, 2016, 2018),expand=c(0,0)) +\n     scale_fill_manual(values = getPalette(19))\u003C\/code\u003E\u003C\/pre\u003E\u003C\/div\u003E\n                    \u003C\/div\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/m-\/l5\/2d\/m-l52d0iv16oob3yw9-eyaexs3g.png\u0022 alt=\u0022image\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EКино-пиратство на торрентах умирает — это факт. С ним за руку — Apple и мобильные устройства, которых почти и не видно.\u003Cbr\u003E\r\nПри этом, в последнее время явно возрастает количество игр и сериалов. Вероятно эта тенденция будет сохранятся. \u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EОтойдя немного в сторону, и взглянув на данные под новым углом, можно обнаружить еще пару скелетов Rutracker-a. Посмотрим-ка на тепловую карту ежедневного появления торрентов на rutracker.org.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cdiv class=\u0022spoiler\u0022 role=\u0022button\u0022 tabindex=\u00220\u0022\u003E\n                        \u003Cb class=\u0022spoiler_title\u0022\u003ER код\u003C\/b\u003E\n                        \u003Cdiv class=\u0022spoiler_text\u0022\u003E\u003Cpre\u003E\u003Ccode class=\u0022plaintext\u0022\u003Eunique_torr_per_day \u0026lt;- dbGetQuery(connection, \n          \u0026quot;SELECT toDate(torrent_registred_at) AS date, \n                          uniq(torrent_id) AS count\n           FROM rutracker \n           GROUP BY date\n           ORDER BY date\u0026quot;)\n\nunique_torr_per_day %\u0026gt;% \nggplot(aes(format(date, \u0026quot;%Y\u0026quot;), format(date, \u0026quot;%j\u0026quot;), fill = as.numeric(count)))+\n  geom_tile() +\n\n  theme_minimal() +\n  labs(title = \u0026quot;Тепловая карта пополняемости RuTracker-a\u0026quot;, \n          subtitle = \u0026quot;за ~15 лет\\n\\n\u0026quot;, \n          fill = \u0026quot;К-во уникальных торрентов \\n\u0026quot;)+\n      theme(axis.text.x = element_text(vjust = 0.5),\n          axis.text.y = element_text(),\n\n          axis.title.y = element_blank(),\n          axis.title.x = element_blank(),\n\n          panel.grid.major.y = element_blank(),\n          panel.grid.major.x = element_line(size = 0.9),\n          panel.grid.minor.x = element_line(size = 0.4),\n\n          legend.title = element_text(vjust = 0.7, hjust = -1, family = \u0026quot;sans\u0026quot;, size = 10, color = \u0026quot;#101010\u0026quot;, face = \u0026quot;plain\u0026quot;),\n          legend.position = c(0.88, 1.30),\n          legend.direction = \u0026quot;horizontal\u0026quot;,\n\n          plot.title = element_text(vjust = 3, hjust = 0, family = \u0026quot;sans\u0026quot;, size = 16, color = \u0026quot;#101010\u0026quot;, face = \u0026quot;bold\u0026quot;),\n          plot.caption = element_text(vjust = -3, hjust = 1, family = \u0026quot;sans\u0026quot;, size = 9, color = \u0026quot;grey60\u0026quot;, face = \u0026quot;plain\u0026quot;),\n          plot.margin = unit(c(1,1,1,1), \u0026quot;cm\u0026quot;))+ coord_flip(clip = \u0026quot;off\u0026quot;) +\n          scale_y_discrete(breaks = c(format(as.Date(\u0026quot;2007-01-15\u0026quot;), \u0026quot;%j\u0026quot;), \n                                      format(as.Date(\u0026quot;2007-02-15\u0026quot;), \u0026quot;%j\u0026quot;), \n                                      format(as.Date(\u0026quot;2007-03-15\u0026quot;), \u0026quot;%j\u0026quot;), \n                                      format(as.Date(\u0026quot;2007-04-15\u0026quot;), \u0026quot;%j\u0026quot;), \n                                      format(as.Date(\u0026quot;2007-05-15\u0026quot;), \u0026quot;%j\u0026quot;), \n                                      format(as.Date(\u0026quot;2007-06-15\u0026quot;), \u0026quot;%j\u0026quot;), \n                                      format(as.Date(\u0026quot;2007-07-15\u0026quot;), \u0026quot;%j\u0026quot;),\n                                      format(as.Date(\u0026quot;2007-08-15\u0026quot;), \u0026quot;%j\u0026quot;),\n                                      format(as.Date(\u0026quot;2007-09-15\u0026quot;), \u0026quot;%j\u0026quot;),\n                                      format(as.Date(\u0026quot;2007-10-15\u0026quot;), \u0026quot;%j\u0026quot;),\n                                      format(as.Date(\u0026quot;2007-11-15\u0026quot;), \u0026quot;%j\u0026quot;),\n                                      format(as.Date(\u0026quot;2007-12-15\u0026quot;), \u0026quot;%j\u0026quot;)), \n          labels = c(\u0026quot;янв\u0026quot;, \u0026quot;фев\u0026quot;, \u0026quot;мар\u0026quot;, \u0026quot;апр\u0026quot;, \u0026quot;май\u0026quot;, \u0026quot;июн\u0026quot;,\u0026quot;июл\u0026quot;, \u0026quot;авг\u0026quot;, \u0026quot;сен\u0026quot;, \u0026quot;окт\u0026quot;,\u0026quot;ноя\u0026quot;,\u0026quot;дек\u0026quot;), position = \u0027right\u0027) +\n          scale_fill_gradientn(colours = c(\u0026quot;#155220\u0026quot;, \u0026quot;#c6e48b\u0026quot;))  + \n\n       annotate(geom = \u0026quot;curve\u0026quot;, x = 16.5, y = 119, xend = 13, yend = 135, \n                   curvature = .3, color = \u0026quot;grey15\u0026quot;, arrow = arrow(length = unit(2, \u0026quot;mm\u0026quot;))) +\n       annotate(geom = \u0026quot;text\u0026quot;, x = 16, y = 45, \nlabel = \u0026quot;Релиз приложения для борьбы с «замедлителем торрентов» Роскомнадзора\\n\u0026quot;, \nhjust = \u0026quot;left\u0026quot;, vjust = -0.75, color = \u0026quot;grey25\u0026quot;) + \n\n       guides(x.sec = guide_axis_label_trans(~.x)) + \n       annotate(\u0026quot;rect\u0026quot;, xmin = 11.5, xmax = 12.5, ymin = 1, ymax = 366,\n                       alpha = .0, colour = \u0026quot;white\u0026quot;, size = 0.1) + \n       geom_segment(aes(x = 11.5, y = 25, xend = 12.5, yend = 25, colour = \u0026quot;segment\u0026quot;), \n                                  show.legend = FALSE)\u003C\/code\u003E\u003C\/pre\u003E\u003C\/div\u003E\n                    \u003C\/div\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/ws\/i_\/5d\/wsi_5dr_fb2mbhhuxn4fkyheh1c.png\u0022 alt=\u0022image\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EСразу бросается в глаза всплеск активности в 2017 году. (ред. В мае того года на GitHub было выложено приложение для борьбы с попытками российских властей замедлять скорость скачивания файлов). А вот блокировка сайта в 2016 году отнюдь не очевидна, т.к существенно не повлияла на активность добавления торрентов.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EЗакопаться можно и хочется в любую из найденых выше закономерностей. Добывать данные можно до бесконечности. А писать и читать статью – нет.\u003Cbr\u003E\r\nДавайте еще немного поиграем, вернем весьма информативную колонку content и посмотрим что нам расскажут данные, к примеру, об аниме за последние 15 лет.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Ch3 id=\u0022eyo-velichestvo-dataiku\u0022\u003EЕё величество Dataiku\u003C\/h3\u003E\u003Cbr\u003E\r\n\u003Cp\u003EСоздаем новую ветку, оставляем все видео файлы касательно аниме и парсим колонку с описанием торрентов: вытягиваем режиссера, страну, жанр, продолжительность и год выхода анимешки. \u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/ov\/ed\/-v\/oved-vuifw7hf-hfrna6tevqsqw.png\u0022 alt=\u0022image\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EОтфильтруем картинки, субтитры и инфо-файлы. Также поднимем лимит отображаемого семпла. Пару кликов – все красиво.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/gk\/d1\/dl\/gkd1dl_2xckgk9dqzbljge9j4ls.png\u0022 alt=\u0022image\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EПредлагаю взглянуть на года выхода наших анимешек и в тоже время потрогать удобнейшую функцию датайку – внутриколоночную аналитику.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/j-\/_8\/y6\/j-_8y6mysg-7fu5nu-rmsffk0xm.png\u0022 alt=\u0022image\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EРезюмирую: на rutracker.org доступно для скачивания аниме снятое за последние пол века, если быть точнее, уникальных годов выпуска — 60. При этом наиболее продуктивными оказались 2009 — 2014 года.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EПлатформа также позволяет моментально визуализировать данные. И при этом, напомню, никакого кода. Просто выбираем нужные фильтры.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EК примеру, агрегируем Японию и возьмем топ самых продуктивных режиссеров. Получаем тепловую карту их активности простым перетаскиванием переменных.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/nl\/7_\/rn\/nl7_rnzznysxvytub5opqvaxoj0.png\u0022 alt=\u0022image\u0022\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EК чему я веду, dataiku — отличный инструмент для аналитика любого уровня. Импорт, подготовка, анализ и визуализация данных реализуется как кодом (R, Python), так и кликаньем мышки. Но это уже совсем другая история и отличная тема для следующей статьи.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EА пока, возвращаясь к RuTracker, констатируем: торренты не умирают, даже в условиях блокировок. Сама же база раздач невероятно емкая и может ответить еще не на один вопрос. Могу пообещать сделать больше аналитики, при проявленном интересе. Предлагайте свои гипотезы в комментариях.\u003C\/p\u003E",
      "is_comments_hide": 0,
      "editor_version": 1,
      "hubs": [
        {
          "id": 7152,
          "rating": 93.5871,
          "is_profiled": true,
          "title": "Data Mining",
          "alias": "data_mining",
          "about_small": "Глубинный анализ данных",
          "about": "Data Mining — собирательное название, используемое для обозначения совокупности методов обнаружения в данных ранее неизвестных, нетривиальных, практически полезных и доступных интерпретации знаний, необходимых для принятия решений в различных сферах человеческой деятельности. Термин введён Григорием Пятецким-Шапиро в 1989 году.",
          "count_subscribers": 100773,
          "count_posts": 1306,
          "tags_string": "data mining, knowledge discovery, web mining, дата майнинг",
          "is_membership": false,
          "is_company": false,
          "flow": {
            "id": 1,
            "name": "Разработка",
            "alias": "develop",
            "url": "https:\/\/habr.com\/ru\/flows\/develop\/",
            "path": "\/flows\/develop\/"
          },
          "icon": "\/\/habrastorage.org\/getpro\/habr\/hub\/741\/cc4\/8fe\/741cc48fe311046e166f158b180b9b61.png",
          "path": "hub\/data_mining\/"
        },
        {
          "id": 17939,
          "rating": 22.0404,
          "is_profiled": true,
          "title": "R",
          "alias": "r",
          "about_small": "Язык для статистической обработки данных",
          "about": "R — язык программирования для статистической обработки данных и работы с графикой, а также свободная программная среда вычислений с открытым исходным кодом в рамках проекта GNU. Язык создавался как аналогичный языку S, разработанному в Bell Labs, и является его альтернативной реализацией, хотя между языками есть существенные отличия, но в большинстве своём код на языке S работает в среде R. Изначально R был разработан сотрудниками статистического факультета Оклендского университета Россом Айхэкой (англ. Ross Ihaka) и Робертом Джентлменом (англ. Robert Gentleman) (первая буква их имён — R), на момент 2011 года язык и среда поддерживаются и развиваются организацией R Foundation.",
          "count_subscribers": 54709,
          "count_posts": 285,
          "tags_string": "R, rlang",
          "is_membership": false,
          "is_company": false,
          "flow": {
            "id": 1,
            "name": "Разработка",
            "alias": "develop",
            "url": "https:\/\/habr.com\/ru\/flows\/develop\/",
            "path": "\/flows\/develop\/"
          },
          "icon": "\/\/habrastorage.org\/getpro\/habr\/hub\/ac6\/da4\/821\/ac6da4821bbfeec1c0e2331385b51820.png",
          "path": "hub\/r\/"
        },
        {
          "id": 18202,
          "rating": 57.3738,
          "is_profiled": false,
          "title": "Визуализация данных",
          "alias": "data_visualization",
          "about_small": "Облекаем данные в красивую оболочку",
          "about": "Визуализация данных — это представление данных в виде, который обеспечивает наиболее эффективную работу человека по их изучению. Визуализация данных находит широкое применение в научных и статистических исследованиях (в частности, в прогнозировании, интеллектуальном анализе данных, бизнес-анализе), в педагогическом дизайне для обучения и тестирования, в новостных сводках и аналитических обзорах. Визуализация данных связана с визуализацией информации, инфографикой, визуализацией научных данных, разведочным анализом данных и статистической графикой.",
          "count_subscribers": 64815,
          "count_posts": 738,
          "tags_string": "визуализация данных, data visualization",
          "is_membership": false,
          "is_company": false,
          "flow": {
            "id": 1,
            "name": "Разработка",
            "alias": "develop",
            "url": "https:\/\/habr.com\/ru\/flows\/develop\/",
            "path": "\/flows\/develop\/"
          },
          "icon": "\/\/habrastorage.org\/getpro\/habr\/hub\/54f\/6d4\/c42\/54f6d4c42b588a4d0937f0fd8dfef39e.png",
          "path": "hub\/data_visualization\/"
        }
      ],
      "flows": [
        {
          "id": 1,
          "name": "Разработка",
          "alias": "develop",
          "url": "https:\/\/habr.com\/ru\/flows\/develop\/",
          "path": "\/flows\/develop\/"
        }
      ],
      "reading_count": 8231,
      "metadata": {
        "meta_image": ""
      },
      "path": "\/post\/498260\/",
      "full_url": "https:\/\/habr.com\/ru\/post\/498260\/",
      "author": {
        "id": 2341691,
        "login": "m-pilipenko",
        "time_registered": "2020-04-20T17:20:37+03:00",
        "score": 8,
        "fullname": null,
        "specializm": null,
        "sex": 0,
        "rating": 36,
        "vote": 0,
        "contacts": [],
        "rating_position": 144,
        "path": "\/users\/m-pilipenko\/",
        "geo": {
          "country": null,
          "region": null,
          "city": null
        },
        "counters": {
          "posts": 1,
          "comments": 1,
          "followed": 0,
          "followers": 3,
          "favorites": 0
        },
        "badges": [
          {
            "id": 1,
            "title": "Захабренный",
            "alias": "habred",
            "description": "Пользователь с кармой \u003E0",
            "url": null,
            "is_removable": false,
            "is_disabled": false
          }
        ],
        "avatar": "https:\/\/habr.com\/images\/avatars\/stub-user-middle.gif",
        "is_readonly": false,
        "is_rc": false,
        "is_subscribed": false,
        "common_tags": [],
        "is_can_vote": true
      },
      "has_polls": false,
      "url": "https:\/\/habr.com\/ru\/post\/498260\/",
      "post_type": 11,
      "post_type_str": "sandbox",
      "vote": null,
      "is_can_vote": true,
      "voting": {
        "score": 45,
        "voteCount": {
          "total": 45,
          "positive": 45,
          "negative": 0
        },
        "vote": null,
        "reasonMap": null
      },
      "is_habred": true,
      "is_interesting": true,
      "is_favorite": false,
      "is_recovery_mode": false,
      "comments_new": 16
    },
    {
      "id": 498092,
      "is_corporative": 1,
      "is_tutorial": false,
      "time_published": "2020-04-21T11:08:35+03:00",
      "time_interesting": null,
      "comments_count": 0,
      "score": 3,
      "votes_count": 3,
      "favorites_count": 7,
      "lang": "ru",
      "tags_string": "нейронные сети, машинное обучение, распознавание паспорта, распознавание текста, распознавание изображений, обучение нейронных сетей, распознавание документов",
      "title": "Альтернативный метод классификации поля «пол» паспорта РФ с помощью нейронной сети",
      "preview_html": "\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/wu\/a5\/fx\/wua5fxeyns6u0fcub16ucxnciiu.png\u0022\u003E\u003Cbr\u003E\r\n\u003Cp\u003EИсточник: \u003Ca href=\u0022https:\/\/wiki.loginom.ru\/articles\/clustering.html\u0022 rel=\u0022nofollow\u0022\u003Ehttps:\/\/wiki.loginom.ru\/articles\/clustering.html\u003C\/a\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EЗадача распознавания текста не теряет своей актуальности на протяжении последних десятилетий. А сейчас, в период повсеместного введения дистанционного оформления документов, не обойтись без процедуры идентификации личности.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EКлассическая процедура распознавания текста включает в себя его локализацию, сегментацию и непосредственно распознавание. Методы, использующие сегментацию текста на символы, довольно популярны и хорошо изучены. Однако существуют такие виды текста, где сегментация на символы становится настоящим испытанием. Например, арабская и индийская письменности. Кроме того, различные повреждения изображений текста также затрудняют его сегментацию. Очевидным решением при ограниченном множестве слов является распознавание их целиком, без разбора на символы. При условии наличия полного словаря с этой задачей отлично справляются обычные классифицирующие нейронные сети. Но что же делать в случае, если словарь достаточно большой или вовсе не известен на этапе обучения?\u003C\/p\u003E",
      "text_cut": "Читать дальше \u0026rarr;",
      "text_html": "\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/wu\/a5\/fx\/wua5fxeyns6u0fcub16ucxnciiu.png\u0022\u003E\u003Cbr\u003E\r\n\u003Cp\u003EИсточник: \u003Ca href=\u0022https:\/\/wiki.loginom.ru\/articles\/clustering.html\u0022\u003Ehttps:\/\/wiki.loginom.ru\/articles\/clustering.html\u003C\/a\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EЗадача распознавания текста не теряет своей актуальности на протяжении последних десятилетий. А сейчас, в период повсеместного введения дистанционного оформления документов, не обойтись без процедуры идентификации личности.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EКлассическая процедура распознавания текста включает в себя его локализацию, сегментацию и непосредственно распознавание. Методы, использующие сегментацию текста на символы, довольно популярны и хорошо изучены. Однако существуют такие виды текста, где сегментация на символы становится настоящим испытанием. Например, арабская и индийская письменности. Кроме того, различные повреждения изображений текста также затрудняют его сегментацию. Очевидным решением при ограниченном множестве слов является распознавание их целиком, без разбора на символы. При условии наличия полного словаря с этой задачей отлично справляются обычные классифицирующие нейронные сети. Но что же делать в случае, если словарь достаточно большой или вовсе не известен на этапе обучения?\u003C\/p\u003E\u003Ca name=\u0022habracut\u0022\u003E\u003C\/a\u003E\u003Cbr\u003E\r\n\u003Cp\u003EДля решения этой задачи мы предлагаем использовать метрические нейронные сети, они же энкодеры, они же кодировщики. В отличие от классифицирующих нейронных сетей, метрические в качестве ответа возвращают не набор оценок каждого элемента заранее заданного алфавита, а вектор-дескриптор. Иными словами, мы получаем координаты входного объекта в выходном пространстве.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EЧтобы по ответу метрической сети определить, к какому из известных классов относится входной объект, его описание сравнивается с описаниями “эталонных” представителей классов, которые формируются после обучения. Тогда самый близкий по некоторой метрике (отсюда и пошло название) эталон и определит класс входного объекта.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EБольшим преимуществом такого вида сетей, безусловно, является то, что пространство, которое мы получаем на выходе, дает большой простор для анализа. По расположению объектов можно судить о схожести классов между собой. Кроме этого, в отличие от обычных классифицирующих сетей, процедура добавления новых классов в словарь метрической сети не требует запуска обучения “с нуля”. Достаточно сформировать описания новых классов по нескольким их представителям с помощью обученной ранее сети.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EВ данной статье мы продемонстрируем применимость метрических сетей для задачи распознавания слов, а также приведем сравнение характеристик их работы с характеристиками работы классифицирующих ИНС. \u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EДля обучения метрических сетей используется сиамская архитектура: пара ветвей с идентичными слоями и весами[1]. На последнем слое в такой архитектуре происходит сравнение векторов признаков, полученных от обеих ветвей. Как правило, на вход такой сети подается пара объектов, а также метка, которая обозначает принадлежность объектов к одному или к разным классам. Таким образом, после обучения точки выходного пространства, соответствующие объектам из одного класса, будут находиться ближе, чем точки, соответствующие объектам из разных классов.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cdiv style=\u0022text-align:center;\u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/_j\/yi\/kn\/_jyiknv4w6aec32spkyfiii3wio.png\u0022\u003E\u003C\/div\u003E\u003Cbr\u003E\r\n\u003Cp\u003EВажно отметить, что такая архитектура используется лишь для обучения, непосредственно для распознавания применяется только одна ветвь: на вход приходит объект, а на выходе получается соответствующая ему точка в выходном пространстве.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Ch2 id=\u0022dannye\u0022\u003EДанные\u003C\/h2\u003E\u003Cbr\u003E\r\n\u003Cp\u003EДля того, чтобы определить, подходит ли метрическая сеть для распознавания целых слов, мы провели несколько экспериментов, сравнив характеристики работы метрической и классифицирующей сетей на примере распознавания поля “пол” в паспорте гражданина РФ. Здесь всего два класса: “М” и “Ж”, однако вариантов заполнения поля оказалось чуть больше — по 6 на каждый класс. В результате получился такой словарь:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cdiv class=\u0022scrollable-table\u0022\u003E\u003Ctable\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003EМУЖ\u003C\/td\u003E\r\n\u003Ctd\u003EМУЖ.\u003C\/td\u003E\r\n\u003Ctd\u003Eмуж\u003C\/td\u003E\r\n\u003Ctd\u003Eмуж.\u003C\/td\u003E\r\n\u003Ctd\u003EМуж.\u003C\/td\u003E\r\n\u003Ctd\u003EМУЖСКОЙ\u003C\/td\u003E\r\n\u003C\/tr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003EЖЕН\u003C\/td\u003E\r\n\u003Ctd\u003EЖЕН.\u003C\/td\u003E\r\n\u003Ctd\u003Eжен\u003C\/td\u003E\r\n\u003Ctd\u003Eжен.\u003C\/td\u003E\r\n\u003Ctd\u003EЖен.\u003C\/td\u003E\r\n\u003Ctd\u003EЖЕНСКИЙ\u003C\/td\u003E\r\n\u003C\/tr\u003E\r\n\u003C\/table\u003E\u003C\/div\u003E\u003Cbr\u003E\r\n\u003Cp\u003EДля наших экспериментов в качестве обучающих мы взяли данные, сгенерированные искусственно [2] по этому словарю. Каждое изображение содержало одно из слов и сопровождалось меткой номера варианта. Чтобы максимально приблизить данные к натуральным, полученным в неконтролируемых условиях съемки, мы применили к ним ряд искажений: смаз, гауссово размытие, проективные искажения. Всего получилось 285421 изображения, из них 142515 для женского пола и 142906 для мужского. На рисунке ниже можно увидеть примеры\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cdiv style=\u0022text-align:center;\u0022\u003E\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/kq\/cl\/kf\/kqclkfna1xrgsi_gzhxoqdobase.png\u0022\u003E\u003C\/div\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u0026nbsp;\u003Cbr\u003E\r\nДля обучения классифицирующей сети нам потребовалось сгруппировать обучающие данные по двум классам в соответствии с полом который они обозначают: по 6 вариантов на каждый. Метрическая же сеть должна уметь различать входные изображения, относящиеся к разным классам. Поэтому для ее обучения мы сформировали 1500024 пар изображений и пометили их в соответствии с тем, отражают ли они один и тот же вариант написания (“0”, если один вариант, “1” — разные). \u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EВ качестве тестовой выборки ввиду отсутствия в общем доступе изображений настоящих паспортов мы использовали сгенерированные синтетические данные, но с использованием дополнительных фонов, которые имитировали наличие подчеркиваний и статических текстов, характерных для настоящих изображений. Всего мы сгенерировали 10000 изображений, поровну каждого класса. Кроме этого, к этим изображениям были применены дополнительные раздутия, имитирующие искажения, возможные в случае получения изображения с малоразмерных цифровых камер и со сканеров.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Ch2 id=\u0022ispolzuemye-modeli-obucheniya\u0022\u003EИспользуемые модели обучения\u003C\/h2\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cem\u003EКлассифицирующая сеть\u003C\/em\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EВ качестве классифицирующей мы взяли глубокую сверточную сеть. На выходе у такой сети двухэлементный вектор с оценками вероятностей принадлежности входного объекта к итоговым классам. Функция ошибки классифицирующей сети рассчитывалась по формуле:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/lv\/7x\/uj\/lv7xujwmrexcjg7mdo79n5ixm5c.png\u0022 width=\u0022140\u0022\u003E\u003Cbr\u003E\r\n\u003Cp\u003Eгде \u003Cem\u003EM\u003C\/em\u003E — размер алфавита сети, \u003Cem\u003Ep\u003C\/em\u003E\u003Csub\u003E\u003Cem\u003Ei\u003C\/em\u003E\u003C\/sub\u003E — идеальная оценка \u003Cem\u003Ei\u003C\/em\u003E-ого класса, а \u003Cem\u003Ee\u003C\/em\u003E\u003Csub\u003E\u003Cem\u003Ei\u003C\/em\u003E\u003C\/sub\u003E — оценка \u003Cem\u003Ei\u003C\/em\u003E-ого класса сетью.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cem\u003EМетрическая сеть\u003C\/em\u003E\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EИсследуемая метрическая сеть переводит входные объекты в десятимерное пространство. Размерность выходного пространства была выбрана эмпирически.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EФункция ошибки метрической сети:\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cimg src=\u0022https:\/\/habrastorage.org\/webt\/ah\/_u\/zd\/ah_uzdzdwdlfcjvmwty00ot9mto.png\u0022 width=\u0022282\u0022\u003E\u003Cbr\u003E\r\n\u003Cp\u003Eгде \u003Cem\u003Ep\u003C\/em\u003E-значение, указывающие на принадлежность входок одному и тому же классу, \u003Cem\u003Ee\u003C\/em\u003E — вектор разности выходных векторов ветвей, α — порог, начиная с которого увеличение расстояния между разными классами не уменьшает итоговую ошибку. Параметр α вводится для того, чтобы кластеры выходного пространства не оказались равноудаленными друг от друга, потому что в данной задаче этого не нужно, и более того, не обязательно возможно.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Ch2 id=\u0022eksperimenty\u0022\u003EЭксперименты\u003C\/h2\u003E\u003Cbr\u003E\r\n\u003Cp\u003EВ ходе первого этапа эксперимента было обучено две сети (метрическая и классифицирующая), решающих задачу распознавания поля “пол” на изображениях паспорта гражданина РФ. Архитектура классифицирующей сети представлена в таблице\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cdiv class=\u0022scrollable-table\u0022\u003E\u003Ctable\u003E\r\n\u003Cthead\u003E\r\n\u003Ctr\u003E\r\n\u003Cth\u003E№ слоя\u003C\/th\u003E\r\n\u003Cth\u003EТип\u003C\/th\u003E\r\n\u003Cth\u003EОписание\u003C\/th\u003E\r\n\u003C\/tr\u003E\r\n\u003C\/thead\u003E\r\n\u003Ctbody\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003E1\u003C\/td\u003E\r\n\u003Ctd\u003EСвёрточный\u003C\/td\u003E\r\n\u003Ctd\u003E4 фильтра 3х3, без отступов, шаг фильтра 1х1\u003C\/td\u003E\r\n\u003C\/tr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003E2\u003C\/td\u003E\r\n\u003Ctd\u003EСвёрточный\u003C\/td\u003E\r\n\u003Ctd\u003E8 фильтров 5х5, отступ 2х2, шаг фильтра 2х2\u003C\/td\u003E\r\n\u003C\/tr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003E3\u003C\/td\u003E\r\n\u003Ctd\u003EСвёрточный\u003C\/td\u003E\r\n\u003Ctd\u003E8 фильтров 3х3, отступ 1х1, шаг фильтра 1х1\u003C\/td\u003E\r\n\u003C\/tr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003E4\u003C\/td\u003E\r\n\u003Ctd\u003EСвёрточный\u003C\/td\u003E\r\n\u003Ctd\u003E12 фильтров 5х5, отступ 2х2, шаг фильтра 2х2\u003C\/td\u003E\r\n\u003C\/tr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003E5\u003C\/td\u003E\r\n\u003Ctd\u003EСвёрточный\u003C\/td\u003E\r\n\u003Ctd\u003E12 фильтров 3х3, отступ 1х1, шаг фильтра 1х1\u003C\/td\u003E\r\n\u003C\/tr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003E6\u003C\/td\u003E\r\n\u003Ctd\u003EСвёрточный\u003C\/td\u003E\r\n\u003Ctd\u003E12 фильтров 3х3, отступ 1х1, шаг фильтра 1х1\u003C\/td\u003E\r\n\u003C\/tr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003E7\u003C\/td\u003E\r\n\u003Ctd\u003EПолносвязный\u003C\/td\u003E\r\n\u003Ctd\u003E\u003C\/td\u003E\r\n\u003C\/tr\u003E\r\n\u003C\/tbody\u003E\r\n\u003C\/table\u003E\u003C\/div\u003E\u003Cbr\u003E\r\n\u003Cp\u003EТакой же архитектурой обладала и каждая из ветвей сиамской сети. Видно, что при фиксированном размере алфавита, основным отличием сетей является лишь метод обучения, а вместе с ним — свойства ответа. По выходу классифицирующей сети нельзя сказать, как сильно отличаются классы исходного алфавита, в то время как это хорошо видно по кластерам выходного пространства метрической сети.\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EВторым этапом мы решили облегчить архитектуры, сократив количество сверточных слоев и удвоив шаги фильтров на последнем слое (см. таблицу ниже).\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cdiv class=\u0022scrollable-table\u0022\u003E\u003Ctable\u003E\r\n\u003Cthead\u003E\r\n\u003Ctr\u003E\r\n\u003Cth\u003E№ слоя\u003C\/th\u003E\r\n\u003Cth\u003EТип\u003C\/th\u003E\r\n\u003Cth\u003EОписание\u003C\/th\u003E\r\n\u003C\/tr\u003E\r\n\u003C\/thead\u003E\r\n\u003Ctbody\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003E1\u003C\/td\u003E\r\n\u003Ctd\u003EСвёрточный\u003C\/td\u003E\r\n\u003Ctd\u003E4 фильтра 3х3, без отступов, шаг фильтра 1х1\u003C\/td\u003E\r\n\u003C\/tr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003E2\u003C\/td\u003E\r\n\u003Ctd\u003EСвёрточный\u003C\/td\u003E\r\n\u003Ctd\u003E8 фильтров 5х5, отступ 2х2, шаг фильтра 2х2\u003C\/td\u003E\r\n\u003C\/tr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003E3\u003C\/td\u003E\r\n\u003Ctd\u003EСвёрточный\u003C\/td\u003E\r\n\u003Ctd\u003E8 фильтров 3х3, отступ 1х1, шаг фильтра 2х2\u003C\/td\u003E\r\n\u003C\/tr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003E4\u003C\/td\u003E\r\n\u003Ctd\u003EПолносвязный\u003C\/td\u003E\r\n\u003Ctd\u003E\u003C\/td\u003E\r\n\u003C\/tr\u003E\r\n\u003C\/tbody\u003E\r\n\u003C\/table\u003E\u003C\/div\u003E\u003Cbr\u003E\r\n\u003Cp\u003EТак нам удалось с незначительными потерями в качестве уменьшить размер классифицирующей сети практически в 3 раза. Данные сети предполагается использовать в том числе и в мобильных приложениях, а это тот случай, когда размер имеет значение. \u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cp\u003EНа основании тестовой выборки мы провели замеры качества распознавания обоих типов сетей с тяжелыми и легкими архитектурами. Под качеством подразумевается точность распознавания, т.е. отношение числа верно классифицированных объектов к объему тестовой выборки. Результаты замеров представлены в таблице\u003C\/p\u003E\u003Cbr\u003E\r\n\u003Cdiv class=\u0022scrollable-table\u0022\u003E\u003Ctable\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003E\u0026nbsp;\u003C\/td\u003E\r\n\u003Ctd\u003EТяжёлая архитектура\u003C\/td\u003E\r\n\u003Ctd\u003EЛёгкая архитектура\u003C\/td\u003E\r\n\u003C\/tr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003EКлассифицирующая\u003C\/td\u003E\r\n\u003Ctd\u003E98.36%\u003C\/td\u003E\r\n\u003Ctd\u003E98.23%\u003C\/td\u003E\r\n\u003C\/tr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003EМетрическая\u003C\/td\u003E\r\n\u003Ctd\u003E98.05%\u003C\/td\u003E\r\n\u003Ctd\u003E97.86%\u003C\/td\u003E\r\n\u003C\/tr\u003E\r\n\u003C\/table\u003E\u003C\/div\u003E\u003Cbr\u003E\r\n\u003Cp\u003EВидно, что метрические сети показывают практически такое же качество распознавания, как и классифицирующие. При этом первые обладают рядом дополнительных свойств, которые позволяют применять их для более широкого класса задач, в частности, задач распознавания по неполному словарю. \u003C\/p\u003E\u003Cbr\u003E\r\n\u003Ch2 id=\u0022zaklyuchenie\u0022\u003EЗаключение\u003C\/h2\u003E\u003Cbr\u003E\r\n\u003Cp\u003EСегодня нами было рассмотрено два вида сетей — обычные классифицирующие и метрические. Качество классификации у них практически одинаковое, но благодаря свойствам ответа метрические сети имеют много других преимуществ. Такие сети пригодны для распознавания слов даже в том случае, когда не весь словарь был представлен в обучающей выборке. В то время как классифицирующую сеть придется обучить заново для добавления новых классов, метрической достаточно показать несколько изображений новых элементов словаря, чтоб построить их описания. Кроме того, ответ метрической сети позволяет судить о сходстве различных классов исходя из позиций векторов-описаний объектов в результирующем пространстве. \u003C\/p\u003E\u003Cbr\u003E\r\n\u003Ch2 id=\u0022literatura\u0022\u003EЛитература\u003C\/h2\u003E\u003Cbr\u003E\r\n\u003Col\u003E\r\n\u003Cli\u003EKoch G., Zemel R., Salakhutdinov R. Siamese Neural Networks for One-shot Image Recognition. Proceedings of the 32 International Conference on Machine Learning. 2015. V. 2. 8 p.\u003C\/li\u003E\r\n\u003Cli\u003EChernyshova Y., Gayer A., Sheshkus A. Generation method of synthetic training data for mobile OCR system. Proc. SPIE 10696, Tenth International Conference on Machine Vision (ICMV 2017). 2018. P. 1-7. DOI: 10.1117\/12.2310119.\u003C\/li\u003E\r\n\u003C\/ol\u003E",
      "is_comments_hide": 0,
      "editor_version": 1,
      "hubs": [
        {
          "id": 19459,
          "rating": 122.5409,
          "is_profiled": false,
          "title": "Блог компании Smart Engines",
          "alias": "smartengines",
          "about_small": "Обработка изображений, распознавание в видеопотоке",
          "about": "Smart Engines",
          "count_subscribers": 198,
          "count_posts": 48,
          "tags_string": "",
          "is_membership": false,
          "is_company": true,
          "icon": "\/\/habrastorage.org\/getpro\/habr\/company\/439\/17f\/3a4\/43917f3a42181b24938574547931179a.png",
          "path": "company\/smartengines\/"
        },
        {
          "id": 8000,
          "rating": 200.3577,
          "is_profiled": true,
          "title": "Алгоритмы",
          "alias": "algorithms",
          "about_small": "Все об алгоритмах",
          "about": "Пишем про полезные и не очень алгоритмы, а также изучаем уже существующие.",
          "count_subscribers": 256771,
          "count_posts": 3653,
          "tags_string": "алгоритм, алгоритмы, задачки, решения, математика, программирование",
          "is_membership": false,
          "is_company": false,
          "flow": {
            "id": 1,
            "name": "Разработка",
            "alias": "develop",
            "url": "https:\/\/habr.com\/ru\/flows\/develop\/",
            "path": "\/flows\/develop\/"
          },
          "icon": "\/\/habrastorage.org\/getpro\/habr\/hub\/61e\/bf9\/7b0\/61ebf97b08494e41ad7b7cad1e0aacc7.png",
          "path": "hub\/algorithms\/"
        },
        {
          "id": 17175,
          "rating": 140.3367,
          "is_profiled": true,
          "title": "Обработка изображений",
          "alias": "image_processing",
          "about_small": "Работаем с фото и видео",
          "about": "Обработка изображений — любая форма обработки информации, для которой входные данные представлены изображением, например, фотографиями или видеокадрами. Обработка изображений может осуществляться как для получения изображения на выходе (например, подготовка к полиграфическому тиражированию, к телетрансляции и т. д.), так и для получения другой информации (например, распознание текста, подсчёт числа и типа клеток в поле микроскопа и т. д.). Кроме статичных двухмерных изображений, обрабатывать требуется также изображения, изменяющиеся со временем, например, видео.",
          "count_subscribers": 100053,
          "count_posts": 1368,
          "tags_string": "image, processing, обработка изобращений, imagemagic, opencv, gd",
          "is_membership": false,
          "is_company": false,
          "flow": {
            "id": 1,
            "name": "Разработка",
            "alias": "develop",
            "url": "https:\/\/habr.com\/ru\/flows\/develop\/",
            "path": "\/flows\/develop\/"
          },
          "icon": "\/\/habrastorage.org\/getpro\/habr\/hub\/fb7\/a4a\/8d3\/fb7a4a8d37cb9eaf0d1fc8e62c3bde1a.png",
          "path": "hub\/image_processing\/"
        },
        {
          "id": 19439,
          "rating": 240.9343,
          "is_profiled": true,
          "title": "Машинное обучение",
          "alias": "machine_learning",
          "about_small": "Основа искусственного интеллекта",
          "about": "Машинное обучение — обширный подраздел искусственного интеллекта, изучающий методы построения моделей, способных обучаться, и алгоритмов для их построения и обучения.",
          "count_subscribers": 34457,
          "count_posts": 2582,
          "tags_string": "машинное обучение, machine learning, компьютеры, искусственный интеллект",
          "is_membership": false,
          "is_company": false,
          "flow": {
            "id": 1,
            "name": "Разработка",
            "alias": "develop",
            "url": "https:\/\/habr.com\/ru\/flows\/develop\/",
            "path": "\/flows\/develop\/"
          },
          "icon": "\/\/habrastorage.org\/getpro\/habr\/hub\/882\/37a\/b33\/88237ab33b6f8acc090d443651c4f2f9.png",
          "path": "hub\/machine_learning\/"
        },
        {
          "id": 21922,
          "rating": 134.1833,
          "is_profiled": false,
          "title": "Искусственный интеллект",
          "alias": "artificial_intelligence",
          "about_small": "AI, ANN и иные формы искусственного разума",
          "about": "Искусственный интеллект: как он есть и каким он должен быть.\r\nПо определению, к задачам искусственного интеллекта относятся все задачи, не имеющие точного алгоритмического решения.\r\nВот и давайте поговорим про нейронные сети, генетические алгоритмы, задачи принятия решений, диагностики, распознавание образов, речи, изображений, видео.\r\nБольше умных сервисов!",
          "count_subscribers": 108428,
          "count_posts": 2151,
          "tags_string": "искусственный интеллект, artificial intelligence, ИИ, АИ, искусственный разум",
          "is_membership": false,
          "is_company": false,
          "flow": {
            "id": 7,
            "name": "Научпоп",
            "alias": "popsci",
            "url": "https:\/\/habr.com\/ru\/flows\/popsci\/",
            "path": "\/flows\/popsci\/"
          },
          "icon": "\/\/habrastorage.org\/getpro\/geektimes\/hub\/445\/6b9\/287\/4456b92870815e30ca14f4f66b6cb443.png",
          "path": "hub\/artificial_intelligence\/"
        }
      ],
      "flows": [
        {
          "id": 1,
          "name": "Разработка",
          "alias": "develop",
          "url": "https:\/\/habr.com\/ru\/flows\/develop\/",
          "path": "\/flows\/develop\/"
        },
        {
          "id": 7,
          "name": "Научпоп",
          "alias": "popsci",
          "url": "https:\/\/habr.com\/ru\/flows\/popsci\/",
          "path": "\/flows\/popsci\/"
        }
      ],
      "is_recovery_mode": false,
      "reading_count": 520,
      "metadata": {
        "meta_image": ""
      },
      "path": "\/company\/smartengines\/blog\/498092\/",
      "full_url": "https:\/\/habr.com\/ru\/company\/smartengines\/blog\/498092\/",
      "author": {
        "id": 948186,
        "login": "SmartEngines",
        "time_registered": "2015-02-28T23:59:30+03:00",
        "score": 49,
        "fullname": null,
        "specializm": "Пользователь",
        "sex": 0,
        "rating": 66.6,
        "vote": 0,
        "contacts": [],
        "rating_position": 0,
        "path": "\/users\/smartengines\/",
        "geo": {
          "country": null,
          "region": null,
          "city": null
        },
        "counters": {
          "posts": 48,
          "comments": 157,
          "followed": 1,
          "followers": 67,
          "favorites": 21
        },
        "badges": [
          {
            "id": 1,
            "title": "Захабренный",
            "alias": "habred",
            "description": "Пользователь с кармой \u003E0",
            "url": null,
            "is_removable": false,
            "is_disabled": false
          }
        ],
        "avatar": "https:\/\/habrastorage.org\/getpro\/habr\/avatars\/6f9\/109\/ce5\/6f9109ce57a913501a91c65a04740f59.png",
        "is_readonly": false,
        "is_rc": false,
        "is_subscribed": false,
        "common_tags": [],
        "is_can_vote": true
      },
      "has_polls": false,
      "url": "https:\/\/habr.com\/ru\/company\/smartengines\/blog\/498092\/",
      "post_type": 1,
      "post_type_str": "simple",
      "vote": null,
      "is_can_vote": true,
      "voting": {
        "score": 3,
        "voteCount": {
          "total": 3,
          "positive": 3,
          "negative": 0
        },
        "vote": null,
        "reasonMap": null
      },
      "is_habred": true,
      "is_interesting": false,
      "is_favorite": false,
      "comments_new": null
    }
  ],
  "server_time": "2020-04-21T14:36:18+03:00"
}